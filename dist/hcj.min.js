function waitForWebfonts(n,t,e){if(n.length===0){t();return}e=e||10*1e3;var r=(new Date).getTime();var i=0;var a=false;for(var u=0,o=n.length;u<o;++u){(function(u){var o=document.createElement("div");o.style.position="absolute";o.style.width=0;document.body.appendChild(o);var c=document.createElement("span");var f=$(c);if(u==="FontAwesome"){c.innerHTML='<i class="fa-facebook-square"></i>'}else{c.innerHTML=" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~"}c.style.position="absolute";c.style.left="-10000px";c.style.top="-10000px";c.style.fontSize="300px";c.style.fontVariant="normal";c.style.fontStyle="normal";c.style.fontWeight="normal";c.style.letterSpacing="0";o.appendChild(c);var s=f.outerWidth();if(u==="FontAwesome"){c.innerHTML='<i class="fa fa-facebook-square"></i>'}else{c.style.fontFamily=u}var l;function h(){if(c&&((new Date).getTime()-r>e||f.outerWidth()!=s)){++i;c.parentNode.removeChild(c);c=null;if(l){clearInterval(l)}}if(i>=n.length){if(i==n.length){if(!a){t()}a=true;return true}}}setTimeout(function(){if(!h()){l=setInterval(h,50)}})})(n[u])}}(function(){var n=function(n,t){t=t||function(n){return $.type(n)==="array"||$.type(n)==="function"};return function(){var e=Array.prototype.slice.call(arguments);var r=!t(e[0]);if(e.length-(r?1:0)>0){var i=[];if(r){i=e.splice(0,1)}return n.apply(null,i).apply(null,e)}var a=e[0];return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[a]).apply(null,t)}}};var t=function(n){return!n||n.l||n.r||n.m};var e=function(n){return!n||n.t||n.b||n.m};var r=function(n,t){if(!t){return function(t){for(var e in n){if(n.hasOwnProperty(e)&&t.hasOwnProperty(e)){if(!$.isFunction(n[e])){return n[e]}return n[e](t[e])}}}}for(var e in n){if(n.hasOwnProperty(e)&&t.hasOwnProperty(e)){if(!$.isFunction(n[e])){return n[e]}return n[e](t[e])}}};var i=function(n){return function(t){return t(n)}};var a=function(n){return function(t){return n}};var u=function(n,t){t=t||1;return function(){var e=Array.prototype.slice.call(arguments);var r=[null];if(e.length>t){r=e.splice(0,1)}return n.apply(null,r).apply(null,e)}};var o=function(n){return n};var c=function(n,t){return n+t};var f=function(n,t){return n-t};var s=function(n,t){return Math.max(n,t)};var l=function(n,t){return Math.min(n,t)};var h=function(n){n=n||setTimeout;var t=[];var e=false;var r=function(e){n(function(){if(t.length===0){e()}else{r(e)}})};var i=null;var a={next:function(r){t.push(r);if(e===false){e=true;n(function(){e=false;var n=t;t=[];n.map(function(n){n()})})}return a},childContext:function(){i=i||h(r);return i},defer:function(n){var t=a.childContext();t.next(n);return t}};return a};var v=h();var p={create:function(n){return{listeners:[],lastValue:n}},next:v.next,defer:v.defer,isStream:function(n){return n&&n.hasOwnProperty("listeners")&&n.hasOwnProperty("lastValue")},once:function(n){return p.create(n)},push:function(n,t){if(n.lastValue!==t){n.lastValue=t;for(var e=0;e<n.listeners.length;e++){if(n.listeners[e]){n.listeners[e](t)}}}},map:function(n,t){var e=p.create();if(n.lastValue!==undefined){p.push(e,t(n.lastValue))}n.listeners.push(function(n){p.push(e,t(n))});return e},reduce:function(n,t,e){var r=p.once(e);if(n.lastValue!==undefined){p.push(r,t(r.lastValue,n.lastValue))}p.map(n,function(n){p.push(r,t(r.lastValue,n))});return r},filter:function(n,t){var e=p.create();n.listeners.push(function(n){if(t(n)){p.push(e,n)}});return p},onValue:function(n,t){n.listeners.push(function(n){t(n)});if(n.lastValue){t(n.lastValue)}var e=n.listeners.length-1;return function(){delete n.listeners[e]}},promise:function(n){var t=$.Deferred();p.map(n,function(n){t.resolve(n)});return t.promise},prop:function(n,t){return p.map(n,function(n){return n[t]})},delay:function(n,t){var e=p.create();p.map(n,function(n){setTimeout(function(){p.push(e,n)},t)});return e},debounce:function(n,t){var e=p.create();var r=0;var i=false;p.map(n,function(a){if(!i){i=true;var u=(new Date).getTime();setTimeout(function(){i=false;p.push(e,n.lastValue);r=Math.max(r+t,u)},Math.max(0,r+t-u))}});return e},pushAll:function(n,t){if(n.lastValue!==undefined){p.push(t,n.lastValue)}p.onValue(n,function(n){p.push(t,n)})},clone:function(n){var t=p.create();p.pushAll(n,t);return t},combine:function(n,t){var e=[];var r=p.create();var i=false;var a=function(){if(!i){i=true;v.next(function(){i=false;for(var a=0;a<n.length;a++){if(e[a]===undefined){return}}p.push(r,t.apply(null,e))})}};n.reduce(function(n,t){if(t.lastValue!==undefined){e[n]=t.lastValue;a()}p.onValue(t,function(t){e[n]=t;a()});return n+1},0);return r},combineInto:function(n,t,e){var r=[];var i=false;var a=function(){if(!i){i=true;v.next(function(){i=false;for(var a=0;a<n.length;a++){if(r[a]===undefined){return}}p.push(e,t.apply(null,r))})}};n.reduce(function(n,t){if(t.lastValue!==undefined){r[n]=t.lastValue;a()}p.onValue(t,function(t){r[n]=t;a()});return n+1},0)},all:function(n,t){return p.combine(n,function(){return Array.prototype.slice.call(arguments)})},combineObject:function(n){var t=Object.keys(n);var e={};var r=p.create();var i=false;var a=function(){if(!i){i=true;v.next(function(){i=false;for(var n=0;n<t.length;n++){var a=t[n];if(e[a]===undefined){return}}p.push(r,$.extend({},e))})}};t.map(function(t,r){p.onValue(n[t],function(n){e[t]=n;a()})});return r},splitObject:function(n){var t=Object.keys(n);var e={};t.map(function(t){e[t]=p.once(n[t])});return e},fromEvent:function(n,t){var e=p.create();n.on("event",function(n){p.push(e,n)});return e},fromPromise:function(n,t){var e=p.create();if(t){p.push(e,t)}n.then(function(n){p.push(e,n)});return e},cases:function(n,t){n.push(t);return p.combine(n,function(){var n=Array.prototype.slice.call(arguments);var t=n.pop();return n[t]})}};var d=function(n){return function(t){return t+n}};var m=d("px");var g=d("vw");var w=p.once(0);var b=p.once(a(0));var y=p.create();p.windowWidth=y;var H=p.create();p.windowHeight=H;var W=function(){p.push(y,window.innerWidth)};var x=function(){p.push(H,window.innerHeight)};$(W);$(x);$(window).on("resize",function(){W();x()});var C=p.once(null,true);$(window).on("resize",function(n){p.push(C,n)});var S=p.create(true);$(window).on("scroll",function(){p.push(S,window.scrollY)});p.push(S,window.scrollY);var M=p.create(true);$(window).on("hashchange",function(){p.push(M,location.pathname)});p.push(M,location.pathname);var T=p.once(false);var k=[];var V=[];var O=[];var A=[];var F=function(){for(var n=0;n<k.length;n++){k[n][V[n]](O[n],A[n])}k=[];V=[];O=[];A=[]};var P=function(n,t,e,r){if(k.length===0){p.defer(F)}k.push(n);V.push(t);O.push(e);A.push(r)};var z=document.createElement("canvas");var R=$(z);var L=z.getContext("2d");var N=document.createElement("div");var I=function(n){N.innerHTML=n;return N.childNodes.length===0?"":N.childNodes[0].nodeValue};var D=function(n,t){if(t){L.font=t}return L.measureText(n).width};var E=function(n,t){var e={};var r=n;r.map(function(n){n.originalWords=n.words});return function(i){n=r.slice(0);var a=0;var u=0;var o=0;if(n.length===0){return 0}var c=n[0];L.font=c.font;c.words=c.originalWords.slice(0);while(n.length>0){var f=c.words[0]+(n.length>1||c.words.length>1?" ":"");var s=D(f);if(s+u>i){a+=o;u=0;o=0}u+=s;o=Math.max(o,parseInt(c.size));c.words.splice(0,1);if(c.words.length===0){n.splice(0,1);if(n.length>0){c=n[0];c.words=c.words.slice(0);L.font=c.font}}}var l=(a+o)*(t||1);e[i]=l;return l}};var j=function(n){var t=$(".sandbox");var e=n.clone();e.css("width","").css("height","").css("position","absolute").css("display","inline-block").appendTo(t);var r=e.outerWidth(true);e.remove();return r};var B=function(n){var t={};return function(e){if(t[e]){return t[e]}var r=$(".sandbox");var i=n.clone();i.css("width",m(e)).css("height","").appendTo(r);var a=i.outerHeight(true);t[e]=a;i.remove();return a}};var q=function(n,t,e){var r=$(document.createElement(n)).appendTo(e.$el);var i={$el:r};var a=t(r,e,function(n){var t=j(r,n);if(i.minWidth){p.push(i.minWidth,t)}else{i.initialMinWidth=t}},function(n){var t=B(r,n);if(i.minHeight){p.push(i.minHeight,t)}else{i.initialMinHeight=t}})||{};i.minWidth=a.minWidth||p.create();i.minHeight=a.minHeight||p.create();if(i.hasOwnProperty("initialMinWidth")){p.push(i.minWidth,i.initialMinWidth)}if(i.hasOwnProperty("initialMinHeight")){p.push(i.minHeight,i.initialMinHeight)}i.remove=function(){if(a.onRemove){a.onRemove()}r.remove()};return i};var X=function(){var n,t;if(arguments.length>1){n=arguments[0];t=arguments[1]}else{n="div";t=arguments[0]}return function(e){return q(n,t,e)}};var Y=function(n){return function(t){return X(n,t)}};var U=Y("a");var _=Y("button");var J=Y("div");var G=Y("form");var K=Y("h1");var Z=Y("h2");var nn=Y("h3");var tn=Y("h4");var en=Y("h5");var rn=Y("h6");var an=Y("iframe");var un=Y("img");var on=Y("input");var cn=Y("label");var fn=Y("li");var sn=Y("option");var ln=Y("p");var hn=Y("pre");var vn=Y("select");var pn=Y("textarea");var dn=Y("ul");var mn=function(){var n,t,e;if(e===undefined){n=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body");t=n.children();e=t.innerWidth()-t.height(99).innerWidth();n.remove()}return e};var gn=function(n){return n&&p.map(n,m)};var wn=function(n){return n&&p.map(n,function(n){return"calc("+n+")"})};var bn=function(n,t,e,r,i,a){i=i||{};try{i.$el=i.$el||t;i.width=i.width||e.width;i.height=i.height||e.height;i.top=i.top||w;i.left=i.left||w;i.topOffset=p.combine([e.topOffset,e.top],c);i.leftOffset=p.combine([e.leftOffset,e.left],c);var u=r(i);n.push(u);if(!u||!u.minWidth||!u.minHeight){console.log("not a component");debugger}u.$el.css("position","absolute");if(!a){p.onValue(i.widthCalc?wn(i.widthCalc):gn(i.width),function(n){P(u.$el,"css","width",n)});p.onValue(i.heightCalc?wn(i.heightCalc):gn(i.height),function(n){P(u.$el,"css","height",n)});p.onValue(i.topCalc?wn(i.topCalc):gn(i.top),function(n){P(u.$el,"css","top",n)});p.onValue(i.leftCalc?wn(i.leftCalc):gn(i.left),function(n){P(u.$el,"css","left",n)})}return u}catch(n){debugger}};var yn=function(n,t,e,r){if($.isArray(r)){return r.map(function(r){return yn(n,t,e,r)})}if(!$.isFunction(r)){console.log("cs is not a function");debugger}return function(i,a){return bn(n,t,e,r,i,a)}};var Hn=function(n,t){var e=t?n:"div";var r=t||n;return function(){var n=Array.prototype.slice.call(arguments);return X(e,function(t,e){var i=[];t.css("position","absolute").css("pointer-events","none").css("overflow","hidden");var a=r.apply(null,[t,e].concat(yn(i,t,e,n)));return{$el:a.$el,minWidth:a.minWidth,minHeight:a.minHeight,remove:function(){i.map(function(n){return n.remove()});a.remove()}}})}};var Wn=function(n,t){var e=t?n:"div";var r=t||n;return X(e,function(n,t){var e=[];n.css("position","absolute").css("pointer-events","none").css("overflow","hidden");var i=r(n,t,function(r,i,a){return bn(e,n,t,r,i,a)});return{$el:i.$el,minWidth:i.minWidth,minHeight:i.minHeight,remove:function(){e.map(function(n){return n.remove()});i.remove()}}})};var xn=function(n){return function(t){return n.reduce(function(n,t){return t(n)},t)}};var Cn=Hn(function(n,t,e){var r=e();p.combine([t.widthCalc?wn(t.widthCalc):gn(t.width),t.heightCalc?wn(t.heightCalc):gn(t.height),t.topCalc?wn(t.topCalc):gn(t.top),t.leftCalc?wn(t.leftCalc):gn(t.left)],function(n,t,e,i){p.push(T,true);P($("body"),"css","height","auto");P(r.$el,"css","width",n);P(r.$el,"css","height",t);P(r.$el,"css","top",e);P(r.$el,"css","left",i)});return r});var $n=function(){if($(".sandbox").length>0){return}$(document.createElement("div")).addClass("sandbox").css("z-index",-1).appendTo($("body"))};var Sn=0;var Mn=function(n,t){t=t||{};$n();var e=mn();var r=p.create();var i=p.create();var a=p.create();p.combine([y,H,a],function(n,t,a){var u=a(n);var o=a(n-e);if(u>t){if(o>t){$("body").css("overflow-y","initial");p.push(r,n-e);p.push(i,o)}else{$("body").css("overflow-y","scroll");p.push(r,n-e);p.push(i,o)}}else{$("body").css("overflow-y","initial");p.push(r,n);p.push(i,u)}});var u=Cn(n)({$el:$("body"),width:r,height:i,top:w,left:w,topOffset:w,leftOffset:w});u.$el.css("position","relative").css("top","0px").css("left","0px").css("background-color",t.noBackground?"":"white").addClass("root-component").addClass("root-component-"+Sn);Sn+=1;var o=u.$el.css("height");p.pushAll(u.minHeight,a);p.combine([r,i],function(n,t){u.$el.css("width",m(n)).css("height",m(t))});return u};var Tn=function(n){n=n||{};return{r:n.hasOwnProperty("r")?n.r:1,g:n.hasOwnProperty("g")?n.g:1,b:n.hasOwnProperty("b")?n.b:1,a:n.hasOwnProperty("a")?n.a:1}};var kn=function(n){return n&&n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")&&n.hasOwnProperty("a")};var Vn=function(n){return function(t){return{r:Math.min(255,t.r*n),g:Math.min(255,t.g*n),b:Math.min(255,t.b*n),a:t.a}}};var On=function(n){return function(t){var e=(t.r+t.g+t.b)/3;var r=1-n;return{r:r*t.r+n*e,g:r*t.g+n*e,b:r*t.b+n*e,a:t.a}}};var An=function(n){return(n.r+n.g+n.b)/(255+255+255)};var Fn=function(n){return"rgba("+Math.floor(n.r)+","+Math.floor(n.g)+","+Math.floor(n.b)+","+n.a+")"};var Pn=function(n){return"rgb("+Math.floor(n.r)+","+Math.floor(n.g)+","+Math.floor(n.b)+")"};var zn=Tn({a:0});var Rn=Tn({r:0,g:0,b:0});var Ln=Tn({r:255,g:255,b:255});var Nn=function(n,t){return p.all(n.map(function(n){return n.minWidth}))};var In=function(n,t){return p.all(n.map(function(n){return n.minHeight}))};var Dn=function(n){return'url("'+n+'")'};var En=function(n){return function(t){return function(e){var r=t(e);n(r,e);return r}}};var jn=function(n){return En(function(t,e){return n(t.$el,e)})};var Bn=function(n){return function(){var t=Array.prototype.slice.call(arguments);return jn(function(e){e[n].apply(e,t)})}};var qn=Bn("addClass");var Xn=Bn("attr");var Yn=Bn("css");var Un=Bn("on");var _n=Bn("prop");var Jn=function(n,t){return p.pushAll(t.minWidth,n.width)};var Qn=function(n,t){return p.combineInto([n.width,t.minHeight],function(n,t){return t(n)},n.height)};var Gn=function(n){return Hn(function(t,e,r){t.addClass("minWidth");var i=r();return{minWidth:p.once(n),minHeight:i.minHeight}})};var Kn=function(n){return Hn(function(t,e,r){t.addClass("minHeight");var i=r();return{minWidth:i.minWidth,minHeight:p.once(a(n))}})};var Zn=function(n,t){return Hn(function(e,r,i){e.addClass("withDimensions");var u=i();return{minWidth:p.once(n),minHeight:p.once(a(t))}})};var nt=function(n,t){return Hn(t||"div",function(t,e,r){t.addClass("passthrough");if(n){n(t)}return r()})};var tt=function(n){return nt(null,n)};var et=function(n,t){n=n||{};t=t||{};return Hn(function(e,r,i){r=$.extend({},r,{$el:e,top:w,left:w,width:t.width?p.map(r.width,function(n){return t.width(n,e.children())}):r.width,height:t.height?p.map(r.height,function(n){return t.height(n,e.children())}):r.height,widthCalc:r.widthCalc&&(t.widthCalc?p.map(r.widthCalc,function(n){return t.widthCalc(n,e.children())}):r.widthCalc),heightCalc:r.heightCalc&&(t.heightCalc?p.map(r.heightCalc,function(n){return t.heightCalc(n,e.children())}):r.heightCalc)});var a=i(r);return $.extend({},a,{minWidth:n.minWidth?p.map(a.minWidth,function(t){return n.minWidth(t,e.children())}):a.minWidth,minHeight:n.minHeight?p.map(a.minHeight,function(t){return n.minHeight(t,e.children())}):a.minHeight})})};var rt=n(function(n){return Hn(function(t,e,r){var i=r();return{minWidth:p.map(i.minWidth,function(t){return n.mw(t)}),minHeight:p.map(i.minHeight,function(t){return n.mh(t)})}})});var it=xn([Yn("cursor","pointer"),Yn("pointer-events","initial")]);var at=function(n){return function(t){return Un(n,t)}};var ut=at("change");var ot=at("click");var ct=at("input propertychange");var ft=at("keydown");var st=at("keyup");var lt=at("mousedown");var ht=at("mousemove");var vt=at("mouseover");var pt=at("mouseout");var dt=at("mouseup");var mt=at("submit");var gt=function(n,t){return ot(function(e){p.push(n,t(e))})};var wt=function(n){return nt(function(t){n(false,t);t.on("mouseover",function(e){n(true,t,e)});t.on("mouseout",function(e){n(false,t,e)})})};var bt=function(n,t){t=t||function(n){return n};return jn(function(e){e.css("pointer-events","initial");e.on("mouseover",function(e){p.push(n,t(e))});e.on("mouseout",function(e){p.push(n,t(false))})})};var yt=function(n,t){return nt(function(e){p.map(t,function(t){e.css(n,t)})})};var Ht=function(n,t,e,r){if(kn(n)){n={background:n,font:t,backgroundHover:e,fontHover:r}}n=n||{};if(p.isStream(n.background)||p.isStream(n.font)||p.isStream(n.backgroundHover)||p.isStream(n.fontHover)){if(n.background&&!p.isStream(n.background)){n.background=p.once(n.background)}if(n.font&&!p.isStream(n.font)){n.font=p.once(n.font)}if(n.backgroundHover&&!p.isStream(n.backgroundHover)){n.backgroundHover=p.once(n.backgroundHover)}if(n.fontHover&&!p.isStream(n.fontHover)){n.fontHover=p.once(n.fontHover)}n=p.combineObject(n)}if(!p.isStream(n)){n=p.once(n)}return jn(function(t){var e,r,i,a,u=false;var o=function(){var n=u?i||e:e;var o=u?a||r:r;if(n){t.css("background-color",Fn(n))}if(o){t.css("color",Fn(o))}};p.map(n,function(n){e=n.background;r=n.font;i=n.backgroundHover||e;a=n.fontHover||r;o()});t.on("mouseover",function(){u=true;o()});t.on("mouseout",function(){u=false;o()})})};var Wt=function(n){var t=n.all||0,e=n.all||0,r=n.all||0,i=n.all||0;if($.isNumeric(n)){t=e=r=i=n}else{for(var a in n){var u=a.toLowerCase();if(n[a]!==null){if(u.indexOf("top")!==-1){t=n[a]}if(u.indexOf("bottom")!==-1){e=n[a]}if(u.indexOf("left")!==-1){r=n[a]}if(u.indexOf("right")!==-1){i=n[a]}}}}return Hn(function(n,a,u){n.addClass("crop");n.css("overflow","hidden");var o=p.create();var c=u({top:p.prop(o,"top"),left:p.prop(o,"left"),width:p.prop(o,"width"),height:p.prop(o,"height")});var f=p.create();var s=p.create();p.combineInto([c.minWidth,c.minHeight,a.width,a.height],function(n,a,u,o){var c=u/(1-r-i);var f=o/(1-t-e);return{top:-t*f,left:-r*c,width:c,height:f}},o);p.combine([c.minWidth,c.minHeight],function(n,a){p.push(f,n*(1-r-i));p.push(s,function(u){return a(n/(1-r-i))*(1-t-e)})});return{minWidth:f,minHeight:s}})};var xt=function(n,t){return t===0?1:n/t};var Ct=n(function(n){n=n||{};return Hn(function(t,e,r){t.addClass("keepAspectRatio");t.css("overflow","hidden");var i=p.create();var a=r({top:p.prop(i,"top"),left:p.prop(i,"left"),width:p.prop(i,"width"),height:p.prop(i,"height")});p.combineInto([a.minWidth,a.minHeight,e.width,e.height],function(t,e,r,i){var a=xt(t,e(t));var u=xt(r,i);if(!n.fill&&u>a||n.fill&&u<a){var o=i*a;var c;if(n.left){c=0}else if(n.right){c=r-o}else{c=(r-o)/2}return{top:0,left:c,width:o,height:i}}else{var f=r/a;var s;if(n.top){s=0}else if(n.bottom){s=i-f}else{s=(i-f)/2}return{top:s,left:0,width:r,height:f}}},i);var u=p.create();var o=p.create();p.combine([a.minWidth,a.minHeight],function(t,e){if(n.minWidth){p.push(u,n.minWidth)}else if(n.minHeight){var r=xt(t,e(t));p.push(u,n.minHeight*r)}else{p.push(u,t)}p.push(o,function(n){return n/xt(n,e(t))})});return{minWidth:u,minHeight:o}})});var $t=function(n){var t=p.isStream(n.src)?n.src:p.once(n.src);return un(function(e,r){var i=p.create();var a=p.create();if(t.lastValue){e.prop("src",t.lastValue)}e.prop("alt",n.alt);p.map(t,function(n){P(e,"prop","src",n)});e.on("load",function(){var t=e[0].naturalWidth/e[0].naturalHeight;var r=n.hasOwnProperty("minWidth")&&n.minWidth||n.hasOwnProperty("minHeight")&&n.minHeight&&n.minHeight*t||e[0].naturalWidth;if(n.minWidth===0||n.minHeight===0){r=0}p.push(i,r);p.push(a,function(n){return n/t})});return{minWidth:i,minHeight:a}})};var St=n(function(n){if($.type(n)==="string"){n={href:n}}return Hn("a",function(t,e,r){t.prop("href",n.href);t.css("pointer-events","initial");if(n.target){t.prop("target",n.target)}if(!n.defaultStyle){t.addClass("no-style")}return r()})});var Mt=function(n){return X(n,function(n,t){n.addClass("empty");return{minWidth:w,minHeight:b}})};var Tt=Mt("div");var kt=p.once(300);var Vt=n(function(n){return function(t,e){t=t||"";if(!$.isArray(t)){t=[t]}n=n||e||{};if($.isArray(n)){n=n.reduce($.extend,{})}n.lineHeight=n.lineHeight||1;return(n.el||J)(function(e,r){var i=false;var u=n.minWidth||n.measureWidth?p.create():kt;var o=p.create();var c=[];e.addClass("text");t.map(function(r,i){if($.type(r)==="string"){r={str:r};t[i]=r}if(r.font){r=$.extend(r,r.font)}if(r.fonts){r.fonts.map(function(n){r=$.extend(r,n)})}var a=$(document.createElement("span"));var u=function(n){if(i===0){n=" "+n}if(i===t.length-1){n=n+" "}a.html(n);r.words=n.split(" ")};if(p.isStream(r.str)){c.push(p.map(r.str,function(n){u(n)}))}else{u(r.str)}r.size=r.size||n.size;var o="normal";var f="normal";var s=r.weight||n.weight||"normal";var l=r.size||n.size||parseInt(e.css("font-size"));var h=r.lineHeight||n.lineHeight||e.css("line-height");var v=r.family||n.family||"initial";r.font=[o,f,s,l+"px/"+h,v].join(" ");if(r.size){if(p.isStream(r.size)){c.push(p.map(r.size,function(n){a.css("font-size",n)}))}else{a.css("font-size",r.size)}}if(r.weight){if(p.isStream(r.weight)){c.push(p.map(r.weight,function(n){a.css("font-weight",r.x)}))}else{a.css("font-weight",r.weight)}}if(r.family){if(p.isStream(r.family)){c.push(p.map(r.family,function(n){a.css("font-family",r.x)}))}else{a.css("font-family",r.family)}}if(r.color){if(p.isStream(r.color)){c.push(p.map(r.color,function(n){a.css("color",Fn(n))}))}else{a.css("color",Fn(r.color))}}if(r.shadow){if(p.isStream(r.shadow)){c.push(p.map(r.shadow,function(n){a.css("text-shadow",r.x)}))}else{a.css("text-shadow",r.shadow)}}if(r.align){if(p.isStream(r.align)){c.push(p.map(r.align,function(n){a.css("vertical-align",r.x)}))}else{a.css("vertical-align",r.align)}}if(r.spanCSS){r.spanCSS.map(function(n){a.css(n.name,n.value)})}if(r.linkTo){var d=$(document.createElement("a"));d.prop("href",r.linkTo).appendTo(e);a.appendTo(d)}else{a.appendTo(e)}});var f=true;var s=function(){p.next(function(){var t=n.minWidth||n.measureWidth&&j(e)||null;var r=n.oneLine&&e.css("line-height").indexOf("px")!==-1&&a(parseFloat(e.css("line-height")))||function(t){var r=n.size||parseInt(e.css("font-size"));var i=e.text();var a=n.lineHeight;return Math.ceil(r*i.length*.5/t)*r*n.lineHeight};if(!n.oneLine){p.defer(function(){var t=n.minHeight&&a(n.minHeight)||B(e);p.push(o,t)})}if(t!==null){p.push(u,t)}if(n.oneLine||n.approximateHeight){p.push(o,r)}f=false})};if(c.length>0){p.combine(c,function(){s()})}if(n.size){if(p.isStream(n.size)){p.map(n.size,function(n){e.css("font-size",n);s()})}else{e.css("font-size",n.size)}}if(n.weight){if(p.isStream(n.weight)){p.map(n.weight,function(n){e.css("font-weight",n);s()})}else{e.css("font-weight",n.weight)}}if(n.family){if(p.isStream(n.family)){p.map(n.family,function(n){e.css("font-family",n);s()})}else{e.css("font-family",n.family)}}if(n.color){if(p.isStream(n.color)){p.map(n.color,function(n){e.css("color",Fn(n));s()})}else{e.css("color",Fn(n.color))}}if(n.shadow){if(p.isStream(n.shadow)){p.map(n.shadow,function(n){e.css("text-shadow",n);s()})}else{e.css("text-shadow",n.shadow)}}if(n.align){if(p.isStream(n.align)){p.map(n.align,function(n){e.css("text-align",n);s()})}else{e.css("text-align",n.align)}}s();return{minWidth:u,minHeight:o}})}},function(n){if($.isArray(n)){n=n[0]}return $.type(n)==="string"||n&&n.hasOwnProperty("str")});var Ot=function(n,t){return t};var At=function(n,t){return t};var Ft=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.left+=r/2});return t};var Pt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.width+=i;n.left+=t*i});return t};var zt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.left+=(t+.5)*i});return t};var Rt=function(){var n=0;return function(t,e,r,i){if(i===0){e=Pt(t,e);n=e[0].width;return e}else{e.map(function(t,e){t.width=n;t.left=n*e});return Ft(t,e)}}};var Lt=function(){var n=0;return function(t,e,r){if(r===0){e=Ft(t,e);n=e[0].left;return e}else{e.map(function(t,e){t.left+=n});return e}}};var Nt=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);var a=t/Math.max(n,e.length);e.map(function(n,t){n.width=a;n.left=t*a});r=e[e.length-1];i=t-(r.left+r.width);a=i/e.length;e.map(function(n,t){n.left+=i/2});return e}};var It=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);t.map(function(n,e){for(var i=0;i<e;i++){n.left+=r/(t.length-1)}});return t};var Dt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);t.map(function(n,e){n.left+=e*r/t.length+r/(2*t.length)});return t};var Et=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);e.map(function(t,e){t.left+=n*i});return e}};var jt=Et(0);var Bt=Et(.5);var qt=Et(1);var Xt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);if(t.length===1){if(r<t[0].width){return Pt(n,t)}else{return t}}if(t.length===2){return Dt(n,t)}return It(n,t)};var Yt=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);e.map(function(t,r){if(r===n||r===e.length-1&&n>=e.length){t.width+=i}else if(r>n){t.left+=i}});return e}};var Ut=Yt(0);var _t=Yt(1);var Jt=Yt(2);var Qt=function(n,t){var e=t[t.length-1];var r=n-(e.top+e.height);t.map(function(n,t){n.top+=r/2});return t};var Gt=function(n,t){var e=t[t.length-1];var r=n-(e.top+e.height);var i=r/t.length;t.map(function(n,t){n.height+=i;n.top+=t*i});return t};var Kt=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.top+r.height);e.map(function(t,r){if(r===n||r===e.length-1&&n>=e.length){t.height+=i}else if(r>n){t.top+=i}});return e}};var Zt=function(n,t){var e=t.length-1;var r=t[t.length-1];var i=n-(r.top+r.height);t.map(function(n,r){if(r===e||r===t.length-1&&e>=t.length){n.height+=i}else if(r>e){n.top+=i}});return t};var ne=n(function(n){n.padding=n.padding||0;n.transitionTime=n.transitionTime||0;return Hn(function(t,e,r){t.css("overflow","hidden");t.addClass("slideshow");var i=r.concat(r).concat(r).map(function(){return{left:p.create()}});var u=r.concat(r).concat(r).map(function(n,t){return n(i[t])});var o=[0,1,2];var f=function(n){return m(Math.floor((n+r.length)/r.length),3)};var l=Nn(u);var h=In(u);var v=function(t,e,i,a,u){return i.map(function(i,a){var c=Math.floor(a/r.length);var f=o.indexOf(c);var s=m(a,r.length)-m(t,r.length);return{left:(s+(f-1)*r.length)*(e+n.padding),warp:f===u}})};var d=function(t,e,r,a){t.map(function(t,e){var r=i[e];u[e].$el.css("transition",t.warp?"":"left ease "+n.transitionTime+"s");p.push(r.left,t.left)});a&&setTimeout(function(){a()},500)};var m=function(n,t){return(n%t+t)%t};var g=p.reduce(n.moveS,function(n,t){return n+t.amount},0);var w=p.combine([g,e.width,l,h],function(n,t,e,i){var u=m(n,r.length);var c=f(n);var l=o.indexOf(c);var h;switch(l){case 0:o=[o[2],o[0],o[1]];h=v(u+r.length,t,e,i,0);d(h,u+r.length);break;case 1:h=v(u+r.length,t,e,i);d(h,u+r.length);break;case 2:o=[o[1],o[2],o[0]];h=v(u+r.length,t,e,i,2);d(h,u+r.length);break}return a(i.map(function(n,e){return n(t)}).reduce(s,0))});p.push(w,a(0));return{minWidth:p.map(l,function(t){return t.reduce(c,n.padding*(u.length-1))}),minHeight:w}})});var te=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusWidthFunc=n.surplusWidthFunc||Ot;return Hn(function(t,e,r){t.addClass("sideBySide");if(r.length===0){return{minWidth:w,minHeight:b}}var i=[];var a=r.map(function(n){var t={left:p.create(),width:p.create()};i.push(t);return n(t)});var u=Nn(a,e);var o=In(a,e);var f=[o];var l=function(t,e){var r=0;var i=e.map(function(e,i){var a=Math.min(t,e);var u={left:r+n.padding*i,width:a};r+=a;return u});i=n.surplusWidthFunc(t,i);return i};p.combine([e.width,u,o,n.sourcePositionsS||p.once([])],function(t,e,r,a){var u=l(t,e);if(n.targetPositionsS){p.push(n.targetPositionsS,u)}a.map(function(n,t){u[t]=n});u.map(function(n,t){var e=i[t];p.push(e.left,n.left);p.push(e.width,n.width)})});return{minWidth:p.map(u,function(t){return t.reduce(c,n.padding*(a.length-1))}),minHeight:p.combine([u,o],function(n,t){return function(e){var r=l(e,n);return r.map(function(n,e){return t[e](r[e].width)}).reduce(s,0)}})}})});var ee=n(function(n){n=n||{};n.top=n.top||50;n.transition=n.transition||"1s";return Hn(function(t,e,r){var i={top:p.create()};var a=r(i);a.$el.css("transition","top "+n.transition);var u=false;p.push(i.top,n.top);p.combine([e.topOffset,e.top,H,S,T],function(n,t,e,r,a){if(!u&&a){var o=n+t;var c=r+e;if(o<=c){p.push(i.top,0);u=true}}});return{minWidth:a.minWidth,minHeight:a.minHeight}})});var re=n(function(n){n=n||{};n.transition=n.transition||"1s";n.margin=n.margin||0;return Hn(function(t,e,r){var i=r();var a=false;i.$el.css("opacity",0);setTimeout(function(){i.$el.css("transition","opacity "+n.transition)});p.combine([e.topOffset,e.top,H,S,T],function(t,e,r,u,o){if(!a&&o){var c=t+e;var f=u+r;if(c+n.margin<=f){i.$el.css("opacity",1);a=true}}});return{minWidth:i.minWidth,minHeight:i.minHeight}})});var ie=n(function(n,t){n=n||{};n.leftTransition=n.leftTransition||"0s";var e=p.once(false);var r={left:"left",right:"right"};var i=p.once({index:0,edge:"left"});var u=0;return Hn(function(t,r,o){t.addClass("slider").css("overflow-x","hidden").css("cursor","move");var f=p.create();var l=p.create();var h=p.combine([r.width,f,i,e],function(n,t,e,r){var i=e.edge==="left"?0:n;t.map(function(n,t){if(t<e.index){i-=n}if(e.edge==="right"&&t===e.index){i-=n}});if(r!==false){i+=r}return i});var v=p.combine([f,h],function(n,t){return n.reduce(function(n,t){n.arr.push(n.lastValue);n.lastValue+=t;return n},{arr:[],lastValue:t}).arr});var d=o.map(function(n,t){return{top:w,left:p.map(v,function(n){return n[t]}),width:p.create(),height:r.height}});var m=o.map(function(n,t){var e=n(d[t]);p.pushAll(e.minWidth,r.width);return e});p.pushAll(Nn(m,r),f);p.pushAll(In(m,r),l);var g=p.map(f,function(n){return n.reduce(c,0)});t.css("user-select","none");t.on("mousedown",function(n){n.preventDefault();p.push(e,0);m.map(function(n){n.$el.css("transition","left 0s")})});var b=function(t){m.map(function(t){t.$el.css("transition","left "+n.leftTransition)});var a=f.lastValue;var u=r.width.lastValue;var o=e.lastValue;if(!o){return}var c=h.lastValue;var s=a.reduce(function(n,t){var e=n[n.length-1];n.push(e-t);return n},[0]);var l=s.reduce(function(n,t,e){var r=Math.abs(t-c);var i=Math.abs(t-(c-u));return{left:r<n.left.distance?{distance:r,index:e}:n.left,right:i<n.right.distance?{distance:i,index:e-1}:n.right}},{left:{distance:Number.MAX_VALUE,index:-1},right:{distance:Number.MAX_VALUE,index:-1}});if(l.left.distance<=l.right.distance){p.push(i,{index:l.left.index,edge:"left"})}else{p.push(i,{index:l.right.index,edge:"right"})}p.push(e,false);t.preventDefault()};t.on("mouseup",b);t.on("mouseout",b);t.on("mousemove",function(n){var t=e.lastValue;var i=g.lastValue;var a=r.width.lastValue;var o=h.lastValue;if(t!==false){var c=n.clientX-u;var f=o+c;f=Math.min(0,f);if(i>a){f=Math.max(a-i,f)}c=f-o;t=t+c;p.push(e,t)}u=n.clientX});return{minWidth:p.map(f,function(n){return n.reduce(s,0)}),minHeight:p.combine([f,l],function(n,t){return a(t.map(function(t,e){return t(n[e])}).reduce(s,0))})}})});var ae=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusHeightFunc=n.surplusHeightFunc||At;n.collapsePadding=n.collapsePadding||false;n.transition=n.transition||0;return Hn(function(t,e,r){t.addClass("stack");if(r.length===0){return{minWidth:w,minHeight:b}}var a=[];var u=r.map(function(n){var t={widthCalc:p.once("100%"),top:p.create(),height:p.create()};a.push(t);return n(t)});if(n.transition){var o=n.transition+"s";u.map(function(n){n.$el.css("transition","height "+o+", top "+o)})}var f=Nn(u);var l=In(u);p.combine([e.width,e.height,l],function(t,e,r){var i=0;var u=r.map(function(e,r){var a={top:i,height:e(t)};var u=e(t);if(n.collapsePadding){if(u>0){i+=u+n.padding}}else{i+=u+n.padding}return a});u=n.surplusHeightFunc(e,u);u.map(function(n,t){var e=a[t];p.push(e.top,n.top);p.push(e.height,n.height)})});return{minWidth:p.map(f,function(n){return n.reduce(s,0)}),minHeight:p.map(l,function(t){return function(e){var r=t.map(i(e));return r.reduce(c,n.padding*(r.filter(function(t){return!n.collapsePadding||t>0}).length-1))}})}})});var ue=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusHeightFunc=n.surplusHeightFunc||At;n.transition=n.transition||0;return function(t){return Wn(function(e,u,o){var f=p.once(0);var l=p.once(a(0));var h=[];var v=[];var d=[];var m=[];var g=function(){var t=u.width.lastValue;var e=u.height.lastValue;var r=[];var a=[];v.map(function(n,t){r[t]=n.minWidth.lastValue;a[t]=n.minHeight.lastValue});if(!r.concat(a).reduce(function(n,t){return n&&t!==undefined},true)){return}p.push(f,r.reduce(s,0));p.push(l,function(t){return a.map(i(t)).reduce(c,n.padding*(v.length-1))});if(t===undefined){return}if(e===undefined){return}var o=0;var d=-1;var m=a.map(function(e){d+=1;var r={top:o+n.padding*d,height:e(t)};o+=e(t);return r});m=n.surplusHeightFunc(e,m);h.map(function(n,t){var e=m[t];p.push(n.top,e.top);p.push(n.height,e.height)});return true};p.onValue(u.width,g);p.onValue(u.height,g);var w=[];var b=-1;var y=function(n,t){for(var e=w.length;e>t;e--){w[e+1]=w[e];d[e+1]=d[e];m[e+1]=m[e];h[e+1]=h[e];v[e+1]=v[e]}b+=1;var r={top:p.create(),height:p.create()};var i=o(n,r);w[b]=n;d[b]=p.map(i.minWidth,g);m[b]=p.map(i.minHeight,g);h[b]=r;v[b]=i;return b};var H=function(n){var t=w.indexOf(n);v[t].remove();d[t]();m[t]();delete w[t];delete d[t];delete m[t];delete h[t];delete v[t];g()};p.onValue(t,function(n){r({insert:y,insertMany:function(n){n.map(y)},remove:H},n)});return{minWidth:f,minHeight:l}})}});var oe=n(function(n,t){n=n||{};n.indent=n.indent||10;return function(t){var e=p.once(true);return te()([Ce(p.map(e,function(n){})),ue(n)(p.map(t,r({expand:function(n,t){},collapse:function(n){}})))])}});var ce=function(n,t){var e=[];n.map(function(n){e.push(n);e.push(t)});e.pop();return e};var fe=function(n){var t=n.all||0,e=n.all||0,r=n.all||0,i=n.all||0;if($.isNumeric(n)){t=e=r=i=n}else{for(var a in n){var u=a.toLowerCase();if(n[a]!==null){if(u.indexOf("top")!==-1){t=n[a]||0}if(u.indexOf("bottom")!==-1){e=n[a]||0}if(u.indexOf("left")!==-1){r=n[a]||0}if(u.indexOf("right")!==-1){i=n[a]||0}}}}return Hn(function(n,a,u){n.addClass("margin");var o=u({top:p.once(t),left:p.once(r),width:p.map(a.width,function(n){return n-r-i}),height:p.map(a.height,function(n){return n-t-e}),widthCalc:p.once("100% - "+m(r+i)),heightCalc:p.once("100% - "+m(t+e))});return{minWidth:p.map(o.minWidth,function(n){return n+r+i}),minHeight:p.map(o.minHeight,function(n){return function(a){return n(a-r-i)+t+e}})}})};var se=function(n){var t=p.create();var e=p.create();var r=p.create();var i=p.create();p.map(n,function(n){var a=n.all||0,u=n.all||0,o=n.all||0,c=n.all||0;if($.isNumeric(n)){a=u=o=c=n}else{for(var f in n){var s=f.toLowerCase();if(n[f]!==null){if(s.indexOf("top")!==-1){a=n[f]}if(s.indexOf("bottom")!==-1){u=n[f]}if(s.indexOf("left")!==-1){o=n[f]}if(s.indexOf("right")!==-1){c=n[f]}}}}p.push(t,a);p.push(e,u);p.push(r,o);p.push(i,c)});return Hn(function(n,a,u){var o=u({top:t,left:r,height:p.combine([a.height,t,e],function(n,t,e){return n-t-e}),width:p.combine([a.width,r,i],function(n,t,e){return n-t-e})});return{minWidth:p.combine([o.minWidth,r,i],function(n,t,e){return n+t+e}),minHeight:p.combine([o.minHeight,t,e],function(n,t,e){return function(r){return n(r)+t+e}})}})};var le=function(n){n=n||{};return Hn(function(n,t,e,r,i){n.addClass("alignLRM");var a={width:p.create()};var u={width:p.create(),left:p.create()};var o={width:p.create(),left:p.create()};var c=e(a);var f=r(u);var l=i(o);p.combine([c.minWidth,f.minWidth,l.minWidth,t.width],function(n,t,e,r){p.push(a.width,Math.min(r,n));p.push(u.width,Math.min(r,t));p.push(o.width,Math.min(r,e));p.push(a.left,0);p.push(u.left,r-Math.min(r,t));p.push(o.left,(r-Math.min(r,e))/2)});return{minWidth:p.combine([c.minWidth,f.minWidth,l.minWidth],function(n,t,e){return e>0?Math.max(e+2*n,e+2*t):n+t}),minHeight:p.combine([c.minWidth,f.minWidth,l.minWidth,c.minHeight,f.minHeight,l.minHeight],function(n,t,e,r,i,a){return function(u){return[r(Math.min(u,n)),i(Math.min(u,t)),a(Math.min(u,e))].reduce(s)}})}})(n.l||Tt,n.r||Tt,n.m||n.c||Tt)};var he=function(n){return le({l:n})};var ve=function(n){return le({r:n})};var pe=n(function(n){return function(t){return le(n)({m:t})}});var de=function(n){n=n||{};return Hn(function(n,t,e,r,i){n.addClass("alignTBM");var a={height:p.create()};var u={height:p.create(),top:p.create()};var o={height:p.create(),top:p.create()};var c=e(a);var f=r(u);var l=i(o);p.combine([c.minHeight,f.minHeight,l.minHeight,t.width,t.height],function(n,t,e,r,i){p.push(a.height,Math.min(i,n(r)));p.push(u.height,Math.min(i,t(r)));p.push(o.height,Math.min(i,e(r)));p.push(a.top,0);p.push(u.top,Math.max(0,i-Math.min(i,t(r))));p.push(o.top,Math.max(0,(i-Math.min(i,e(r)))/2))});return{minWidth:p.combine([c.minWidth,f.minWidth,l.minWidth],function(n,t,e){return[n,t,e].reduce(s)}),minHeight:p.combine([c.minHeight,f.minHeight,l.minHeight],function(n,t,e){return function(r){var i=n(r);var a=t(r);var u=e(r);return u>0?Math.max(u+2*i,u+2*a):i+a}})}})(n.t||Tt,n.b||Tt,n.m||n.c||Tt)};var me=function(n){return de({t:n})};var ge=function(n){return de({b:n})};var we=function(n){return de({m:n})};var be=function(n){return le({l:n})};var ye=function(n){return le({r:n})};var He=function(n){return le({m:n})};var We=xn([He,we]);var xe=function(n,t,e){var r=t.left||t.all||0;var i=t.right||t.all||0;var a=t.top||t.all||0;var u=t.bottom||t.all||0;var o=t.radius||0;if($.isNumeric(t)){a=u=r=i=t}e=e||"solid";if(!p.isStream(n)){n=p.once(n)}var c=p.map(n,Fn);return Hn(function(n,t,f){n.addClass("border");var s=f({width:p.map(t.width,function(n){return n-r-i}),height:p.map(t.height,function(n){return n-a-u}),widthCalc:p.once("100% - "+m(2*(r+i))),heightCalc:p.once("100% - "+m(2*(a+u)))});s.$el.css("overflow","hidden");s.$el.css("border-radius",m(o));p.map(c,function(n){s.$el.css("border-left",m(r)+" "+e+" "+n).css("border-right",m(i)+" "+e+" "+n).css("border-top",m(a)+" "+e+" "+n).css("border-bottom",m(u)+" "+e+" "+n)});return{minWidth:p.map(s.minWidth,function(n){return n+r+i}),minHeight:p.map(s.minHeight,function(n){return function(t){return n(t)+a+u}})}})};var Ce=function(n){var t=new Error;return Wn(function(t,e,r){t.addClass("componentStream");var i;var a;var u;var o=p.create();var c=p.create();var f=p.reduce(n,function(n,t){if(n){n.remove()}if(a){a()}if(u){u()}n=r(t,{widthCalc:p.once("100%"),heightCalc:p.once("100%")});a=p.pushAll(n.minWidth,o);u=p.pushAll(n.minHeight,c);return n});return{minWidth:o,minHeight:c,onRemove:function(){if(i){i.remove()}}}})};var $e=function(n,t){var e=n.map(p.once);return t.apply(null,e)};var Se=function(n,t){return $e([n],t)};var Me=function(n,t,e){var r;var i;t=t||function(){var n=$.Deferred();n.resolve();return n.promise()};return Wn(function(a,u,o){a.addClass("component-stream-with-exit");var c=p.create();p.pushAll(n,c);var f=p.create();var s=p.create();var l=function(n){if(r){(function(n){setTimeout(function(){t(n,i).then(function(){n.remove()})})})(r)}i={widthCalc:p.once("100%"),heightCalc:p.once("100%")};r=o(n,i);r.$el.css("transition","inherit");r.$el.css("display","none");r.$el.prependTo(a);p.pushAll(r.minWidth,f);p.pushAll(r.minHeight,s);p.defer(function(){r.$el.css("display","");if(e){e(r,i)}})};p.map(c,function(n){l(n)});return{minWidth:f,minHeight:s,onRemove:function(){p.end(c);if(r){r.remove()}}}})};var Te=function(n,t){var e=p.create();if(t){p.push(e,t)}n.then(function(n){p.push(e,n)},function(n){console.log(n)}).catch(function(n){console.log(n)});return Ce(e)};var ke=function(n,t){return Ce(p.map(t,function(t){return n[t]}))};var Ve=function(n){return function(t,e){var r=p.once(false);p.pushAll(t,r);e=e||0;return Hn(function(n,t,i){n.addClass("modalDialog");var a=i({top:w,left:w,width:p.map(y,function(n){return document.body.clientWidth}),height:H});n=a.$el;n.css("z-index",100);n.appendTo($("body"));n.css("position","fixed");n.css("transition",n.css("transition")+", opacity "+e+"s");n.css("display","none");n.css("pointer-events","initial");p.onValue(r,function(t){if(t){n.css("display","");setTimeout(function(){n.css("opacity",1)},100)}else{n.css("opacity",0);setTimeout(function(){n.css("display","none")},e*1e3)}});return{minWidth:w,minHeight:b}})(n)}};var Oe=function(n){return Hn(function(t,e,r){t.css("overflow","hidden").addClass("toggle-height");var i=r();return{minWidth:i.minWidth,minHeight:p.combine([i.minHeight,n],function(n,t){return function(e){return t?n(e):0}})}})};var Ae=function(n,t,e,r){r=r||{};r.transition=r.transition||"0.5s";return Hn(function(n,t,e,r){n.addClass("dropdown-panel");n.css("overflow","visible");var i={height:p.create(),top:p.create()};var a=r(i);var u=e();Qn(i,a);p.pushAll(t.height,i.top);return{minWidth:p.map(p.combine([a.minWidth,u.minWidth],Math.max),function(n){return n}),minHeight:u.minHeight}})(n,Hn(function(n,t,i){var a={top:p.combine([e,t.height],function(n,t){return n?0:-t})};if(r.panelHeightS){p.pushAll(a.height,r.panelHeightS)}var u=i(a);u.$el.css("transition","top "+r.transition).css("z-index",1e3);return u})(t))};var Fe=function(n,t,e,r){r=r||{};r.transition=r.transition||"0.5s";return Hn(function(n,t,e,r){n.addClass("side-sliding-panel");setTimeout(function(){n.css("overflow","visible")});var i={width:p.create(),height:p.create(),left:p.create(),top:p.create()};var a=r(i);var u=e();Jn(i,a);p.combineInto([t.height,H,a.minWidth,a.minHeight],function(n,t,e,r){return Math.max(t-n,r(e))},i.height);p.pushAll(t.height,i.top);p.combineInto([t.width,a.minWidth],function(n,t){return n-t},i.left);return{minWidth:p.map(p.combine([a.minWidth,u.minWidth],c),function(n){return n}),minHeight:u.minHeight}})(n,Hn(function(n,t,i){var a=i({left:p.combine([e,t.width],function(n,t){return n?0:t})});a.$el.css("transition","left "+r.transition).css("z-index",1e3);return a})(t))};var Pe=n(function(n){n.transition=n.transition||"0.5s";return Hn(function(t,e,r,i){var a=p.create();var u=i({width:e.width,height:a});p.pushAll(p.combine([e.width,u.minHeight],function(n,t){return t(n)}),a);var o=p.create();var c=r({top:a,width:e.width,height:o});p.pushAll(p.combine([e.width,c.minHeight],function(n,t){return t(n)}),o);u.$el.css("position","fixed");setTimeout(function(){u.$el.css("transition","height "+n.transition);c.$el.css("transition","top "+n.transition)});return{minWidth:p.map(p.combine([c,u].map(function(n){return n.minWidth})),function(n,t){return n+t}),minHeight:p.map(p.combine([c,u].map(function(n){return n.minHeight})),function(n,t){return function(e){return n(e)+t(e)}})}})});var ze=function(n){n=n||w;return Hn(function(t,e,r){t.addClass("makeSticky");var i={widthCalc:p.once("100%"),heightCalc:p.once("100%")};var a=r(i);p.combine([S,n,e.top,e.topOffset,e.left,e.leftOffset],function(n,e,r,i,a,u){if(r+i>n+e){t.css("position","absolute");t.css("transition","");t.css("left",m(a))}else if(r+i<n+e){var o=a+u;t.css("position","fixed");t.css("left",m(o));t.css("top",m(e));setTimeout(function(){t.css("transition","inherit")},20)}});return a})};var Re=function(n){return function(t,e){var r=Math.min(n,t.length-1);return e[r](t[r].width)}};var Le=function(n,t){return n.reduce(function(n,e,r){return Math.max(n,t[r](e.width))},0)};var Ne=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusWidthFunc=n.surplusWidthFunc||Ot;n.surplusHeightFunc=n.surplusHeightFunc||At;n.rowHeight=n.rowHeight||Le;n.maxPerRow=n.maxPerRow||0;n.rowOrColumn=n.rowOrColumn||false;return function(t){return Hn(function(t,e,r){t.addClass("grid");var i=p.create();var u=p.create();if(r.length===0){p.push(i,0);p.push(u,a(0))}var o=[];var f=r.map(function(n){var t={top:p.create(),left:p.create(),width:p.create(),height:p.create()};o.push(t);return n(t)});var l=p.combine(f.map(function(n){return n.minWidth}),function(){return Array.prototype.slice.call(arguments)});var h=p.combine(f.map(function(n){return n.minHeight}),function(){return Array.prototype.slice.call(arguments)});var v=function(t,e){if(n.allSameWidth){var r=e.reduce(s,0);for(var i=0;i<e.length;i++){e[i]=r}}var a;var u=function(){a=0;return{cells:[],contexts:[],height:0}};var c=e.reduce(function(e,r,i){var c=e.rows;var f=e.currentRow;var s=f.cells.reduce(function(t,e){return t+e.width+n.padding},0);var l=Math.min(r,t);if(n.maxPerRow>0&&f.cells.length===n.maxPerRow||l>0&&l+s>t){c.push(f);f=u()}f.cells.push({width:l,left:a});f.contexts.push(o[i]);a+=l+n.padding;return{rows:c,currentRow:f}},{rows:[],currentRow:u()});var f=c.rows;f.push(c.currentRow);if(n.rowOrColumn&&c.rows.length>1){f=e.map(function(n,t){return{cells:[{width:n,left:0}],contexts:[o[t]],height:0}})}f.map(function(e,r){e.cells=n.surplusWidthFunc(t,e.cells,r)});return f};p.pushAll(p.map(l,function(t){return t.reduce(function(t,e){return n.useFullWidth?t+e+n.padding:Math.max(t,e)+n.padding},-n.padding)}),i);p.combineInto([l,h],function(t,e){return function(r){var i=v(r,t);var a=0;var u=i.map(function(t){var r=n.rowHeight(t.cells,e.slice(a,a+t.cells.length));a+=t.cells.length;return r+n.padding}).reduce(c,-n.padding);return u}},u);p.combine([e.width,e.height,l,h],function(t,e,r,i){var a=v(t,r);var u=0;var o=0;a.map(function(t){t.height=n.rowHeight(t.cells,i.slice(u,u+t.cells.length));u+=t.cells.length});if(n.bottomToTop){a=a.slice(0).reverse()}a.map(function(t){t.top=o;o+=t.height+n.padding});a=n.surplusHeightFunc(e,a,n);a.map(function(n,t){var e=n.cells.map(function(t){var e={top:n.top,left:t.left,width:t.width,height:n.height};return e});e.map(function(t,e){var r=n.contexts[e];p.push(r.top,t.top);p.push(r.left,t.left);p.push(r.width,t.width);p.push(r.height,t.height)})})});return{minWidth:i,minHeight:u}})(t)}});var Ie=function(n){if($.type(n)==="number"){return Gn(n)}return Hn(function(t,e,r){t.addClass("withMinWidthStream");var i=r();return{minWidth:$.isFunction(n)?n(i,e):n,minHeight:i.minHeight}})};var De=function(n){if(!p.isStream(n)){n=p.once(n)}return Ie(function(t){return p.combine([t.minWidth,n],s)})};var Ee=function(n){if($.type(n)==="number"){return Kn(n)}return Hn(function(t,e,r){t.addClass("withMinHeightStream");var i=r();var a=$.isFunction(n)?n(i,e):n;return{minWidth:i.minWidth,minHeight:p.combine([i.minHeight,a],function(n,t){return function(e){return Math.max(n(e),t(e))}})}})};var je=function(n){if(!p.isStream(n)){n=p.once(n)}return Ee(function(t){return p.combine([t.minHeight,n],function(n,t){return function(e){return Math.max(n(e),t)}})})};var Be=function(n){return Hn(function(t,e,r){t.addClass("maxHeightStream");var i={height:p.create(),top:p.create()};var a=r(i);p.pushAll(p.combine([a.minHeight,e.width,e.height],function(n,t,e){return Math.max(e,n(t))}),i.height);var u=S.lastValue;var o=p.map(S,function(n){var t=n-u;u=n;return t});var c=0;var f=p.combine([e.height,i.height,o],function(n,t,e){c-=e;c=Math.min(0,c);c=Math.max(n-t,c);return c});p.pushAll(f,i.top);return{minWidth:a.minWidth,minHeight:p.combine([n,a.minHeight],function(n,t){return function(e){return Math.min(n,t(e))}})}})};var qe=n(function(n){return Hn(function(n,t,e){n.addClass("largest-width-that-fits");var r=e.map(function(n){return n()});var i=Nn(r);var a=In(r);var u=function(n,t){var e=t.reduce(function(t,e,r){return e<=n&&(t===null||e>t.mw)?{mw:e,index:r}:t},null).index;if(e===null){console.log("none small enough, TODO: use smallest")}return e};p.combine([t.width,i],function(n,t){var e=u(n,t);r.map(function(n,t){n.$el.css("display",t===e?"":"none")})});return{minWidth:p.map(i,function(n){return n.reduce(s,0)}),minHeight:p.combine([i,a],function(n,t){return function(e){var r=u(e,n);return t[r](e)}})}})});var Xe=n(function(n){return Hn(function(n,t,e){n.addClass("overlays");var r=e.map(function(n){return n()});var a=function(n){return p.combine(n,function(){var n=Array.prototype.slice.call(arguments);return n.reduce(s,0)})};return{minWidth:p.combine(r.map(function(n){return n.minWidth}),function(){var n=Array.prototype.slice.call(arguments);return n.reduce(s,0)}),minHeight:p.combine(r.map(function(n){return n.minHeight}),function(){var n=Array.prototype.slice.call(arguments);return function(t){return n.map(i(t)).reduce(s,0)}})}})});var Ye=function(n,t){t=t||p.once(0);return ae({})([xn([Gn(0),Yn("overflow-x","scroll"),Yn("overflow-y","hidden"),Yn("pointer-events","initial")])(ae()([te({surplusWidthFunc:Ft})(n.map(function(n,e){return de()({b:xn([it,ot(function(){p.push(t,e)})])(n.tab(t,e))})})),xn([Kn(mn())])(Tt)]))])};var Ue={h:function(n){return Gn(n)(Tt)},v:function(n){return Kn(n)(Tt)}};var _e=function(n){return xn([Kn(n.v||n.x||0),Gn(n.h||n.y||0)])(Tt)};var Je=function(n){return function(t){for(var e=0;e<n.length;e++){var r=n[e];if(t.indexOf(r.string)===0){return r.router(t.substring(r.string.length))}}}};var Qe=function(n){return function(){return n}};var Ge=function(n){return function(){return n()}};var Ke=function(n){return function(t){for(var e=0;e<n.length;e++){var r=n[e](t);if(r){return r}}}};var Ze=function(n){return function(t){return Te(Q(t).then(n))}};var nr=function(n,t){return Ce(p.map(n,function(n){return t(n)}))};var tr=function(n){return function(t){return n()(t)}};var er={button:function(n,t){return{type:"button",enabledS:p.once(true),name:n||"",onClick:t}},checkbox:{type:"checkbox"},date:{type:"date"},dropdown:function(n){return{type:"dropdown",options:n}},hidden:{type:"hidden"},image:{type:"image"},number:{type:"number"},password:{type:"password"},radios:function(n){return{type:"radios",options:n}},text:{type:"text"},textarea:{type:"textarea"},time:{type:"time"}};var rr=/(\d*)-(\d*)-(\d*)/;var ir=function(n){var t=rr.exec(n);if(t){var e=new Date;e.setYear(t[1]);e.setMonth(parseInt(t[2])-1);e.setDate(t[3]);return e}};var ar=function(n){if(!n){return}var t=n.getFullYear();var e=n.getMonth()+1;if(e<10){e="0"+e}var r=n.getDate();if(r<10){r="0"+r}return t+"-"+e+"-"+r};var ur=function(n){return(n.outerWidth(true)-parseFloat(n.css("width")))/2};var or=function(n){return(n.outerHeight(true)-parseFloat(n.css("height")))/2};var cr=et({},{width:function(n,t){return n-2*ur(t)},height:function(n,t){return n-2*or(t)},widthCalc:function(n,t){return n+" - "+2*ur(t)},heightCalc:function(n,t){return n+" - "+2*or(t)}});var fr=et({},{width:function(n,t){return n-2*ur(t)},height:function(n,t){console.log("adjust position"+or(t));return n-2*or(t)},widthCalc:function(n,t){return n+" - "+2*ur(t)},heightCalc:function(n,t){return n+" - "+2*or(t)}});var sr=et({},{width:function(n,t){return n-ur(t)},height:function(n,t){return n-or(t)},widthCalc:function(n,t){return n+" - "+ur(t)},heightCalc:function(n,t){return n+" - "+or(t)}});var lr=et({},{width:function(n,t){return n-ur(t)},height:function(n,t){return n-or(t)},widthCalc:function(n,t){return n+" - "+ur(t)},heightCalc:function(n,t){return n+" - "+or(t)}});var hr={button:function(n,t,e){t=t||p.create();return xn([En(function(n){p.map(e.enabledS,function(t){n.$el.prop("disabled",!t)})}),ot(function(n){if(!e.enabledS.lastValue){n.preventDefault();return}e.onClick&&e.onClick(n,t,function(){p.push(e.enabledS,false);return function(){p.push(e.enabledS,true)}})})])(Vt({str:e.name,el:_,measureWidth:true}))},checkbox:function(n,t){t=t||p.create();return xn([sr])(on(function(e,r,i,a){e.prop("id",n);e.prop("name",n);e.prop("type","checkbox");p.onValue(t,function(n){e.prop("checked",n?"checked":"")});e.on("blur",function(){p.push(t,e.prop("checked"))});e.on("change",function(){p.push(t,e.prop("checked"))});i();a()}))},date:function(n,t){return xn([cr])(on(function(e,r,i,a){i();a();e.prop("name",n);e.prop("type","date");p.onValue(t,function(n){if((n&&n.getTime())!==(e.val()&&ir(e.val()).getTime())){e.val(ar(n))}});e.on("blur",function(){p.push(t,ir(e.val()))});e.on("change",function(){p.push(t,ir(e.val()))})}))},dropdown:function(n,t,e){return vn(function(r,i,a,u){r.prop("name",n);e.options.map(function(n){if("string"===$.type(n)){n={name:n,value:n}}$(document.createElement("option")).html(n.name).prop("value",n.value).appendTo(r)});if(!t.lastValue){p.push(t,r.val())}p.onValue(t,function(n){if(n!==r.val()){r.val(n)}});r.on("blur",function(){p.push(t,r.val())});r.on("change",function(){p.push(t,r.val())});a();u()})},hidden:function(n,t){return on(function(e){e.prop("name",n);e.prop("type","hidden");p.onValue(t,function(n){e.val(n)});return{minWidth:w,minHeight:b}})},image:function(n,t){return on(function(e,r,i,a){i();a();e.prop("name",n);e.prop("type","file");e.prop("accept","image/*");e.on("change",function(n){var e=n.target.files.length>0&&n.target.files[0];if(e){var r=new FileReader;r.onload=function(n){p.push(t,n.target.result)};r.readAsDataURL(n.target.files[0])}})})},number:function(n,t){return xn([cr])(on(function(e,r,i,a){i();a();e.prop("name",n);e.prop("type","number");p.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){p.push(t,e.val())});e.on("change",function(){p.push(t,e.val())})}))},password:function(n,t){return xn([cr])(on(function(e,r,i,a){i();a();e.prop("name",n);e.prop("type","password");p.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){p.push(t,e.val())});e.on("change",function(){p.push(t,e.val())});e.on("keyup",function(){p.push(t,e.val())})}))},radios:function(n,t,e){return e.options.map(function(e){return xn([lr])(on(function(r,i,a,u){r.prop("id",e);r.prop("value",e);r.prop("name",n);r.prop("type","radio");p.onValue(t,function(n){r.prop("checked",n===e?"checked":"")});r.on("change",function(){if(r.prop("checked")){p.push(t,e)}});a();u()}))})},text:function(n,t){return xn([cr])(on(function(e,r,i,a){i();a();e.prop("name",n);p.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){p.push(t,e.val())});e.on("change",function(){p.push(t,e.val())});e.on("keyup",function(){p.push(t,e.val())})}))},textarea:function(n,t){return xn([fr])(pn(function(e,r){e.prop("name",n);p.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){p.push(t,e.val())});e.on("change",function(){p.push(t,e.val())});e.on("keyup",function(){p.push(t,e.val())});var i=e.outerWidth(true);var u=e.outerHeight(true);var o=p.once(i);var c=p.once(a(u));$("body").on("mousemove",function(){var n=e.outerWidth(true);var t=e.outerHeight(true);if(i!==n){p.push(o,n);i=n}if(u!==t){p.push(c,a(t));u=t}});e.on("click",function(){var n=ur(e);var t=or(e);var r=e.outerWidth()-2*n;var f=e.outerHeight(true)-2*t;if(i!==r){p.push(o,r+2*n);i=r}if(u!==f){p.push(c,a(f+2*t));u=f}});return{minWidth:o,minHeight:c}}))},time:function(n,t){return xn([cr])(on(function(e,r,i,a){i();a();e.prop("name",n);e.prop("type","time");p.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){p.push(t,e.val())});e.on("change",function(){p.push(t,e.val())})}))}};var vr=a(xn([Gn(150)]));var pr=a(xn([fe({top:1,bottom:1,left:0,right:0}),xe(Tn({r:0,g:0,b:0}),{top:2,bottom:2,left:2,right:2},"inset"),Gn(150)]));var dr=a(xn([pr(),je(100)]));var mr={button:vr,checkbox:a(o),date:pr,dropdown:vr,image:pr,number:pr,password:pr,radios:o,text:pr,textarea:pr,time:pr};var gr=function(n,t){return function(e,r){r=r||{};return function(i){i=i||{};return function(u){return function(c){c=c||{};var f=Object.keys(e);return function(s){var l={};var h={};f.map(function(n){var u=i[n];var f=u?p.once(u):p.create();var s=r[n];var v=e[n];var d=v&&c[v.type]||a(o);l[n]=f;h[n]=d(s,n,f,v)(t[v.type](n,f,v))});var v=p.once(false);var d=function(t){var e=n();var r=c[e.type]||a(o);return r("",p.create(),e,t)(Vt({el:_,measureWidth:true},{str:t}),t)};if(typeof u==="function"){var m=u(l,function(){p.push(v,true);return function(){p.push(v,false)}});var g=function(n){n.on("submit",function(n){if(v.lastValue){n.preventDefault();return}m.onSubmit(n)})}}else{var g=function(n){n.prop("method",u.method).prop("action",u.action)}}return Hn("form",function(n,t,e){g(n);return e()})(s(h,d,l,m&&m.resultS))}}}}}};var wr=function(n){var t={};for(var e in n){if(n.hasOwnProperty(e)){t[e]=n[e]}}return t};var br=function(n,t){$("html body").animate({scrollTop:n},t)};var yr=function(n,t,e){return function(i,u){var c=function(n,t){return n.map(function(n){return f(n,t)})};var f=function(u,s){s=s||{};var l=function(n){var t=wr(s);n.map(function(n){t[n.key]=n.value});return t};var h=function(n){return c(n,s)};var v=function(n){return n&&f(n,s)};var d={null:null};return r({action:r({scrollTo:function(n){var t=v(n.positionS);var e=v(n.duration||d);return function(){br(t.lastValue+"px",e)}}}),all:function(n){return n.fs.reduce(function(n,t){return v(t)(n)},v(n.v))},array:r({evalEach:function(n){return n.map(v)},map:function(n){return v(n.source).map(function(t){var e=l([{key:n.name,value:t}]);return f(n.value,e)})}}),apply:function(n){var t=v(n.f);var e=h(n.args);return f(t.value,l(t.args.map(function(n,t){return{key:n.identifier,value:e[t]||n.default}})))},auth:r({loggedIn:!!i}),bool:r({constant:o}),case:function(n){var t={};t[n.key]=v(n.value);return t},component:r({alignLRM:function(n){return le()({l:v(n.l),r:v(n.r),m:v(n.m)})},alignTBM:function(n){return de()({t:v(n.t),b:v(n.b),m:v(n.m)})},all:function(n){return xn(h(n.mods))(v(n.c))},bar:r({h:function(t){return n.h(t)},v:function(t){return n.v(t)}}),grid:function(n){var t=n.config||{};return Ne({surplusWidthFunc:r({centerSurplusWidth:a(Hr.funcs.surplusWidth.center),evenSplitSurplusWidth:a(Hr.funcs.surplusWidth.evenlySplit),ignoreSurplusWidth:a(Hr.funcs.surplusWidth.ignore),giveToNth:Hr.funcs.surplusWidth.giveToNth})(t.surplusWidthFunc||{ignoreSurplusWidth:null}),surplusHeightFunc:r({evenSplitSurplusHeight:a(Hr.funcs.surplusHeight.evenlySplit),ignoreSurplusHeight:a(Hr.funcs.surplusHeight.ignore),giveToNth:Hr.funcs.surplusHeight.giveToNth})(n.config.surplusHeightFunc||{ignoreSurplusHeight:null}),padding:t.padding,useFullWidth:t.useFullWidth,rowOrColumn:t.rowOrColumn,rowHeight:r({useMaxHeight:a(Hr.funcs.rowHeight.useMaxHeight),useNthMinHeight:Hr.funcs.rowHeight.useNthMinHeight})(t.rowHeight||{useMaxHeight:null})})(v(n.cs))},image:function(n){return Ct({fill:v(n.fill),left:v(n.left),right:v(n.right),top:v(n.top),bottom:v(n.bottom)})($t({src:v(n.src),minWidth:v(n.minWidth),minHeight:v(n.minHeight)}))},overlays:function(n){return Xe({})(v(n.cs))},stack:function(n){n.config=n.config||{};return ae({surplusHeightFunc:r({evenSplitSurplusHeight:a(Hr.funcs.surplusHeight.evenlySplit),ignoreSurplusHeight:a(Hr.funcs.surplusHeight.ignore),giveToNth:Hr.funcs.surplusHeight.giveToNth})(n.config.surplusHeightFunc||{ignoreSurplusHeight:null}),padding:v(n.padding||n.config.padding)})(v(n.cs))},text:function(n){return Vt(""+v(n.str),(n.fonts||[]).concat(n.font?[n.font]:[]))},textSpans:function(n){return Vt(n.spans.map(function(n){var t=n.font||{};t.str=v(n.str);return t}),(n.fonts||[]).concat(n.font?[n.font]:[]))}}),componentMod:r({$css:function(n){return Yn(n.style,n.value)},backgroundColor:function(n){return Ht(v(n.backgroundColor),v(n.fontColor))},bodyColumn:function(){return t},border:function(n){var t=v(n.all);return xe(v(n.color),{left:v(n.left)||t,right:v(n.right)||t,top:v(n.top)||t,bottom:v(n.bottom)||t,radius:v(n.radius)})},clickThis:function(n){return ot(v(n))},fadeIn:function(n){return re({margin:v(n.margin)})},fontColor:function(n){return Ht({font:v(n)})},keepAspectRatio:function(n){return Ct({fill:v(n.fill)})},link:function(){return it},linkTo:function(n){return St(v(n))},margin:function(n){var t=v(n.all);return fe({left:v(n.left)||t,right:v(n.right)||t,top:v(n.top)||t,bottom:v(n.bottom)||t})},minHeightAtLeast:function(n){return je(v(n))},minWidthAtLeast:function(n){return De(v(n))},minHeight:function(n){return Kn(v(n))},minWidth:function(n){return Gn(v(n))},slideIn:function(){return ee()}}),constant:o,effect:function(n){return Ce(p.map(r({db:r({find:function(n){return p.fromPromise(e[n.table].find(v(n.query)).then(function(n){return n}))}}),stream:function(n){return v(n)}})(n.eff),function(t){return f(n.withResult,l([{key:n.name,value:t}]))}))},id:function(){return o},letIn:function(n){var t=[];n.lets.map(function(n){t.push({key:n.name,value:f(n.value,l(t))})});return f(n.value,l(t))},handler:r({pushToStream:function(n){var t=v(n);return function(n){p.push(t,n)}}}),ifThenElse:function(n){return v(v(n.if)?n.then:n.else)},identifier:function(n){return s[n]},null:function(){return null},number:r({constant:o,difference:function(n){var t=h([n.a,n.b]);return t[0]-t[1]},max:function(n){var t=h([n.a,n.b]);return Math.max(t[0],t[1])},min:function(n){var t=h([n.a,n.b]);return Math.min(t[0],t[1])},product:function(n){var t=h([n.a,n.b]);return t[0]*t[1]},quotient:function(n){var t=h([n.a,n.b]);return t[0]/t[1]},sum:function(n){var t=h([n.a,n.b]);return t[0]+t[1]}}),object:r({create:function(n){var t={};n.map(function(n){t[n.key]=v(n.value)});return t},dynamicProperties:function(){throw"do later"}}),onEvent:function(n){return at(n.event)(v(n.handler))},prop:function(n){return v(n.object)[n.key]},stream:r({create:function(){return p.create()},map:function(n){return p.map(v(n.source),function(t){return f(n.value,l([{key:n.name,value:t}]))})},reduce:function(n){return p.reduce(v(n.source),function(t,e){return f(n.value,l([{key:n.prevName,value:t},{key:n.currentName,value:e}]))},v(n.initialValue))},windowHeight:function(){return Hr.viewport.heightS},windowWidth:function(){return Hr.viewport.widthS}}),string:r({constant:o})})(u)};return f}};var Hr={color:{color:Tn,create:Tn,toString:Fn},component:{$$:jn,$addClass:qn,$attr:Xn,$css:Yn,$on:Un,$prop:_n,adjustPosition:et,alignH:le,alignHorizontal:le,alignHLeft:be,alignHMiddle:He,alignHRight:ye,alignLRM:le,alignMiddle:We,alignTBM:de,alignV:de,alignVBottom:ge,alignVertical:de,alignVMiddle:we,alignVTop:me,all:xn,and:En,backgroundColor:Ht,bar:Ue,border:xe,box:_e,changeThis:ut,clickThis:ot,component:X,componentStream:Me,compose:xn,container:Wn,crop:Wt,cssStream:yt,dimensions:Zn,dropdownPanel:Ae,empty:Mt,fadeIn:re,grid:Ne,hoverThis:wt,keepAspectRatio:Ct,keydownThis:ft,keyupThis:st,image:$t,largestWidthThatFits:qe,layout:Hn,link:it,linkTo:St,margin:fe,maxHeightStream:Be,minHeight:Ee,minHeightStream:Ee,minHeightAtLeast:je,minWidth:Ie,minWidthAtLeast:De,minWidthStream:Ie,mousedownThis:lt,mousemoveThis:ht,mouseoverThis:vt,mouseoutThis:pt,mouseupThis:dt,nothing:Tt,onThis:at,overlays:Xe,padding:fe,passthrough:nt,promiseComponent:Te,scope:tr,sideBySide:te,sideSlidingPanel:Fe,slideIn:ee,slider:ie,slideshow:ne,stack:ae,stream:Se,streams:$e,submitThis:mt,tabs:Ye,text:Vt,toggleHeight:Oe,wrap:tt},displayedS:T,element:{a:U,button:_,div:J,form:G,h1:K,h2:Z,h3:nn,h4:tn,h5:en,h6:rn,iframe:an,img:un,input:on,label:cn,li:fn,option:sn,p:ln,pre:hn,select:vn,textarea:pn,ul:dn},forms:{formComponent:hr,formFor:gr,formStyle:mr,fieldType:er},funcs:{constant:a,id:o,rowHeight:{useMaxHeight:Le,useNthMinHeight:Re},surplusWidth:{ignore:Ot,center:Ft,centerFirstRowThenAlignLeft:Lt,evenlySplit:Pt,evenlySplitCenter:zt,justify:It,justifyAndCenter:Dt,giveToNth:Yt},surplusHeight:{ignore:At,center:Qt,giveToNth:Kt}},jsoAction:{scrollTo:br},measure:{height:B,width:j},rootComponent:Mn,routing:{matchStrings:Je,route:nr,routeMatchRest:Ze,routeToComponentF:Ge,routeToFirst:Ke},runJso:yr,stream:p,unit:{px:m},viewport:{heightS:H,scrollS:S,widthS:y}};window.hcj=Hr})();