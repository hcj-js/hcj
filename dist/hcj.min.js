function waitForWebfonts(n,t){if(n.length===0){t();return}var e=10*1e3;var r=(new Date).getTime();var i=0;var o=false;for(var a=0,u=n.length;a<u;++a){(function(a){var u=document.createElement("div");u.style.position="absolute";u.style.width=0;document.body.appendChild(u);var c=document.createElement("span");var s=$(c);if(a==="FontAwesome"){c.innerHTML='<i class="fa-facebook-square"></i>'}else{c.innerHTML=" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~"}c.style.position="absolute";c.style.left="-10000px";c.style.top="-10000px";c.style.fontSize="300px";c.style.fontVariant="normal";c.style.fontStyle="normal";c.style.fontWeight="normal";c.style.letterSpacing="0";u.appendChild(c);var f=s.outerWidth();if(a==="FontAwesome"){c.innerHTML='<i class="fa fa-facebook-square"></i>'}else{c.style.fontFamily=a}var l;function h(){if(c&&((new Date).getTime()-r>e||s.outerWidth()!=f)){++i;c.parentNode.removeChild(c);c=null;if(l){clearInterval(l)}}if(i>=n.length){if(i==n.length){if(!o){t()}o=true;return true}}}setTimeout(function(){if(!h()){l=setInterval(h,50)}})})(n[a])}}(function(){var n=function(n,t){t=t||function(n){return $.type(n)==="array"||$.type(n)==="function"};return function(){var e=Array.prototype.slice.call(arguments);var r=!t(e[0]);if(e.length-(r?1:0)>0){var i=[];if(r){i=e.splice(0,1)}return n.apply(null,i).apply(null,e)}var o=e[0];return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[o]).apply(null,t)}}};var t=function(n){return!n||n.l||n.r||n.m};var e=function(n){return!n||n.t||n.b||n.m};var r=function(n,t){if(!t){return function(t){for(var e in n){if(n.hasOwnProperty(e)&&t.hasOwnProperty(e)){if(!$.isFunction(n[e])){return n[e]}return n[e](t[e])}}}}for(var e in n){if(n.hasOwnProperty(e)&&t.hasOwnProperty(e)){if(!$.isFunction(n[e])){return n[e]}return n[e](t[e])}}};var i=function(n){return function(t){return t(n)}};var o=function(n){return function(t){return n}};var a=function(n){throw"the venerable curry, we shall define at a later date"};var u=function(n,t){t=t||1;return function(){var e=Array.prototype.slice.call(arguments);var r=[null];if(e.length>t){r=e.splice(0,1)}return n.apply(null,r).apply(null,e)}};var c=function(n){return n};var s=function(n,t){return n+t};var f=function(n,t){return n-t};var l=function(n,t){return Math.max(n,t)};var h=function(n,t){return Math.min(n,t)};var v=[];var p=[];var d=false;var m=function(){var n=v;var t=p;v=[];p=[];d=false;for(var e=0;e<n.length;e++){var r=n[e];var i=t[e]}};var g=function(n,t){v.push(n);p.push(t);if(d===false){d=true;setTimeout(function(){setTimeout(m)})}};var w=function(n){n=n||setTimeout;var t=[];var e=false;var r=function(e){n(function(){if(t.length===0){e()}else{r(e)}})};var i=null;var o={next:function(r){t.push(r);if(e===false){e=true;n(function(){e=false;var n=t;t=[];n.map(function(n){n()})})}return o},childContext:function(){i=i||w(r);return i},defer:function(n){var t=o.childContext();t.next(n);return t}};return o};var b=w();var y={create:function(n){return{listeners:[],lastValue:n}},next:b.next,defer:b.childContext().defer,isStream:function(n){return n&&n.hasOwnProperty("listeners")&&n.hasOwnProperty("lastValue")},once:function(n){return y.create(n)},push:function(n,t){if(Number.isNaN(t)){debugger}b.next(function(){if(n.lastValue!==t){n.lastValue=t;if(Number.isNaN(t)){debugger}for(var e=0;e<n.listeners.length;e++){if(n.listeners[e]){n.listeners[e](t)}}}})},map:function(n,t){var e=y.create();if(n.lastValue!==undefined){y.push(e,t(n.lastValue))}n.listeners.push(function(n){y.push(e,t(n))});return e},reduce:function(n,t,e){var r=y.once(e);if(n.lastValue!==undefined){y.push(r,t(r.lastValue,n.lastValue))}y.map(n,function(n){y.push(r,t(r.lastValue,n))});return r},filter:function(n,t){var e=y.create();n.listeners.push(function(n){if(t(n)){y.push(e,n)}});return y},onValue:function(n,t){y.map(n,function(n){t(n);return true});var e=n.listeners.length-1;return function(){delete n.listeners[e]}},promise:function(n){var t=$.Deferred();y.map(n,function(n){t.resolve(n)});return t.promise},prop:function(n,t){return y.map(n,function(n){return n[t]})},delay:function(n,t){var e=y.create();y.map(n,function(n){setTimeout(function(){y.push(e,n)},t)});return e},debounce:function(n,t){var e=y.create();var r=0;var i=false;y.map(n,function(o){if(!i){i=true;var a=(new Date).getTime();setTimeout(function(){i=false;y.push(e,n.lastValue);r=Math.max(r+t,a)},Math.max(0,r+t-a))}});return e},pushAll:function(n,t){if(n.lastValue!==undefined){y.push(t,n.lastValue)}return y.onValue(n,function(n){y.push(t,n)})},clone:function(n){var t=y.create();y.pushAll(n,t);return t},combine:function(n,t){var e=[];var r=y.create();var i=false;var o=function(){if(!i){i=true;b.defer(function(){i=false;for(var o=0;o<n.length;o++){if(e[o]===undefined){return}}y.push(r,t.apply(null,e))})}};n.reduce(function(n,t){if(t.lastValue!==undefined){e[n]=t.lastValue;o()}y.onValue(t,function(t){e[n]=t;o()});return n+1},0);return r},combineInto:function(n,t,e){var r=[];var i=false;var o=function(){if(!i){i=true;b.defer(function(){i=false;for(var o=0;o<n.length;o++){if(r[o]===undefined){return}}y.push(e,t.apply(null,r))})}};n.reduce(function(n,t){if(t.lastValue!==undefined){r[n]=t.lastValue;o()}y.onValue(t,function(t){r[n]=t;o()});return n+1},0)},all:function(n,t){return y.combine(n,function(){return Array.prototype.slice.call(arguments)})},combineObject:function(n){var t=Object.keys(n);var e={};var r=y.create();var i=false;var o=function(){if(!i){i=true;setTimeout(function(){i=false;for(var n=0;n<t.length;n++){var o=t[n];if(e[o]===undefined){return}}y.push(r,$.extend({},e))})}};t.map(function(t,r){y.onValue(n[t],function(n){e[t]=n;o()})});return r},splitObject:function(n){var t=Object.keys(n);var e={};t.map(function(t){e[t]=y.once(n[t])});return e},fromEvent:function(n,t){var e=y.create();n.on("event",function(n){y.push(e,n)});return e},fromPromise:function(n,t){var e=y.create();if(t){y.push(e,t)}n.then(function(n){y.push(e,n)});return e},cases:function(n,t){n.push(t);return y.combine(n,function(){var n=Array.prototype.slice.call(arguments);var t=n.pop();return n[t]})}};var H=function(n){return function(t){return t+n}};var W=H("px");var x=H("vw");var T=y.once(0);var C=y.create();y.windowWidth=C;var M=y.create();y.windowHeight=M;var S=function(){y.push(C,window.innerWidth)};var k=function(){y.push(M,window.innerHeight)};$(S);$(k);$(window).on("resize",function(){S();k()});var V=y.once(null,true);$(window).on("resize",function(n){y.push(V,n)});var O=y.create(true);$(window).on("scroll",function(){y.push(O,window.scrollY)});y.push(O,window.scrollY);var F=y.create(true);$(window).on("hashchange",function(){y.push(F,location.pathname)});y.push(F,location.pathname);var A=y.once(false);var P=[];var z=[];var N=[];var E=[];var R=function(){for(var n=0;n<P.length;n++){P[n][z[n]](N[n],E[n])}P=[];z=[];N=[];E=[]};var L=function(n,t,e,r){if(P.length===0){y.defer(R)}P.push(n);z.push(t);N.push(e);E.push(r)};var I=document.createElement("canvas");var D=$(I);var j=I.getContext("2d");var B=document.createElement("div");var q=function(n){B.innerHTML=n;return B.childNodes.length===0?"":B.childNodes[0].nodeValue};var X=function(n,t){if(t){j.font=t}return j.measureText(n).width};var Y=function(n,t){var e={};var r=n;r.map(function(n){n.originalWords=n.words});return function(i){n=r.slice(0);var o=0;var a=0;var u=0;if(n.length===0){return 0}var c=n[0];j.font=c.font;c.words=c.originalWords.slice(0);while(n.length>0){var s=c.words[0]+(n.length>1||c.words.length>1?" ":"");var f=X(s);if(f+a>i){o+=u;a=0;u=0}a+=f;u=Math.max(u,parseInt(c.size));c.words.splice(0,1);if(c.words.length===0){n.splice(0,1);if(n.length>0){c=n[0];c.words=c.words.slice(0);j.font=c.font}}}var l=(o+u)*(t||1);e[i]=l;return l}};var U=function(n){var t=$(".sandbox");var e=n.clone();e.css("width","").css("height","").css("position","absolute").css("display","inline-block").appendTo(t);var r=Math.max(e.outerWidth(true),e[0].scrollWidth);e.remove();return r};var _=function(n){var t={};return function(e){if(t[e]){return t[e]}var r=$(".sandbox");var i=n.clone();i.css("width",W(e)).css("height","").appendTo(r);var o=Math.max(i.outerHeight(true),i[0].scrollHeight);t[e]=o;i.remove();return o}};var J=function(n,t,e){var r=$(document.createElement(n)).appendTo(e.$el);var i={$el:r};var o=t(r,e,function(n){var t=U(r,n);if(i.minWidth){y.push(i.minWidth,t)}else{i.initialMinWidth=t}},function(n){var t=_(r,n);if(i.minHeight){y.push(i.minHeight,t)}else{i.initialMinHeight=t}})||{};i.minWidth=o.minWidth?o.minWidth:y.create();i.minHeight=o.minHeight?o.minHeight:y.create();if(i.hasOwnProperty("initialMinWidth")){y.push(i.minWidth,i.initialMinWidth)}if(i.hasOwnProperty("initialMinHeight")){y.push(i.minHeight,i.initialMinHeight)}i.remove=function(){if(o.onRemove){o.onRemove()}r.remove()};return i};var G=function(n,t){if(!t){t=n;n="div"}return function(e){return J(n,t,e)}};var K=function(n){return function(t){return G(n,t)}};var Z=K("a");var nn=K("button");var tn=K("div");var en=K("form");var rn=K("iframe");var on=K("img");var an=K("input");var un=K("label");var cn=K("li");var sn=K("option");var fn=K("p");var ln=K("pre");var hn=K("select");var vn=K("textarea");var pn=K("ul");var dn=function(){var n,t,e;if(e===undefined){n=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body");t=n.children();e=t.innerWidth()-t.height(99).innerWidth();n.remove()}return e};var mn=function(n){return n&&y.map(n,W)};var gn=function(n,t,e,r,i,o){i=i||{};try{i.$el=i.$el||t;i.width=i.width||e.width;i.height=i.height||e.height;i.top=i.top||T;i.left=i.left||T;i.topOffset=y.combine([e.topOffset,e.top],s);i.leftOffset=y.combine([e.leftOffset,e.left],s);var a=r(i);n.push(a);if(!a||!a.minWidth||!a.minHeight){console.log("not a component");debugger}if(o===undefined){a.$el.css("position","absolute");y.onValue(i.widthCss||mn(i.width),function(n){L(a.$el,"css","width",n)});y.onValue(i.heightCss||mn(i.height),function(n){L(a.$el,"css","height",n)});y.onValue(i.topCss||mn(i.top),function(n){L(a.$el,"css","top",n)});y.onValue(i.leftCss||mn(i.left),function(n){L(a.$el,"css","left",n)})}return a}catch(u){debugger}};var wn=function(n,t,e,r){if($.isArray(r)){return r.map(function(r){return wn(n,t,e,r)})}if(!$.isFunction(r)){console.log("cs is not a function");debugger}return function(i,o){return gn(n,t,e,r,i,o)}};var bn=function(n,t){var e=t?n:tn;var r=t||n;return function(){var n=Array.prototype.slice.call(arguments);return e(function(t,e){var i=[];t.css("position","absolute").css("pointer-events","none").css("overflow","hidden");var o=r.apply(null,[t,e].concat(wn(i,t,e,n)));return{$el:o.$el,minWidth:o.minWidth,minHeight:o.minHeight,remove:function(){i.map(function(n){return n.remove()});o.remove()}}})}};var yn=function(n,t){var e=t?n:tn;var r=t||n;return tn(function(n,t){var e=[];n.css("position","absolute").css("pointer-events","none").css("overflow","hidden");var i=r(n,t,function(r,i,o){return gn(e,n,t,r,i,o)});return{$el:i.$el,minWidth:i.minWidth,minHeight:i.minHeight,remove:function(){e.map(function(n){return n.remove()});i.remove()}}})};var Hn=function(n){return function(t){return n.reduce(function(n,t){return t(n)},t)}};var Wn=bn(function(n,t,e){var r=e();y.combine([t.width,t.height,t.top,t.left],function(){y.push(A,true);L($("body"),"css","height","auto");y.onValue(t.widthCss||mn(t.width),function(n){L(r.$el,"css","width",n)});y.onValue(t.heightCss||mn(t.height),function(n){L(r.$el,"css","height",n)});y.onValue(t.topCss||mn(t.top),function(n){L(r.$el,"css","top",n)});y.onValue(t.leftCss||mn(t.left),function(n){L(r.$el,"css","left",n)})});return r});var xn=function(){if($(".sandbox").length>0){return}$(document.createElement("div")).addClass("sandbox").css("z-index",-1).appendTo($("body"))};var $n=0;var Tn=function(n,t){t=t||{};xn();var e=dn();var r=y.create();var i=y.create();var o=y.create();y.combine([C,M,o],function(n,t,o){var a=o(n);var u=o(n-e);if(document.body.scrollHeight>window.innerHeight){y.push(r,n-e);y.push(i,u);return}if(a>t){if(u>t){$("body").css("overflow-y","initial");y.push(r,n-e);y.push(i,u)}else{$("body").css("overflow-y","scroll");y.push(r,n-e);y.push(i,u)}}else{$("body").css("overflow-y","initial");y.push(r,n);y.push(i,a)}});var a=Wn(n)({$el:$("body"),width:r,height:i,top:T,left:T,topOffset:T,leftOffset:T});a.$el.css("position","absolute").css("top","0px").css("left","0px").css("background-color",t.noBackground?"":"white").addClass("root-component").addClass("root-component-"+$n);$n+=1;var u=a.$el.css("height");y.map(A,function(n){if(n){setTimeout(function(){$(".server-content").css("display","none");console.log("did it");console.log("golly look at this endearing debug output");$(".huge").css("display","none")},500)}});y.pushAll(a.minHeight,o);y.combine([r,i],function(n,t){a.$el.css("width",W(n)).css("height",W(t))});return a};var Cn=function(n){n=n||{};return{r:n.hasOwnProperty("r")?n.r:1,g:n.hasOwnProperty("g")?n.g:1,b:n.hasOwnProperty("b")?n.b:1,a:n.hasOwnProperty("a")?n.a:1}};var Mn=function(n){return n&&n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")&&n.hasOwnProperty("a")};var Sn=function(n){return function(t){return{r:Math.min(255,t.r*n),g:Math.min(255,t.g*n),b:Math.min(255,t.b*n),a:t.a}}};var kn=function(n){return function(t){var e=(t.r+t.g+t.b)/3;var r=1-n;return{r:r*t.r+n*e,g:r*t.g+n*e,b:r*t.b+n*e,a:t.a}}};var Vn=function(n){return(n.r+n.g+n.b)/(255+255+255)};var On=function(n){return"rgba("+Math.floor(n.r)+","+Math.floor(n.g)+","+Math.floor(n.b)+","+n.a+")"};var Fn=function(n){return"rgb("+Math.floor(n.r)+","+Math.floor(n.g)+","+Math.floor(n.b)+")"};var An=Cn({a:0});var Pn=Cn({r:0,g:0,b:0});var zn=Cn({r:255,g:255,b:255});var Nn=function(n,t){return y.all(n.map(function(n){return n.minWidth}))};var En=function(n,t){return y.all(n.map(function(n){return n.minHeight}))};var Rn=function(n){return'url("'+n+'")'};var Ln=function(n){return function(t){return function(e){var r=t(e);n(r,e);return r}}};var In=function(n){return Ln(function(t,e){return n(t.$el,e)})};var Dn=function(n){return function(){var t=Array.prototype.slice.call(arguments);return In(function(e){e[n].apply(e,t)})}};var jn=Dn("addClass");var Bn=Dn("attr");var qn=Dn("css");var Xn=Dn("on");var Yn=Dn("prop");var Un=function(n,t){return y.pushAll(t.minWidth,n.width)};var _n=function(n,t){return y.combineInto([n.width,t.minHeight],function(n,t){return t(n)},n.height)};var Jn=function(n){return bn(function(t,e,r){t.addClass("minWidth");var i=r();return{minWidth:y.once(n),minHeight:i.minHeight}})};var Qn=function(n){return bn(function(t,e,r){t.addClass("minHeight");var i=r();return{minWidth:i.minWidth,minHeight:y.once(o(n))}})};var Gn=function(n,t){return bn(function(e,r,i){e.addClass("withDimensions");var a=i();return{minWidth:y.once(n),minHeight:y.once(o(t))}})};var Kn=function(n,t){return bn(t||tn,function(t,e,r){t.addClass("passthrough");if(n){n(t)}return r()})};var Zn=function(n){return Kn(null,n)};var nt=function(n,t){n=n||{};t=t||{};return bn(function(e,r,i){r=$.extend({},r,{top:t.top||r.top,left:t.left||r.left,width:t.width?y.map(r.width,t.width):r.width,height:t.height?y.map(r.height,t.height):r.height});var o=i(r);o.minWidth=n.minWidth?y.map(o.minWidth,n.minWidth):o.minWidth;o.minHeight=n.minHeight?y.map(o.minHeight,n.minHeight):o.minHeight;return o})};var tt=n(function(n){return bn(function(t,e,r){var i=r();return{minWidth:y.map(i.minWidth,function(t){return n.mw(t)}),minHeight:y.map(i.minHeight,function(t){return n.mh(t)})}})});var et=Hn([qn("cursor","pointer"),qn("pointer-events","initial")]);var rt=function(n){return function(t){return Xn(n,t)}};var it=rt("change");var ot=rt("click");var at=rt("input propertychange");var ut=rt("keydown");var ct=rt("keyup");var st=rt("mousedown");var ft=rt("mousemove");var lt=rt("mouseover");var ht=rt("mouseout");var vt=rt("mouseup");var pt=rt("submit");var dt=function(n,t){return ot(function(e){y.push(n,t(e))})};var mt=function(n){return Kn(function(t){n(false,t);t.on("mouseover",function(e){n(true,t,e)});t.on("mouseout",function(e){n(false,t,e)})})};var gt=function(n,t){t=t||function(n){return n};return In(function(e){e.css("pointer-events","initial");e.on("mouseover",function(e){y.push(n,t(e))});e.on("mouseout",function(e){y.push(n,t(false))})})};var wt=function(n,t){return Kn(function(e){y.map(t,function(t){e.css(n,t)})})};var bt=function(n,t,e,r){if(Mn(n)){n={background:n,font:t,backgroundHover:e,fontHover:r}}n=n||{};if(y.isStream(n.background)||y.isStream(n.font)||y.isStream(n.backgroundHover)||y.isStream(n.fontHover)){if(n.background&&!y.isStream(n.background)){n.background=y.once(n.background)}if(n.font&&!y.isStream(n.font)){n.font=y.once(n.font)}if(n.backgroundHover&&!y.isStream(n.backgroundHover)){n.backgroundHover=y.once(n.backgroundHover)}if(n.fontHover&&!y.isStream(n.fontHover)){n.fontHover=y.once(n.fontHover)}n=y.combineObject(n)}if(!y.isStream(n)){n=y.once(n)}return In(function(t){var e,r,i,o,a=false;var u=function(){var n=a?i||e:e;var u=a?o||r:r;if(n){t.css("background-color",On(n))}if(u){t.css("color",On(u))}};y.map(n,function(n){e=n.background;r=n.font;i=n.backgroundHover||e;o=n.fontHover||r;u()});t.on("mouseover",function(){a=true;u()});t.on("mouseout",function(){a=false;u()})})};var yt=function(n){return Kn(function(t){t.css("color",On(n))})};var Ht=n(function(n){var t=On(n.backgroundColor||An);var e=On(n.hoverBackgroundColor||t);var r=On(n.fontColor||Pn);var i=On(n.hoverFontColor||r);return mt(function(o,a){a.css("transition","background-color ease "+n.transition+"s"+", color ease "+n.transition+"s");a.css("background-color",o?e:t);a.css("color",o?i:r)})});var Wt=function(n){var t=n.all||0,e=n.all||0,r=n.all||0,i=n.all||0;if($.isNumeric(n)){t=e=r=i=n}else{for(var o in n){var a=o.toLowerCase();if(n[o]!==null){if(a.indexOf("top")!==-1){t=n[o]}if(a.indexOf("bottom")!==-1){e=n[o]}if(a.indexOf("left")!==-1){r=n[o]}if(a.indexOf("right")!==-1){i=n[o]}}}}return bn(function(n,o,a){n.addClass("crop");n.css("overflow","hidden");var u=y.create();var c=a({top:y.prop(u,"top"),left:y.prop(u,"left"),width:y.prop(u,"width"),height:y.prop(u,"height")});var s=y.create();var f=y.create();y.combineInto([c.minWidth,c.minHeight,o.width,o.height],function(n,o,a,u){var c=a/(1-r-i);var s=u/(1-t-e);return{top:-t*s,left:-r*c,width:c,height:s}},u);y.combine([c.minWidth,c.minHeight],function(n,o){y.push(s,n*(1-r-i));y.push(f,function(a){return o(n/(1-r-i))*(1-t-e)})});return{minWidth:s,minHeight:f}})};var xt=function(n,t){return t===0?1:n/t};var $t=n(function(n){n=n||{};return bn(function(t,e,r){t.addClass("keepAspectRatio");t.css("overflow","hidden");var i=y.create();var o=r({top:y.prop(i,"top"),left:y.prop(i,"left"),width:y.prop(i,"width"),height:y.prop(i,"height")});y.combineInto([o.minWidth,o.minHeight,e.width,e.height],function(t,e,r,i){var o=xt(t,e(t));var a=xt(r,i);if(!n.fill&&a>o||n.fill&&a<o){var u=i*o;var c;if(n.left){c=0}else if(n.right){c=r-u}else{c=(r-u)/2}return{top:0,left:c,width:u,height:i}}else{var s=r/o;var f;if(n.top){f=0}else if(n.bottom){f=i-s}else{f=(i-s)/2}return{top:f,left:0,width:r,height:s}}},i);var a=y.create();var u=y.create();y.combine([o.minWidth,o.minHeight],function(t,e){if(n.minWidth){y.push(a,n.minWidth)}else if(n.minHeight){var r=xt(t,e(t));y.push(a,n.minHeight*r)}else{y.push(a,t)}y.push(u,function(n){return n/xt(n,e(t))})});return{minWidth:a,minHeight:u}})});var Tt=function(n){var t=y.isStream(n.src)?n.src:y.once(n.src);return on(function(e,r){var i=y.create();var o=y.create();if(t.lastValue){e.prop("src",t.lastValue)}y.map(t,function(n){L(e,"prop","src",n)});e.on("load",function(){var t=e[0].naturalWidth/e[0].naturalHeight;var r=n.hasOwnProperty("minWidth")&&n.minWidth||n.hasOwnProperty("minHeight")&&n.minHeight&&n.minHeight*t||e[0].naturalWidth;if(n.minWidth===0||n.minHeight===0){r=0}y.push(i,r);y.push(o,function(n){return n/t})});return{minWidth:i,minHeight:o}})};var Ct=n(function(n){if($.type(n)==="string"){n={href:n}}return bn(Z,function(t,e,r){t.prop("href",n.href);t.css("pointer-events","initial");if(n.target){t.prop("target",n.target)}if(!n.defaultStyle){t.addClass("no-style")}return r()})});var Mt=function(n){return G(n,function(n,t){n.addClass("empty");return{minWidth:T,minHeight:y.once(o(0))}})};var St=Mt("div");var kt=function(n,t){n=n||"";if(!$.isArray(n)){n=[n]}t=t||n[0];if($.isArray(t)){t=t.reduce($.extend,{})}t.lineHeight=t.lineHeight||1;return(t.el||tn)(function(e,r){var i=false;var a=y.create();var u=y.create();var c=[];e.addClass("text");n.map(function(r,i){if($.type(r)==="string"){r={str:r};n[i]=r}if(r.font){r=$.extend(r,r.font)}if(r.fonts){r.fonts.map(function(n){r=$.extend(r,n)})}var o=$(document.createElement("span"));var a=function(t){if(i===0){t=" "+t}if(i===n.length-1){t=t+" "}o.html(t);r.words=t.split(" ")};if(y.isStream(r.str)){c.push(y.map(r.str,function(n){a(n)}))}else{a(r.str)}r.size=r.size||t.size;var u="normal";var s="normal";var f=r.weight||t.weight||"normal";var l=r.size||t.size||parseInt(e.css("font-size"));var h=r.lineHeight||t.lineHeight||e.css("line-height");var v=r.family||t.family||"initial";r.font=[u,s,f,l+"px/"+h,v].join(" ");if(r.size){if(y.isStream(r.size)){c.push(y.map(r.size,function(n){o.css("font-size",n)}))}else{o.css("font-size",r.size)}}if(r.weight){if(y.isStream(r.weight)){c.push(y.map(r.weight,function(n){o.css("font-weight",r.x)}))}else{o.css("font-weight",r.weight)}}if(r.family){if(y.isStream(r.family)){c.push(y.map(r.family,function(n){o.css("font-family",r.x)}))}else{o.css("font-family",r.family)}}if(r.color){if(y.isStream(r.color)){c.push(y.map(r.color,function(n){o.css("color",On(n))}))}else{o.css("color",On(r.color))}}if(r.shadow){if(y.isStream(r.shadow)){c.push(y.map(r.shadow,function(n){o.css("text-shadow",r.x)}))}else{o.css("text-shadow",r.shadow)}}if(r.align){if(y.isStream(r.align)){c.push(y.map(r.align,function(n){o.css("vertical-align",r.x)}))}else{o.css("vertical-align",r.align)}}if(r.spanCSS){r.spanCSS.map(function(n){o.css(n.name,n.value)})}if(r.linkTo){var p=$(document.createElement("a"));p.prop("href",r.linkTo).appendTo(e);o.appendTo(p)}else{o.appendTo(e)}});var s=true;var f=function(){y.next(function(){var n=t.minWidth||t.measureWidth&&U(e)||300;var r=t.oneLine&&e.css("line-height").indexOf("px")!==-1&&o(parseFloat(e.css("line-height")))||function(n){var r=t.size||parseInt(e.css("font-size"));var i=e.text();var o=t.lineHeight;return Math.ceil(r*i.length*.5/n)*r*t.lineHeight};if(!t.oneLine){y.defer(function(){var n=t.minHeight&&o(t.minHeight)||_(e);y.push(u,n)})}y.push(a,n);if(t.oneLine||t.approximateHeight){y.push(u,r)}s=false})};if(c.length>0){y.combine(c,function(){f()})}if(t.size){if(y.isStream(t.size)){y.map(t.size,function(n){e.css("font-size",n);f()})}else{e.css("font-size",t.size)}}if(t.weight){if(y.isStream(t.weight)){y.map(t.weight,function(n){e.css("font-weight",n);f()})}else{e.css("font-weight",t.weight)}}if(t.family){if(y.isStream(t.family)){y.map(t.family,function(n){e.css("font-family",n);f()})}else{e.css("font-family",t.family)}}if(t.color){if(y.isStream(t.color)){y.map(t.color,function(n){e.css("color",On(n));f()})}else{e.css("color",On(t.color))}}if(t.shadow){if(y.isStream(t.shadow)){y.map(t.shadow,function(n){e.css("text-shadow",n);f()})}else{e.css("text-shadow",t.shadow)}}if(t.align){if(y.isStream(t.align)){y.map(t.align,function(n){e.css("text-align",n);f()})}else{e.css("text-align",t.align)}}f();return{minWidth:a,minHeight:u}})};var Vt=function(n,t){return t};var Ot=function(n,t){return t};var Ft=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.left+=r/2});return t};var At=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.width+=i;n.left+=t*i});return t};var Pt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);var i=r/t.length;t.map(function(n,t){n.left+=(t+.5)*i});return t};var zt=function(){var n=0;return function(t,e,r,i){if(i===0){e=At(t,e);n=e[0].width;return e}else{e.map(function(t,e){t.width=n;t.left=n*e});return Ft(t,e)}}};var Nt=function(){var n=0;return function(t,e,r){if(r===0){e=Ft(t,e);n=e[0].left;return e}else{e.map(function(t,e){t.left+=n});return e}}};var Et=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);var o=t/Math.max(n,e.length);e.map(function(n,t){n.width=o;n.left=t*o});r=e[e.length-1];i=t-(r.left+r.width);o=i/e.length;e.map(function(n,t){n.left+=i/2});return e}};var Rt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);t.map(function(n,e){for(var i=0;i<e;i++){n.left+=r/(t.length-1)}});return t};var Lt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);t.map(function(n,e){n.left+=e*r/t.length+r/(2*t.length)});return t};var It=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);e.map(function(t,e){t.left+=n*i});return e}};var Dt=It(0);var jt=It(.5);var Bt=It(1);var qt=function(n,t){var e=t[t.length-1];var r=n-(e.left+e.width);if(t.length===1){if(r<t[0].width){return At(n,t)}else{return t}}if(t.length===2){return Lt(n,t)}return Rt(n,t)};var Xt=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.left+r.width);e.map(function(t,r){if(r===n||r===e.length-1&&n>=e.length){t.width+=i}else if(r>n){t.left+=i}});return e}};var Yt=Xt(0);var Ut=Xt(1);var _t=Xt(2);var Jt=function(n,t){var e=t[t.length-1];var r=n-(e.top+e.height);t.map(function(n,t){n.top+=r/2});return t};var Qt=function(n,t){var e=t[t.length-1];var r=n-(e.top+e.height);var i=r/t.length;t.map(function(n,t){n.height+=i;n.top+=t*i});return t};var Gt=function(n){return function(t,e){var r=e[e.length-1];var i=t-(r.top+r.height);e.map(function(t,r){if(r===n||r===e.length-1&&n>=e.length){t.height+=i}else if(r>n){t.top+=i}});return e}};var Kt=function(n,t){var e=t.length-1;var r=t[t.length-1];var i=n-(r.top+r.height);t.map(function(n,r){if(r===e||r===t.length-1&&e>=t.length){n.height+=i}else if(r>e){n.top+=i}});return t};var Zt=n(function(n){n.padding=n.padding||0;n.transitionTime=n.transitionTime||0;return bn(function(t,e,r){t.css("overflow","hidden");t.addClass("slideshow");var i=r.concat(r).concat(r).map(function(){return{left:y.create()}});var a=r.concat(r).concat(r).map(function(n,t){return n(i[t])});var u=[0,1,2];var c=function(n){return d(Math.floor((n+r.length)/r.length),3)};var f=Nn(a);var h=En(a);var v=function(t,e,i,o,a){return i.map(function(i,o){var c=Math.floor(o/r.length);var s=u.indexOf(c);var f=d(o,r.length)-d(t,r.length);return{left:(f+(s-1)*r.length)*(e+n.padding),warp:s===a}})};var p=function(t,e,r,o){t.map(function(t,e){var r=i[e];a[e].$el.css("transition",t.warp?"":"left ease "+n.transitionTime+"s");y.push(r.left,t.left)});o&&setTimeout(function(){o()},500)};var d=function(n,t){return(n%t+t)%t};var m=y.reduce(n.moveS,function(n,t){return n+t.amount},0);var g=y.combine([m,e.width,f,h],function(n,t,e,i){var a=d(n,r.length);var s=c(n);var f=u.indexOf(s);var h;switch(f){case 0:u=[u[2],u[0],u[1]];h=v(a+r.length,t,e,i,0);p(h,a+r.length);break;case 1:h=v(a+r.length,t,e,i);p(h,a+r.length);break;case 2:u=[u[1],u[2],u[0]];h=v(a+r.length,t,e,i,2);p(h,a+r.length);break}return o(i.map(function(n,e){return n(t)}).reduce(l,0))});y.push(g,o(0));return{minWidth:y.map(f,function(t){return t.reduce(s,n.padding*(a.length-1))}),minHeight:g}})});var ne=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusWidthFunc=n.surplusWidthFunc||Vt;return bn(function(t,e,r){t.addClass("sideBySide");if(r.length===0){return{minWidth:y.once(0),minHeight:y.once(o(0))}}var i=[];var a=r.map(function(n){var t={left:y.create(),width:y.create()};i.push(t);return n(t)});var u=Nn(a,e);var c=En(a,e);var f=[c];var h=function(t,e){var r=0;var i=e.map(function(e,i){var o=Math.min(t,e);var a={left:r+n.padding*i,width:o};r+=o;return a});i=n.surplusWidthFunc(t,i);return i};y.combine([e.width,u,c,n.sourcePositionsS||y.once([])],function(t,e,r,o){var a=h(t,e);if(n.targetPositionsS){y.push(n.targetPositionsS,a)}o.map(function(n,t){a[t]=n});a.map(function(n,t){var e=i[t];y.push(e.left,n.left);y.push(e.width,n.width)})});return{minWidth:y.map(u,function(t){return t.reduce(s,n.padding*(a.length-1))}),minHeight:y.combine([u,c],function(n,t){return function(e){var r=h(e,n);return r.map(function(n,e){return t[e](r[e].width)}).reduce(l,0)}})}})});var te=n(function(n){n=n||{};n.top=n.top||50;n.transition=n.transition||"1s";return bn(function(t,e,r){var i={top:y.create()};var o=r(i);o.$el.css("transition","top "+n.transition);var a=false;y.push(i.top,n.top);y.combine([e.topOffset,e.top,M,O,A],function(n,t,e,r,o){if(!a&&o){var u=n+t;var c=r+e;if(u<=c){y.push(i.top,0);a=true}}});return{minWidth:o.minWidth,minHeight:o.minHeight}})});var ee=n(function(n){n=n||{};n.transition=n.transition||"1s";n.margin=n.margin||0;return bn(function(t,e,r){var i=r();var o=false;i.$el.css("opacity",0);setTimeout(function(){i.$el.css("transition","opacity "+n.transition)});y.combine([e.topOffset,e.top,M,O,A],function(t,e,r,a,u){if(!o&&u){var c=t+e;var s=a+r;if(c+n.margin<=s){i.$el.css("opacity",1);o=true}}});return{minWidth:i.minWidth,minHeight:i.minHeight}})});var re=n(function(n,t){n=n||{};n.leftTransition=n.leftTransition||"0s";var e=y.once(false);var r={left:"left",right:"right"};var i=y.once({index:0,edge:"left"});var a=0;return bn(function(t,r,u){t.addClass("slider").css("overflow-x","hidden").css("cursor","move");var c=y.create();var f=y.create();var h=y.combine([r.width,c,i,e],function(n,t,e,r){var i=e.edge==="left"?0:n;t.map(function(n,t){if(t<e.index){i-=n}if(e.edge==="right"&&t===e.index){i-=n}});if(r!==false){i+=r}return i});var v=y.combine([c,h],function(n,t){return n.reduce(function(n,t){n.arr.push(n.lastValue);n.lastValue+=t;return n},{arr:[],lastValue:t}).arr});var p=u.map(function(n,t){return{top:y.once(0),left:y.map(v,function(n){return n[t]}),width:y.create(),height:r.height}});var d=u.map(function(n,t){var e=n(p[t]);y.pushAll(e.minWidth,r.width);return e});y.pushAll(Nn(d,r),c);y.pushAll(En(d,r),f);var m=y.map(c,function(n){return n.reduce(s,0)});t.css("user-select","none");t.on("mousedown",function(n){n.preventDefault();y.push(e,0);d.map(function(n){n.$el.css("transition","left 0s")})});var g=function(t){d.map(function(t){t.$el.css("transition","left "+n.leftTransition)});var o=c.lastValue;var a=r.width.lastValue;var u=e.lastValue;if(!u){return}var s=h.lastValue;var f=o.reduce(function(n,t){var e=n[n.length-1];n.push(e-t);return n},[0]);var l=f.reduce(function(n,t,e){var r=Math.abs(t-s);var i=Math.abs(t-(s-a));return{left:r<n.left.distance?{distance:r,index:e}:n.left,right:i<n.right.distance?{distance:i,index:e-1}:n.right}},{left:{distance:Number.MAX_VALUE,index:-1},right:{distance:Number.MAX_VALUE,index:-1}});if(l.left.distance<=l.right.distance){y.push(i,{index:l.left.index,edge:"left"})}else{y.push(i,{index:l.right.index,edge:"right"})}y.push(e,false);t.preventDefault()};t.on("mouseup",g);t.on("mouseout",g);t.on("mousemove",function(n){var t=e.lastValue;var i=m.lastValue;var o=r.width.lastValue;var u=h.lastValue;if(t!==false){var c=n.clientX-a;var s=u+c;s=Math.min(0,s);if(i>o){s=Math.max(o-i,s)}c=s-u;t=t+c;y.push(e,t)}a=n.clientX});return{minWidth:y.map(c,function(n){return n.reduce(l,0)}),minHeight:y.combine([c,f],function(n,t){return o(t.map(function(t,e){return t(n[e])}).reduce(l,0))})}})});var ie=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusHeightFunc=n.surplusHeightFunc||Ot;n.collapsePadding=n.collapsePadding||false;n.transition=n.transition||0;return bn(function(t,e,r){t.addClass("stack");if(r.length===0){return{minWidth:y.once(0),minHeight:y.once(o(0))}}var a=[];var u=r.map(function(n){var t={widthCss:y.once("100%"),top:y.create(),height:y.create()};a.push(t);return n(t)});if(n.transition){var c=n.transition+"s";u.map(function(n){n.$el.css("transition","height "+c+", top "+c)})}var f=Nn(u);var h=En(u);y.combine([e.width,e.height,h],function(t,e,r){var i=0;var o=r.map(function(e,r){var o={top:i,height:e(t)};var a=e(t);if(n.collapsePadding){if(a>0){i+=a+n.padding}}else{i+=a+n.padding}return o});o=n.surplusHeightFunc(e,o);
o.map(function(n,t){var e=a[t];y.push(e.top,n.top);y.push(e.height,n.height)})});return{minWidth:y.map(f,function(n){return n.reduce(l,0)}),minHeight:y.map(h,function(t){return function(e){var r=t.map(i(e));return r.reduce(s,n.padding*(r.filter(function(t){return!n.collapsePadding||t>0}).length-1))}})}})});var oe=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusHeightFunc=n.surplusHeightFunc||Ot;n.transition=n.transition||0;return function(t){return yn(function(e,a,u){var c=y.once(0);var f=y.once(o(0));var h=[];var v=[];var p=[];var d=[];var m=function(){var t=a.width.lastValue;var e=a.height.lastValue;var r=[];var o=[];v.map(function(n,t){r[t]=n.minWidth.lastValue;o[t]=n.minHeight.lastValue});if(!r.concat(o).reduce(function(n,t){return n&&t!==undefined},true)){return}y.push(c,r.reduce(l,0));y.push(f,function(t){return o.map(i(t)).reduce(s,n.padding*(v.length-1))});if(t===undefined){return}if(e===undefined){return}var u=0;var p=-1;var d=o.map(function(e){p+=1;var r={top:u+n.padding*p,height:e(t)};u+=e(t);return r});d=n.surplusHeightFunc(e,d);h.map(function(n,t){var e=d[t];y.push(n.top,e.top);y.push(n.height,e.height)})};y.onValue(a.width,m);y.onValue(a.height,m);var g=[];var w=-1;var b=function(n,t){for(var e=g.length;e>t;e--){g[e+1]=g[e];p[e+1]=p[e];d[e+1]=d[e];h[e+1]=h[e];v[e+1]=v[e]}w+=1;var r={top:y.create(),height:y.create()};var i=u(n,r);g[w]=n;p[w]=y.onValue(i.minWidth,m);d[w]=y.onValue(i.minHeight,m);h[w]=r;v[w]=i;return w};var H=function(n){var t=g.indexOf(n);v[t].remove();p[t]();d[t]();delete g[t];delete p[t];delete d[t];delete h[t];delete v[t];m()};y.onValue(t,function(n){r({insert:b,insertMany:function(n){n.map(b)},remove:H},n)});return{minWidth:c,minHeight:f}})}});var ae=n(function(n,t){n=n||{};n.indent=n.indent||10;return function(t){var e=y.once(true);return ne()([xe(y.map(e,function(n){})),oe(n)(y.map(t,r({expand:function(n,t){},collapse:function(n){}})))])}});var ue=function(n,t){var e=[];n.map(function(n){e.push(n);e.push(t)});e.pop();return e};var ce=function(n){var t=n.all||0,e=n.all||0,r=n.all||0,i=n.all||0;if($.isNumeric(n)){t=e=r=i=n}else{for(var o in n){var a=o.toLowerCase();if(n[o]!==null){if(a.indexOf("top")!==-1){t=n[o]||0}if(a.indexOf("bottom")!==-1){e=n[o]||0}if(a.indexOf("left")!==-1){r=n[o]||0}if(a.indexOf("right")!==-1){i=n[o]||0}}}}return bn(function(n,o,a){n.addClass("margin");var u=a({top:y.once(t),left:y.once(r),width:y.map(o.width,function(n){return n-r-i}),height:y.map(o.height,function(n){return n-t-e}),widthCss:y.once("calc(100% - "+W(r+i)+")"),heightCss:y.once("calc(100% - "+W(t+e)+")")});return{minWidth:y.map(u.minWidth,function(n){return n+r+i}),minHeight:y.map(u.minHeight,function(n){return function(o){return n(o-r-i)+t+e}})}})};var se=function(n){var t=y.create();var e=y.create();var r=y.create();var i=y.create();y.map(n,function(n){var o=n.all||0,a=n.all||0,u=n.all||0,c=n.all||0;if($.isNumeric(n)){o=a=u=c=n}else{for(var s in n){var f=s.toLowerCase();if(n[s]!==null){if(f.indexOf("top")!==-1){o=n[s]}if(f.indexOf("bottom")!==-1){a=n[s]}if(f.indexOf("left")!==-1){u=n[s]}if(f.indexOf("right")!==-1){c=n[s]}}}}y.push(t,o);y.push(e,a);y.push(r,u);y.push(i,c)});return bn(function(n,o,a){var u=a({top:t,left:r,height:y.combine([o.height,t,e],function(n,t,e){return n-t-e}),width:y.combine([o.width,r,i],function(n,t,e){return n-t-e})});return{minWidth:y.combine([u.minWidth,r,i],function(n,t,e){return n+t+e}),minHeight:y.combine([u.minHeight,t,e],function(n,t,e){return function(r){return n(r)+t+e}})}})};var fe=n(function(n){n=n||{};n.transition=(n.transition||0)+"s";return function(n){return bn(function(n,t,e,r,i){n.addClass("alignLRM");var o={width:y.create()};var a={width:y.create(),left:y.create()};var u={width:y.create(),left:y.create()};var c=e(o);var s=r(a);var f=i(u);y.combine([c.minWidth,s.minWidth,f.minWidth,t.width],function(n,t,e,r){y.push(o.width,Math.min(r,n));y.push(a.width,Math.min(r,t));y.push(u.width,Math.min(r,e));y.push(o.left,0);y.push(a.left,r-Math.min(r,t));y.push(u.left,(r-Math.min(r,e))/2)});return{minWidth:y.combine([c.minWidth,s.minWidth,f.minWidth],function(n,t,e){return e>0?Math.max(e+2*n,e+2*t):n+t}),minHeight:y.combine([c.minWidth,s.minWidth,f.minWidth,c.minHeight,s.minHeight,f.minHeight],function(n,t,e,r,i,o){return function(a){return[r(Math.min(a,n)),i(Math.min(a,t)),o(Math.min(a,e))].reduce(l)}})}})(n.l||St,n.r||St,n.m||n.c||St)}},t);var le=function(n){return fe({l:n})};var he=function(n){return fe({r:n})};var ve=n(function(n){return function(t){return fe(n)({m:t})}});var pe=n(function(n){n=n||{};n.transition=(n.transition||0)+"s";return function(t){return bn(function(t,e,r,i,o){t.addClass("alignTBM");var a={height:y.create()};var u={height:y.create(),top:y.create()};var c={height:y.create(),top:y.create()};var s=r(a);var f=i(u);var h=o(c);y.combine([s.minHeight,f.minHeight,h.minHeight,e.width,e.height],function(n,t,e,r,i){y.push(a.height,Math.min(i,n(r)));y.push(u.height,Math.min(i,t(r)));y.push(c.height,Math.min(i,e(r)));y.push(a.top,0);y.push(u.top,Math.max(0,i-Math.min(i,t(r))));y.push(c.top,Math.max(0,(i-Math.min(i,e(r)))/2))});s.$el.css("transition","top "+n.transition);f.$el.css("transition","top "+n.transition);h.$el.css("transition","top "+n.transition);return{minWidth:y.combine([s.minWidth,f.minWidth,h.minWidth],function(n,t,e){return[n,t,e].reduce(l)}),minHeight:y.combine([s.minHeight,f.minHeight,h.minHeight],function(n,t,e){return function(r){var i=n(r);var o=t(r);var a=e(r);return a>0?Math.max(a+2*i,a+2*o):i+o}})}})(t.t||St,t.b||St,t.m||t.c||St)}},e);var de=function(n){return pe({t:n})};var me=function(n){return pe({b:n})};var ge=function(n){return pe({m:n})};var we=function(n){return fe({l:n})};var be=function(n){return fe({r:n})};var ye=function(n){return fe({m:n})};var He=Hn([ye,ge]);var We=function(n,t,e){var r=t.left||t.all||0;var i=t.right||t.all||0;var o=t.top||t.all||0;var a=t.bottom||t.all||0;var u=t.radius||0;if($.isNumeric(t)){o=a=r=i=t}e=e||"solid";if(!y.isStream(n)){n=y.once(n)}var c=y.map(n,On);return bn(function(n,t,s){n.addClass("border");var f=s({width:y.map(t.width,function(n){return n-r-i}),height:y.map(t.height,function(n){return n-o-a}),widthCss:y.once("calc(100% - "+W(r+i)+")"),heightCss:y.once("calc(100% - "+W(o+a)+")")});f.$el.css("overflow","hidden");f.$el.css("border-radius",W(u));y.map(c,function(n){f.$el.css("border-left",W(r)+" "+e+" "+n).css("border-right",W(i)+" "+e+" "+n).css("border-top",W(o)+" "+e+" "+n).css("border-bottom",W(a)+" "+e+" "+n)});return{minWidth:y.map(f.minWidth,function(n){return n+r+i}),minHeight:y.map(f.minHeight,function(n){return function(t){return n(t)+o+a}})}})};var xe=function(n){var t=new Error;return yn(function(t,e,r){t.addClass("componentStream");var i;var o;var a;var u=y.create();var c=y.create();var s=y.reduce(n,function(n,t){if(n){n.remove()}if(o){o()}if(a){a()}n=r(t,{widthCss:y.once("100%"),heightCss:y.once("100%")});o=y.pushAll(n.minWidth,u);a=y.pushAll(n.minHeight,c);return n});return{minWidth:u,minHeight:c,onRemove:function(){if(i){i.remove()}}}})};var $e=function(n,t){var e=n.map(y.once);return t.apply(null,e)};var Te=function(n,t){return $e([n],t)};var Ce=function(n,t,e){var r;var i;t=t||function(){var n=$.Deferred();n.resolve();return n.promise()};return yn(function(o,a,u){o.addClass("component-stream-with-exit");var c=y.create();y.pushAll(n,c);var s=y.create();var f=y.create();var l=function(n){if(r){(function(n){setTimeout(function(){t(n,i).then(function(){n.remove()})})})(r)}i={widthCss:y.once("100%"),heightCss:y.once("100%")};r=u(n,i);r.$el.css("transition","inherit");r.$el.css("display","none");r.$el.prependTo(o);y.pushAll(r.minWidth,s);y.pushAll(r.minHeight,f);y.defer(function(){r.$el.css("display","");if(e){e(r,i)}})};y.map(c,function(n){l(n)});return{minWidth:s,minHeight:f,onRemove:function(){y.end(c);if(r){r.remove()}}}})};var Me=function(n,t){var e=y.create();if(t){y.push(e,t)}n.then(function(n){y.push(e,n)},function(n){console.log(n)}).catch(function(n){console.log(n)});return xe(e)};var Se=function(n,t){return xe(y.map(t,function(t){return n[t]}))};var ke=function(n){return function(t,e){var r=y.once(false);y.pushAll(t,r);e=e||0;return bn(function(n,t,i){n.addClass("modalDialog");var a=i({top:y.once(0),left:y.once(0),width:y.map(C,function(n){return document.body.clientWidth}),height:M});n=a.$el;n.css("z-index",100);n.appendTo($("body"));n.css("position","fixed");n.css("transition",n.css("transition")+", opacity "+e+"s");n.css("display","none");n.css("pointer-events","initial");y.onValue(r,function(t){if(t){n.css("display","");setTimeout(function(){n.css("opacity",1)},100)}else{n.css("opacity",0);setTimeout(function(){n.css("display","none")},e*1e3)}});return{minWidth:T,minHeight:y.once(o(0))}})(n)}};var Ve=function(n){return bn(function(t,e,r){t.css("overflow","hidden").addClass("toggle-height");var i=r();return{minWidth:i.minWidth,minHeight:y.combine([i.minHeight,n],function(n,t){return function(e){return t?n(e):0}})}})};var Oe=function(n,t,e,r){r=r||{};r.transition=r.transition||"0.5s";return bn(function(n,t,e,r){n.addClass("dropdown-panel");n.css("overflow","visible");var i={height:y.create(),top:y.create()};var o=r(i);var a=e();_n(i,o);y.pushAll(t.height,i.top);return{minWidth:y.map(y.combine([o.minWidth,a.minWidth],Math.max),function(n){return n}),minHeight:a.minHeight}})(n,bn(function(n,t,i){var o={top:y.combine([e,t.height],function(n,t){return n?0:-t})};if(r.panelHeightS){y.pushAll(o.height,r.panelHeightS)}var a=i(o);a.$el.css("transition","top "+r.transition).css("z-index",1e3);return a})(t))};var Fe=function(n,t,e,r){r=r||{};r.transition=r.transition||"0.5s";return bn(function(n,t,e,r){n.addClass("side-sliding-panel");setTimeout(function(){n.css("overflow","visible")});var i={width:y.create(),height:y.create(),left:y.create(),top:y.create()};var o=r(i);var a=e();Un(i,o);y.combineInto([t.height,M,o.minWidth,o.minHeight],function(n,t,e,r){return Math.max(t-n,r(e))},i.height);y.pushAll(t.height,i.top);y.combineInto([t.width,o.minWidth],function(n,t){return n-t},i.left);return{minWidth:y.map(y.combine([o.minWidth,a.minWidth],s),function(n){return n}),minHeight:a.minHeight}})(n,bn(function(n,t,i){var o=i({left:y.combine([e,t.width],function(n,t){return n?0:t})});o.$el.css("transition","left "+r.transition).css("z-index",1e3);return o})(t))};var Ae=n(function(n){n.transition=n.transition||"0.5s";return bn(function(t,e,r,i){var o=y.create();var a=i({width:e.width,height:o});y.pushAll(y.combine([e.width,a.minHeight],function(n,t){return t(n)}),o);var u=y.create();var c=r({top:o,width:e.width,height:u});y.pushAll(y.combine([e.width,c.minHeight],function(n,t){return t(n)}),u);a.$el.css("position","fixed");setTimeout(function(){a.$el.css("transition","height "+n.transition);c.$el.css("transition","top "+n.transition)});return{minWidth:y.map(y.combine([c,a].map(function(n){return n.minWidth})),function(n,t){return n+t}),minHeight:y.map(y.combine([c,a].map(function(n){return n.minHeight})),function(n,t){return function(e){return n(e)+t(e)}})}})});var Pe=function(n){n=n||T;return bn(function(t,e,r){t.addClass("makeSticky");var i={widthCss:y.once("100%"),heightCss:y.once("100%")};var o=r(i);y.combine([O,n,e.top,e.topOffset,e.left,e.leftOffset],function(n,e,r,i,o,a){if(r+i>n+e){t.css("position","absolute");t.css("transition","");t.css("left",W(o))}else if(r+i<n+e){var u=o+a;t.css("position","fixed");t.css("left",W(u));t.css("top",W(e));setTimeout(function(){t.css("transition","inherit")},20)}});return o})};var ze=function(n){return function(t,e){var r=Math.min(n,t.length-1);return e[r](t[r].width)}};var Ne=function(n,t){return n.reduce(function(n,e,r){return Math.max(n,t[r](e.width))},0)};var Ee=n(function(n){n=n||{};n.padding=n.padding||0;n.surplusWidthFunc=n.surplusWidthFunc||Vt;n.surplusHeightFunc=n.surplusHeightFunc||Ot;n.rowHeight=n.rowHeight||Ne;n.maxPerRow=n.maxPerRow||0;n.rowOrColumn=n.rowOrColumn||false;return function(t){return bn(function(t,e,r){t.addClass("grid");var i=y.create();var a=y.create();if(r.length===0){y.push(i,0);y.push(a,o(0))}var u=[];var c=r.map(function(n){var t={top:y.create(),left:y.create(),width:y.create(),height:y.create()};u.push(t);return n(t)});var f=y.combine(c.map(function(n){return n.minWidth}),function(){return Array.prototype.slice.call(arguments)});var h=y.combine(c.map(function(n){return n.minHeight}),function(){return Array.prototype.slice.call(arguments)});var v=function(t,e){if(n.allSameWidth){var r=e.reduce(l,0);for(var i=0;i<e.length;i++){e[i]=r}}var o;var a=function(){o=0;return{cells:[],contexts:[],height:0}};var c=e.reduce(function(e,r,i){var c=e.rows;var s=e.currentRow;var f=s.cells.reduce(function(t,e){return t+e.width+n.padding},0);var l=Math.min(r,t);if(n.maxPerRow>0&&s.cells.length===n.maxPerRow||l>0&&l+f>t){c.push(s);s=a()}s.cells.push({width:l,left:o});s.contexts.push(u[i]);o+=l+n.padding;return{rows:c,currentRow:s}},{rows:[],currentRow:a()});var s=c.rows;s.push(c.currentRow);if(n.rowOrColumn&&c.rows.length>1){s=e.map(function(n,t){return{cells:[{width:n,left:0}],contexts:[u[t]],height:0}})}s.map(function(e,r){e.cells=n.surplusWidthFunc(t,e.cells,r)});return s};y.pushAll(y.map(f,function(t){return t.reduce(function(t,e){return n.useFullWidth?t+e+n.padding:Math.max(t,e)+n.padding},-n.padding)}),i);y.combineInto([f,h],function(t,e){return function(r){var i=v(r,t);var o=0;var a=i.map(function(t){var r=n.rowHeight(t.cells,e.slice(o,o+t.cells.length));o+=t.cells.length;return r+n.padding}).reduce(s,-n.padding);return a}},a);y.combine([e.width,e.height,f,h],function(t,e,r,i){var o=v(t,r);var a=0;var u=0;o.map(function(t){t.height=n.rowHeight(t.cells,i.slice(a,a+t.cells.length));t.top=u;a+=t.cells.length;u+=t.height+n.padding});if(n.bottomToTop){o=o.slice(0).reverse()}o=n.surplusHeightFunc(e,o,n);o.map(function(n,t){var e=n.cells.map(function(t){var e={top:n.top,left:t.left,width:t.width,height:n.height};return e});e.map(function(t,e){var r=n.contexts[e];y.push(r.top,t.top);y.push(r.left,t.left);y.push(r.width,t.width);y.push(r.height,t.height)})})});return{minWidth:i,minHeight:a}})(t)}});var Re=function(n){if($.type(n)==="number"){return Jn(n)}return bn(function(t,e,r){t.addClass("withMinWidthStream");var i=r();return{minWidth:$.isFunction(n)?n(i,e):n,minHeight:i.minHeight}})};var Le=function(n){if(!y.isStream(n)){n=y.once(n)}return Re(function(t){return y.combine([t.minWidth,n],l)})};var Ie=function(n){if($.type(n)==="number"){return Qn(n)}return bn(function(t,e,r){t.addClass("withMinHeightStream");var i=r();var o=$.isFunction(n)?n(i,e):n;return{minWidth:i.minWidth,minHeight:y.combine([i.minHeight,o],function(n,t){return function(e){return Math.max(n(e),t(e))}})}})};var De=function(n){if(!y.isStream(n)){n=y.once(n)}return Ie(function(t){return y.combine([t.minHeight,n],function(n,t){return function(e){return Math.max(n(e),t)}})})};var je=function(n){return bn(function(t,e,r){t.addClass("maxHeightStream");var i={height:y.create(),top:y.create()};var o=r(i);y.pushAll(y.combine([o.minHeight,e.width,e.height],function(n,t,e){return Math.max(e,n(t))}),i.height);var a=O.lastValue;var u=y.map(O,function(n){var t=n-a;a=n;return t});var c=0;var s=y.combine([e.height,i.height,u],function(n,t,e){c-=e;c=Math.min(0,c);c=Math.max(n-t,c);return c});y.pushAll(s,i.top);return{minWidth:o.minWidth,minHeight:y.combine([n,o.minHeight],function(n,t){return function(e){return Math.min(n,t(e))}})}})};var Be=n(function(n){return bn(function(n,t,e){n.addClass("largest-width-that-fits");var r=e.map(function(n){return n()});var i=Nn(r);var o=En(r);var a=function(n,t){var e=t.reduce(function(t,e,r){return e<=n&&(t===null||e>t.mw)?{mw:e,index:r}:t},null).index;if(e===null){console.log("none small enough, TODO: use smallest")}return e};y.combine([t.width,i],function(n,t){var e=a(n,t);r.map(function(n,t){n.$el.css("display",t===e?"":"none")})});return{minWidth:y.map(i,function(n){return n.reduce(l,0)}),minHeight:y.combine([i,o],function(n,t){return function(e){var r=a(e,n);return t[r](e)}})}})});var qe=n(function(n){return bn(function(n,t,e){n.addClass("overlays");var r=e.map(function(n){return n()});var o=function(n){return y.combine(n,function(){var n=Array.prototype.slice.call(arguments);return n.reduce(l,0)})};return{minWidth:y.combine(r.map(function(n){return n.minWidth}),function(){var n=Array.prototype.slice.call(arguments);return n.reduce(l,0)}),minHeight:y.combine(r.map(function(n){return n.minHeight}),function(){var n=Array.prototype.slice.call(arguments);return function(t){return n.map(i(t)).reduce(l,0)}})}})});var Xe=function(n,t){t=t||y.once(0);return ie({})([Hn([Jn(0),qn("overflow-x","scroll"),qn("overflow-y","hidden"),qn("pointer-events","initial")])(ie()([ne({surplusWidthFunc:Ft})(n.map(function(n,e){return pe()({b:Hn([et,ot(function(){y.push(t,e)})])(n.tab(t,e))})})),Hn([Qn(dn())])(St)]))])};var Ye={h:function(n){return Jn(n)(St)},v:function(n){return Qn(n)(St)}};var Ue=function(n){return Hn([Qn(n.v||n.x||0),Jn(n.h||n.y||0)])(St)};var _e=function(n){return function(t){for(var e=0;e<n.length;e++){var r=n[e];if(t.indexOf(r.string)===0){return r.router(t.substring(r.string.length))}}}};var Je=function(n){return function(){return n}};var Qe=function(n){return function(){return n()}};var Ge=function(n){return function(t){for(var e=0;e<n.length;e++){var r=n[e](t);if(r){return r}}}};var Ke=function(n){return function(t){return Me(Q(t).then(n))}};var Ze=function(n,t){return xe(y.map(n,function(n){return t(n)}))};var nr=function(n){return function(t){return n()(t)}};var tr={button:function(n,t){return{type:"button",enabledS:y.once(true),name:n,onClick:t}},checkbox:{type:"checkbox"},date:{type:"date"},dropdown:function(n){return{type:"dropdown",options:n}},image:{type:"image"},number:{type:"number"},password:{type:"password"},radios:function(n){return{type:"radios",options:n}},text:{type:"text"},textarea:{type:"textarea"},time:{type:"time"}};var er=/(\d*)-(\d*)-(\d*)/;var rr=function(n){var t=er.exec(n);if(t){var e=new Date;e.setYear(t[1]);e.setMonth(parseInt(t[2])-1);e.setDate(t[3]);return e}};var ir=function(n){if(!n){return}var t=n.getFullYear();var e=n.getMonth()+1;if(e<10){e="0"+e}var r=n.getDate();if(r<10){r="0"+r}return t+"-"+e+"-"+r};var or=function(n){return(n.outerWidth()-parseFloat(n.css("width")))/2;var t=0;t+=parseFloat(n.css("padding-left"));t+=parseFloat(n.css("border-left-width"));return t};var ar=function(n){return(n.outerHeight()-parseFloat(n.css("height")))/2;var t=0;t+=parseFloat(n.css("padding-top"));t+=parseFloat(n.css("border-top-width"));return t};var ur=function(){var n=$(document.createElement("input")).appendTo($("body")).css("position","absolute");var t=or(n);n.remove();return t}();var cr=function(){var n=$(document.createElement("input")).appendTo($("body")).css("position","absolute");var t=ar(n);n.remove();return t}();var sr=function(){var n=$(document.createElement("textarea")).appendTo($("body")).css("position","absolute");var t=or(n);n.remove();return t}();var fr=function(){var n=$(document.createElement("textarea")).appendTo($("body")).css("position","absolute");var t=ar(n);n.remove();return t}();var lr=function(){var n=$(document.createElement("input")).prop("type","checkbox").appendTo($("body")).css("position","absolute");var t=0;t+=parseFloat(n.css("margin-left"));t+=parseFloat(n.css("margin-right"));n.remove();return t}();var hr=function(){var n=$(document.createElement("input")).prop("type","checkbox").appendTo($("body")).css("position","absolute");var t=0;t+=parseFloat(n.css("margin-top"));t+=parseFloat(n.css("margin-bottom"));n.remove();return t}();var vr=function(){var n=$(document.createElement("input")).prop("type","radio").appendTo($("body")).css("position","absolute");var t=0;t+=parseFloat(n.css("margin-left"));t+=parseFloat(n.css("margin-right"));n.remove();return t}();var pr=function(){var n=$(document.createElement("input")).prop("type","radio").appendTo($("body")).css("position","absolute");var t=0;t+=parseFloat(n.css("margin-top"));t+=parseFloat(n.css("margin-bottom"));n.remove();return t}();var dr=nt({},{width:function(n){return n-2*ur},height:function(n){return n-2*cr}});var mr=nt({},{width:function(n){return n-2*sr},height:function(n){return n-2*fr}});var gr=nt({},{width:function(n){return n-lr},height:function(n){return n-hr}});var wr=nt({},{width:function(n){return n-vr},height:function(n){return n-pr}});var br={button:function(n,t,e){t=t||y.create();return Hn([Ln(function(n){y.map(e.enabledS,function(t){n.$el.prop("disabled",!t)})}),ot(function(n){if(!e.enabledS.lastValue){n.preventDefault();return}e.onClick&&e.onClick(n,t,function(){y.push(e.enabledS,false);return function(){y.push(e.enabledS,true)}})})])(kt({str:e.name,el:nn,measureWidth:true}))},checkbox:function(n,t){t=t||y.create();return Hn([gr])(an(function(e,r,i,o){e.prop("id",n);e.prop("name",n);e.prop("type","checkbox");y.onValue(t,function(n){e.prop("checked",n?"checked":"")});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.prop("checked"))});i();o()}))},date:function(n,t){return Hn([dr])(an(function(e,r,i,o){i();o();e.prop("name",n);e.prop("type","date");y.onValue(t,function(n){if((n&&n.getTime())!==(e.val()&&rr(e.val()).getTime())){e.val(ir(n))}});e.on("blur",function(){y.push(t,rr(e.val()))});e.on("change",function(){y.push(t,rr(e.val()))})}))},dropdown:function(n,t,e){return hn(function(r,i,o,a){r.prop("name",n);e.options.map(function(n){if("string"===$.type(n)){n={name:n,value:n}}$(document.createElement("option")).html(n.name).prop("value",n.value).appendTo(r)});if(!t.lastValue){y.push(t,r.val())}y.onValue(t,function(n){if(n!==r.val()){r.val(n)}});r.on("blur",function(){y.push(t,r.val())});r.on("change",function(){y.push(t,r.val())});o();a()})},image:function(n,t){return an(function(e,r,i,o){i();o();e.prop("name",n);e.prop("type","file");e.prop("accept","image/*");e.on("change",function(n){var e=n.target.files.length>0&&n.target.files[0];if(e){var r=new FileReader;r.onload=function(n){y.push(t,n.target.result)};r.readAsDataURL(n.target.files[0])}})})},number:function(n,t){return Hn([dr])(an(function(e,r,i,o){i();o();e.prop("name",n);e.prop("type","number");y.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.val())})}))},password:function(n,t){return Hn([dr])(an(function(e,r,i,o){i();o();e.prop("name",n);e.prop("type","password");y.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.val())});e.on("keyup",function(){y.push(t,e.val())})}))},radios:function(n,t,e){return e.options.map(function(e){return Hn([wr])(an(function(r,i,o,a){r.prop("id",e);r.prop("value",e);r.prop("name",n);r.prop("type","radio");y.onValue(t,function(n){r.prop("checked",n===e?"checked":"")});r.on("change",function(){if(r.prop("checked")){y.push(t,e)}});o();a()}))})},text:function(n,t){return Hn([dr])(an(function(e,r,i,o){i();o();e.prop("name",n);y.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.val())});e.on("keyup",function(){y.push(t,e.val())})}))},textarea:function(n,t){return Hn([mr])(vn(function(e,r){e.prop("name",n);y.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.val())});e.on("keyup",function(){y.push(t,e.val())});var i=or(e);var a=ar(e);var u=e.outerWidth()-2*i;var c=e.outerHeight(true)-2*a;var s=y.once(u+2*i);var f=y.once(o(c+2*a));$("body").on("mousemove",function(){var n=or(e);var t=ar(e);var r=e.outerWidth()-2*n;var i=e.outerHeight(true)-2*t;if(u!==r){y.push(s,r+2*n);u=r}if(c!==i){y.push(f,o(i+2*t));c=i}});e.on("click",function(){var n=or(e);var t=ar(e);var r=e.outerWidth()-2*n;var i=e.outerHeight(true)-2*t;if(u!==r){y.push(s,r+2*n);u=r}if(c!==i){y.push(f,o(i+2*t));c=i}});return{minWidth:s,minHeight:f}}))},time:function(n,t){return Hn([dr])(an(function(e,r,i,o){i();o();e.prop("name",n);e.prop("type","time");y.onValue(t,function(n){if(n!==e.val()){e.val(n)}});e.on("blur",function(){y.push(t,e.val())});e.on("change",function(){y.push(t,e.val())})}))}};var yr=o(Hn([Jn(150)]));var Hr=o(Hn([ce({top:1,bottom:1,left:0,right:0}),We(Cn({r:0,g:0,b:0}),{top:2,bottom:2,left:2,right:2},"inset"),Jn(150)]));var Wr=o(Hn([Hr(),De(100)]));var xr={button:yr,checkbox:c,date:Hr,dropdown:yr,image:Hr,number:Hr,password:Hr,radios:c,text:Hr,textarea:Hr,time:Hr};var $r=function(n,t){return function(e,r){r=r||{};return function(i){i=i||{};return function(o){return function(a){a=a||function(n,t){return t};var u=Object.keys(e);return function(c){var s=u.reduce(function(n,t){var e=i[t];n[t]=e?y.once(e):y.create();return n},{});var f=u.reduce(function(n,i){var o=e[i];n[i]=o&&a(i,s[i],o,r[i])(t[o.type](i,s[i],o,r[i]));return n},{});var l=y.once(false);var h=function(t){return a("",y.create(),n.button(),t)(kt({str:t,el:nn,measureWidth:true}),t)};var v=o(s,function(){y.push(l,true);return function(){y.push(l,false)}});return bn(en,function(n,t,e){n.on("submit",function(n){if(l.lastValue){n.preventDefault();return}v.onSubmit(n)});return e()})(c(s,f,h,v.resultS))}}}}}};var Tr=function(n){var t={};for(var e in n){if(n.hasOwnProperty(e)){t[e]=n[e]}}return t};var Cr=function(n,t){$("html body").animate({scrollTop:n},t)};var Mr=function(n,t,e){return function(i,a){var u=function(n,t){return n.map(function(n){return s(n,t)})};var s=function(a,f){f=f||{};var l=function(n){var t=Tr(f);n.map(function(n){t[n.key]=n.value});return t};var h=function(n){return u(n,f)};var v=function(n){return n&&s(n,f)};var p={"null":null};return r({action:r({scrollTo:function(n){var t=v(n.positionS);var e=v(n.duration||p);return function(){Cr(t.lastValue+"px",e)}}}),all:function(n){return n.fs.reduce(function(n,t){return v(t)(n)},v(n.v))},array:r({evalEach:function(n){return n.map(v)},map:function(n){return v(n.source).map(function(t){var e=l([{key:n.name,value:t}]);return s(n.value,e)})}}),apply:function(n){var t=v(n.f);var e=h(n.args);return s(t.value,l(t.args.map(function(n,t){return{key:n.identifier,value:e[t]||n.default}})))},auth:r({loggedIn:!!i}),bool:r({constant:c}),"case":function(n){var t={};t[n.key]=v(n.value);return t},component:r({alignLRM:function(n){return fe()({l:v(n.l),r:v(n.r),m:v(n.m)})},alignTBM:function(n){return pe()({t:v(n.t),b:v(n.b),m:v(n.m)})},all:function(n){return Hn(h(n.mods))(v(n.c))},bar:r({h:function(t){return n.h(t)},v:function(t){return n.v(t)}}),grid:function(n){var t=n.config||{};return Ee({surplusWidthFunc:r({centerSurplusWidth:o(Sr.funcs.surplusWidth.center),evenSplitSurplusWidth:o(Sr.funcs.surplusWidth.evenlySplit),ignoreSurplusWidth:o(Sr.funcs.surplusWidth.ignore),giveToNth:Sr.funcs.surplusWidth.giveToNth})(t.surplusWidthFunc||{ignoreSurplusWidth:null}),surplusHeightFunc:r({evenSplitSurplusHeight:o(Sr.funcs.surplusHeight.evenlySplit),ignoreSurplusHeight:o(Sr.funcs.surplusHeight.ignore),giveToNth:Sr.funcs.surplusHeight.giveToNth})(n.config.surplusHeightFunc||{ignoreSurplusHeight:null}),padding:t.padding,useFullWidth:t.useFullWidth,rowOrColumn:t.rowOrColumn,rowHeight:r({useMaxHeight:o(Sr.funcs.rowHeight.useMaxHeight),useNthMinHeight:Sr.funcs.rowHeight.useNthMinHeight})(t.rowHeight||{useMaxHeight:null})})(v(n.cs))},image:function(n){return $t({fill:v(n.fill),left:v(n.left),right:v(n.right),top:v(n.top),bottom:v(n.bottom)})(Tt({src:v(n.src),minWidth:v(n.minWidth),minHeight:v(n.minHeight)}))},overlays:function(n){return qe({})(v(n.cs))},stack:function(n){n.config=n.config||{};return ie({surplusHeightFunc:r({evenSplitSurplusHeight:o(Sr.funcs.surplusHeight.evenlySplit),ignoreSurplusHeight:o(Sr.funcs.surplusHeight.ignore),giveToNth:Sr.funcs.surplusHeight.giveToNth})(n.config.surplusHeightFunc||{ignoreSurplusHeight:null}),padding:v(n.padding||n.config.padding)})(v(n.cs))},text:function(n){return kt(""+v(n.str),(n.fonts||[]).concat(n.font?[n.font]:[]))},textSpans:function(n){return kt(n.spans.map(function(n){var t=n.font||{};t.str=v(n.str);return t}),(n.fonts||[]).concat(n.font?[n.font]:[]))}}),componentMod:r({$css:function(n){return qn(n.style,n.value)},backgroundColor:function(n){return bt(v(n.backgroundColor),v(n.fontColor))},bodyColumn:function(){return t},border:function(n){var t=v(n.all);return We(v(n.color),{left:v(n.left)||t,right:v(n.right)||t,top:v(n.top)||t,bottom:v(n.bottom)||t,radius:v(n.radius)})},clickThis:function(n){return ot(v(n))},fadeIn:function(n){return ee({margin:v(n.margin)})},fontColor:function(n){return bt({font:v(n)})},keepAspectRatio:function(n){return $t({fill:v(n.fill)})},link:function(){return et},linkTo:function(n){return Ct(v(n))},margin:function(n){var t=v(n.all);return ce({left:v(n.left)||t,right:v(n.right)||t,top:v(n.top)||t,bottom:v(n.bottom)||t})},minHeightAtLeast:function(n){return De(v(n))},minWidthAtLeast:function(n){return Le(v(n))},minHeight:function(n){return Qn(v(n))},minWidth:function(n){return Jn(v(n))},slideIn:function(){return te()}}),constant:c,effect:function(n){return xe(y.map(r({db:r({find:function(n){return y.fromPromise(e[n.table].find(v(n.query)).then(function(n){return n}))}}),stream:function(n){return v(n)}})(n.eff),function(t){return s(n.withResult,l([{key:n.name,value:t}]))}))},id:function(){return c},letIn:function(n){var t=[];n.lets.map(function(n){t.push({key:n.name,value:s(n.value,l(t))})});return s(n.value,l(t))},handler:r({pushToStream:function(n){var t=v(n);return function(n){y.push(t,n)}}}),ifThenElse:function(n){return v(v(n.if)?n.then:n.else)},identifier:function(n){return f[n]},"null":function(){return null},number:r({constant:c,difference:function(n){var t=h([n.a,n.b]);return t[0]-t[1]},max:function(n){var t=h([n.a,n.b]);return Math.max(t[0],t[1])},min:function(n){var t=h([n.a,n.b]);return Math.min(t[0],t[1])},product:function(n){var t=h([n.a,n.b]);return t[0]*t[1]},quotient:function(n){var t=h([n.a,n.b]);return t[0]/t[1]},sum:function(n){var t=h([n.a,n.b]);return t[0]+t[1]}}),object:r({create:function(n){var t={};n.map(function(n){t[n.key]=v(n.value)});return t},dynamicProperties:function(){throw"do later"}}),onEvent:function(n){return rt(n.event)(v(n.handler))},prop:function(n){return v(n.object)[n.key]},stream:r({create:function(){return y.create()},map:function(n){return y.map(v(n.source),function(t){return s(n.value,l([{key:n.name,value:t}]))})},reduce:function(n){return y.reduce(v(n.source),function(t,e){return s(n.value,l([{key:n.prevName,value:t},{key:n.currentName,value:e}]))},v(n.initialValue))},windowHeight:function(){return Sr.viewport.heightS},windowWidth:function(){return Sr.viewport.widthS}}),string:r({constant:c})})(a)};return s}};var Sr={color:{color:Cn,create:Cn,toString:On},component:{$$:In,$addClass:jn,$attr:Bn,$css:qn,$on:Xn,$prop:Yn,adjustPosition:nt,alignH:fe,alignHorizontal:fe,alignHLeft:we,alignHMiddle:ye,alignHRight:be,alignLRM:fe,alignMiddle:He,alignTBM:pe,alignV:pe,alignVBottom:me,alignVertical:pe,alignVMiddle:ge,alignVTop:de,all:Hn,and:Ln,backgroundColor:bt,bar:Ye,border:We,box:Ue,changeThis:it,clickThis:ot,component:G,componentStream:Ce,crop:Wt,cssStream:wt,dimensions:Gn,dropdownPanel:Oe,empty:Mt,fadeIn:ee,grid:Ee,hoverColor:Ht,hoverThis:mt,keepAspectRatio:$t,keydownThis:ut,keyupThis:ct,image:Tt,largestWidthThatFits:Be,layout:bn,link:et,linkTo:Ct,margin:ce,maxHeightStream:je,minHeight:Ie,minHeightStream:Ie,minHeightAtLeast:De,minWidth:Re,minWidthAtLeast:Le,minWidthStream:Re,mousedownThis:st,mousemoveThis:ft,mouseoverThis:lt,mouseoutThis:ht,mouseupThis:vt,nothing:St,onThis:rt,overlays:qe,passthrough:Kn,promiseComponent:Me,scope:nr,sideBySide:ne,sideSlidingPanel:Fe,slideIn:te,slider:re,slideshow:Zt,stack:ie,stream:Te,streams:$e,submitThis:pt,tabs:Xe,text:kt,toggleHeight:Ve,wrap:Zn},element:{a:Z,button:nn,div:tn,form:en,iframe:rn,img:on,input:an,label:un,li:cn,option:sn,p:fn,pre:ln,select:hn,textarea:vn,ul:pn},forms:{formComponent:br,formElementBorderWidth:ur,formFor:$r,formStyle:xr,formType:tr},funcs:{constant:o,id:c,rowHeight:{useMaxHeight:Ne,useNthMinHeight:ze},surplusWidth:{ignore:Vt,
center:Ft,centerFirstRowThenAlignLeft:Nt,evenlySplit:At,evenlySplitCenter:Pt,justify:Rt,justifyAndCenter:Lt,giveToNth:Xt},surplusHeight:{ignore:Ot,center:Jt,giveToNth:Gt}},jsoAction:{scrollTo:Cr},rootComponent:Tn,routing:{matchStrings:_e,route:Ze,routeMatchRest:Ke,routeToComponentF:Qe,routeToFirst:Ge},runJso:Mr,stream:y,unit:{px:W},viewport:{heightS:M,scrollS:O,widthS:C}};window.hcj=Sr})();