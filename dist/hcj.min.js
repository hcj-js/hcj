function waitForWebfonts(t,n,e){if(t.length===0){n();return}e=e||10*1e3;var r=(new Date).getTime();var i=0;var a=false;for(var u=0;u<t.length;u++){(function(u){var o=document.createElement("div");o.style.position="absolute";o.style.width=0;document.body.appendChild(o);var c=document.createElement("span");if(u==="FontAwesome"){c.innerHTML='<i class="fa-facebook-square"></i>'}else{c.innerHTML=" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~"}c.style.position="absolute";c.style.left="-10000px";c.style.top="-10000px";c.style.fontSize="300px";c.style.fontVariant="normal";c.style.fontStyle="normal";c.style.fontWeight="normal";c.style.letterSpacing="0";o.appendChild(c);var l=c.getBoundingClientRect().width;if(u==="FontAwesome"){c.innerHTML='<i class="fa fa-facebook-square"></i>'}else{c.style.fontFamily=u}var f;function h(){if(c&&((new Date).getTime()-r>e||c.getBoundingClientRect().width!=l)){++i;c.parentNode.removeChild(c);c=null;if(f){clearInterval(f)}}if(i>=t.length){if(i==t.length){if(!a){n()}a=true;return true}}}setTimeout(function(){if(!h()){f=setInterval(h,50)}})})(t[u])}}(function(){var t=function(t){console.warn("Deprecated: "+t)};var n=function(t,n){n=n||function(t){return Array.isArray(t)||typeof t==="function"};return function(){var e=Array.prototype.slice.call(arguments);var r=!n(e[0]);if(e.length-(r?1:0)>0){var i=[];if(r){i=e.splice(0,1)}return t.apply(null,i).apply(null,e)}var a=e[0];return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[a]).apply(null,n)}}};var e=function(t){return!t||t.l||t.r||t.m};var r=function(t){return!t||t.t||t.b||t.m};var i=function(t,n){if(!n){return function(n){for(var e in t){if(t.hasOwnProperty(e)&&n.hasOwnProperty(e)){if(typeof t[e]!=="function"){return t[e]}return t[e](n[e])}}}}for(var e in t){if(t.hasOwnProperty(e)&&n.hasOwnProperty(e)){if(typeof t[e]!=="function"){return t[e]}return t[e](n[e])}}};var a=function(t){return function(n){return n(t)}};var u=function(t){return function(n){return t}};var o=function(t,n){n=n||1;return function(){var e=Array.prototype.slice.call(arguments);var r=[null];if(e.length>n){r=e.splice(0,1)}return t.apply(null,r).apply(null,e)}};var c=function(t){return t};var l=function(t,n){return t+n};var f=function(t,n){return t-n};var h=function(t,n){return Math.max(t,n)};var s=function(t,n){return Math.min(t,n)};var v=function(t){t=t||setTimeout;var n=[];var e=false;var r=function(e){t(function(){if(n.length===0){e()}else{r(e)}})};var i=null;var a={next:function(r){n.push(r);if(e===false){e=true;t(function(){e=false;var t=n;n=[];t.map(function(t){t()})})}return a},childContext:function(){i=i||v(r);return i},defer:function(t){var n=a.childContext();n.next(t);return n}};return a};var d=function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}}return t};var p=v();var m={create:function(){return{listeners:[],lastValue:undefined,hasValue:false}},next:p.next,defer:p.defer,isStream:function(t){return t&&t.hasOwnProperty("listeners")&&t.hasOwnProperty("lastValue")},once:function(t){var n=m.create();n.lastValue=t;n.hasValue=true;return n},push:function(t,n){if(t.lastValue!==n||!t.hasValue){t.lastValue=n;t.hasValue=true;for(var e=0;e<t.listeners.length;e++){if(t.listeners[e]){t.listeners[e](n)}}}},map:function(t,n){var e=m.create();if(t.hasValue){m.push(e,n(t.lastValue))}t.listeners.push(function(t){m.push(e,n(t))});return e},reduce:function(t,n,e){var r=m.once(e);m.map(t,function(t){m.push(r,n(r.lastValue,t))});return r},filter:function(t,n){var e=m.create();t.listeners.push(function(t){if(n(t)){m.push(e,t)}});return m},onValue:function(t,n){t.listeners.push(function(t){n(t)});if(t.hasValue){n(t.lastValue)}var e=t.listeners.length-1;return function(){delete t.listeners[e]}},prop:function(t,n){return m.map(t,function(t){return t[n]})},delay:function(t,n){var e=m.create();m.map(t,function(t){setTimeout(function(){m.push(e,t)},n)});return e},debounce:function(t,n){var e=m.create();var r=0;var i=false;m.map(t,function(a){if(!i){i=true;var u=(new Date).getTime();setTimeout(function(){i=false;m.push(e,t.lastValue);r=Math.max(r+n,u)},Math.max(0,r+n-u))}});return e},pushAll:function(t,n){if(t.hasValue){m.push(n,t.lastValue)}return m.onValue(t,function(t){m.push(n,t)})},clone:function(t){var n=m.create();m.pushAll(t,n);return n},combine:function(t,n){var e=[];var r=m.create();var i=function(){for(var i=0;i<t.length;i++){if(e[i]===undefined){return}}m.push(r,n.apply(null,e))};t.reduce(function(t,n){m.onValue(n,function(n){e[t]=n;i()});return t+1},0);return r},combineInto:function(t,n,e){var r=[];var i=function(){for(var i=0;i<t.length;i++){if(r[i]===undefined){return}}m.push(e,n.apply(null,r))};t.reduce(function(t,n){m.onValue(n,function(n){r[t]=n;i()});return t+1},0)},combineMany:function(t){var n=[];var e=function(){for(var e=0;e<n.length;e++){if(n[e]===undefined){return}}t.apply(null,[n])};return{addStream:function(t){var r=n.length;n.push(undefined);m.onValue(t,function(t){n[r]=t;e()})}}},all:function(t){return m.combine(t,function(){return Array.prototype.slice.call(arguments)})},combineObject:function(t){var n=Object.keys(t);var e={};var r=m.create();var i=function(){for(var t=0;t<n.length;t++){var i=n[t];if(e[i]===undefined){return}}m.push(r,d({},e))};n.map(function(n,r){m.onValue(t[n],function(t){e[n]=t;i()})});return r},splitObject:function(t){var n=Object.keys(t);var e={};n.map(function(n){e[n]=m.once(t[n])});return e},fromPromise:function(t,n){var e=m.create();if(n){m.push(e,n)}t.then(function(t){m.push(e,t)});return e},cases:function(t,n){t.push(n);return m.combine(t,function(){var t=Array.prototype.slice.call(arguments);var n=t.pop();return t[n]})},onNextValue:function(t,n,e){e=e||c;if(t.hasValue&&e(t.lastValue)){n(t.lastValue);return function(){}}var r=t.listeners.length;var i=function(){delete t.listeners[r]};t.listeners.push(function(t){if(e(t)){n(t);i()}});return i()}};var g=function(t){return function(n){return n+t}};var y=g("px");var b=g("vw");var S=m.once(0);var x=m.once(u(0));var z=m.once({w:0,h:u(0)});var C=m.create();var L=m.create();var M=function(){m.push(C,window.innerWidth)};var H=function(){m.push(L,window.innerHeight)};M();H();window.addEventListener("resize",function(){M();H()});var V=m.create();var k=m.create();window.addEventListener("scroll",function(){m.push(k,window.scrollY)});m.push(k,window.scrollY);var A=m.create();window.addEventListener("hashchange",function(){m.push(A,location.pathname)});m.push(A,location.pathname);var T=m.once(false);var E=[];var W=[];var P=[];var O=function(){for(var t=0;t<E.length;t++){E[t].style[W[t]]=P[t]}E=[];W=[];P=[]};var R=function(t,n,e){if(E.length===0){m.defer(O)}E.push(t);W.push(n);P.push(e)};var F=document.createElement("canvas");var I=F.getContext("2d");var B=document.createElement("div");var D=function(t){B.innerHTML=t;return B.childNodes.length===0?"":B.childNodes[0].nodeValue};var j=function(t,n){if(n){I.font=n}return I.measureText(t).width};var N=function(t,n){var e={};var r=t;r.map(function(t){t.originalWords=t.words});return function(i){t=r.slice(0);var a=0;var u=0;var o=0;if(t.length===0){return 0}var c=t[0];I.font=c.font;c.words=c.originalWords.slice(0);while(t.length>0){var l=c.words[0]+(t.length>1||c.words.length>1?" ":"");var f=j(l);if(f+u>i){a+=o;u=0;o=0}u+=f;o=Math.max(o,parseInt(c.size));c.words.splice(0,1);if(c.words.length===0){t.splice(0,1);if(t.length>0){c=t[0];c.words=c.words.slice(0);I.font=c.font}}}var h=(a+o)*(n||1);e[i]=h;return h}};var Y=function(t){var n=window.getComputedStyle(t);return t.getBoundingClientRect().width+parseFloat(n.marginLeft)+parseFloat(n.marginRight)};var q=function(t){var n=window.getComputedStyle(t);return t.getBoundingClientRect().height+parseFloat(n.marginTop)+parseFloat(n.marginBottom)};var X=function(t){var n=document.querySelector(".sandbox");var e=t.cloneNode(true);e.style.width="";e.style.height="";e.style.position="absolute";e.style.display="inline-block";n.appendChild(e);var r=Y(e);e.remove();return r};var U=function(t){var n={};return function(e){if(n[e]){return n[e]}var r=document.querySelector(".sandbox");var i=t.cloneNode(true);i.style.width=y(e);i.style.height="";r.appendChild(i);var a=q(i);n[e]=a;i.remove();return a}};var _=function(t,n,e){var r=document.createElement(t);r.style.visibility="hidden";e.el.appendChild(r);var i=0;m.onValue(e.width,function(t){if(i===-1){return}i=i|1;if(i===15){R(r,"visibility","");i=-1}});m.onValue(e.height,function(t){if(i===-1){return}i=i|2;if(i===15){R(r,"visibility","");i=-1}});m.onValue(e.top,function(t){if(i===-1){return}i=i|4;if(i===15){R(r,"visibility","");i=-1}});m.onValue(e.left,function(t){if(i===-1){return}i=i|8;if(i===15){R(r,"visibility","");i=-1}});var a={el:r,transitions:{}};var u;var o=n(r,e,function(t){var n={w:X(r,t),h:U(r,t)};if(a.minSize){m.push(a.minSize,n)}else{u=w}})||{};a.minSize=o.minSize||m.create();if(u!==undefined){m.push(a.minSize,u)}a.remove=function(){if(e.remove){e.remove()}if(o.remove){o.remove()}r.remove()};return a};var G=function(){var t,n;if(arguments.length>1){t=arguments[0];n=arguments[1]}else{t="div";n=arguments[0]}return function(e){return _(t,n,e)}};var J=function(t){return function(n){return G(t,n)}};var K=J("a");var Z=J("button");var $=J("div");var tt=J("form");var nt=J("h1");var et=J("h2");var rt=J("h3");var it=J("h4");var at=J("h5");var ut=J("h6");var ot=J("iframe");var ct=J("img");var lt=J("input");var ft=J("label");var ht=J("li");var st=J("option");var vt=J("p");var dt=J("pre");var pt=J("select");var mt=J("textarea");var gt=J("ul");var wt=function(t,n,e){if(e){t.transitions[n]=e}else{delete t.transitions[n]}var r="";for(var i in t.transitions){if(t.transitions.hasOwnProperty(i)){if(r){r+=", "}r+=i+" "+t.transitions[i]}}t.el.style.transition=r};var yt=function(){var t=document.createElement("div");t.style.width="50px";t.style.height="50px";t.style.overflow="auto";var n=document.createElement("div");t.appendChild(n);document.body.appendChild(t);var e=n.clientWidth;n.style.height="100px";var r=n.clientWidth;t.remove();return e-r};var bt=function(t){return t&&m.map(t,y)};var St=function(t){return t&&m.map(t,function(t){return"calc("+t+")"})};var xt=function(t,n,e,r,i,a){i=i||{};var u=m.create();var o=m.create();var c=m.create();var l=m.create();var f=m.create();var h=m.create();var s=m.create();var v=m.create();var d=m.create();var p=m.create();var g;var w;var y;var b;var S;var x;var z;var C;var L=m.pushAll(e.top,d);var M=m.pushAll(e.left,p);if(!i.width){g=m.pushAll(e.width,u);m.push(o,"100%")}else{g=m.pushAll(i.width,u);if(i.widthCalc){w=m.pushAll(i.widthCalc,o)}else{w=m.pushAll(bt(i.width),o)}}if(!i.height){y=m.pushAll(e.height,c);m.push(l,"100%")}else{y=m.pushAll(i.height,c);if(i.heightCalc){b=m.pushAll(i.heightCalc,l)}else{b=m.pushAll(bt(i.height),l)}}if(i.top){S=m.pushAll(i.top,f);if(i.topCalc){x=m.pushAll(i.topCalc,h)}else{x=m.pushAll(bt(i.top),h)}}else{m.push(f,0);m.push(h,"0px")}if(i.left){z=m.pushAll(i.left,s);if(i.leftCalc){C=m.pushAll(i.leftCalc,v)}else{C=m.pushAll(bt(i.left),v)}}else{m.push(s,0);m.push(v,"0px")}var H=r({el:i&&i.el||n,width:u,height:c,top:m.combine([d,f],function(t,n){return t+n}),left:m.combine([p,s],function(t,n){return t+n}),remove:function(){if(g){g()}if(w){w()}if(y){y()}if(b){b()}if(S){S()}if(x){x()}if(z){z()}if(C){C()}L();M()}});if(!a||a.noRemove!==true){t.push(H)}if(!H||!H.minSize){console.log("not a component");debugger}H.el.style.position="absolute";m.onValue(St(o),function(t){R(H.el,"width",t)});m.onValue(St(l),function(t){R(H.el,"height",t)});m.onValue(St(h),function(t){R(H.el,"top",t)});m.onValue(St(v),function(t){R(H.el,"left",t)});return H};var zt=function(t,n,e,r){if(Array.isArray(r)){return r.map(function(r){return zt(t,n,e,r)})}if(typeof r!=="function"){console.log("cs is not a function");debugger}return function(i,a){return xt(t,n,e,r,i,a)}};var Ct=function(t,n){var e=n?t:"div";var r=n||t;return function(){var t=Array.prototype.slice.call(arguments);return G(e,function(n,e){n.style.textDecoration="inherit";var i=[];n.style.position="absolute";var a=r.apply(null,[n,e].concat(zt(i,n,e,t)));return{el:n,minSize:a.minSize,remove:function(){i.map(function(t){return t.remove()});a.remove&&a.remove()}}})}};var Lt=function(t,n){var e=n?t:"div";var r=n||t;return G(e,function(t,n){var e=[];t.style.position="absolute";var i=r(t,n,function(r,i,a){return xt(e,t,n,r,i,a)});return{el:t,minSize:i.minSize,remove:function(){e.map(function(t){return t.remove()});i.remove&&i.remove()}}})};var Mt=function(t){return function(n){return t.reduce(function(t,n){return n(t)},n)}};var Ht=Ct(function(t,n,e){var r=e();m.combine([n.widthCalc?St(n.widthCalc):bt(n.width),n.heightCalc?St(n.heightCalc):bt(n.height),n.topCalc?St(n.topCalc):bt(n.top),n.leftCalc?St(n.leftCalc):bt(n.left)],function(t,n,e,r){m.push(T,true)});return{minSize:r.minSize}});var Vt=function(){if(document.querySelector(".sandbox")){return}var t=document.createElement("div");t.classList.add("sandbox");t.style.zIndex="-1";t.style.visibility="hidden";document.body.appendChild(t)};var kt=0;var At=[];var Tt=function(t,n){var e=kt;kt+=1;n=n||{};Vt();var r=yt();var i=m.create();var a=m.create();var u=m.create();m.combine([C,L,u],function(t,n,e){var u=e.h;var o=u(t);var c=u(t-r);var l;var f;if(o>n){l=t-r;f=c;if(c>n){document.body.style.overflowY="initial"}else{document.body.style.overflowY="scroll"}}else{l=t;f=o;document.body.style.overflowY="initial"}f=Math.max(n,f);m.push(i,l);m.push(V,l);m.push(a,f)});var o=Ht(t)({el:document.body,width:i,height:a,top:S,left:S});o.el.style.position="absolute";o.el.style.top="0px";o.el.style.left="0px";o.el.classList.add("root-component");o.el.classList.add("root-component-"+e);m.pushAll(o.minSize,u);m.combine([i,a],function(t,n){o.el.style.width=y(t);o.el.style.height=y(n)});m.onValue(a,function(t){At[e]=t;document.body.style.height=At.reduce(function(t,n){return Math.max(t,n)},0)+"px"});return o};var Et=function(t){t=t||{};return{r:t.hasOwnProperty("r")?t.r:1,g:t.hasOwnProperty("g")?t.g:1,b:t.hasOwnProperty("b")?t.b:1,a:t.hasOwnProperty("a")?t.a:1}};var Wt=function(t){return t&&t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")&&t.hasOwnProperty("a")};var Pt=function(t){return function(n){return{r:Math.min(255,n.r*t),g:Math.min(255,n.g*t),b:Math.min(255,n.b*t),a:n.a}}};var Ot=function(t){return function(n){var e=(n.r+n.g+n.b)/3;var r=1-t;return{r:r*n.r+t*e,g:r*n.g+t*e,b:r*n.b+t*e,a:n.a}}};var Rt=function(t){return(t.r+t.g+t.b)/(255+255+255)};var Ft=function(t){if(typeof t==="string"){return t}return"rgba("+Math.floor(t.r)+","+Math.floor(t.g)+","+Math.floor(t.b)+","+t.a+")"};var It=function(t){return"rgb("+Math.floor(t.r)+","+Math.floor(t.g)+","+Math.floor(t.b)+")"};var Bt=Et({a:0});var Dt=Et({r:0,g:0,b:0});var jt=Et({r:255,g:255,b:255});var Nt=function(t){return m.all(t.map(function(t){return t.minSize}))};var Yt=function(t){return'url("'+t+'")'};var qt=function(t){return function(n){return function(e){var r=n(e);t(r,e);return r}}};var Xt=function(t,n){return qt(function(e){e.el.style[t]=n})};var Ut=function(t,n){return qt(function(e){return wt(e,t,n)})};var _t=function(t,n){return m.onValue(n.minSize,function(n){m.push(t.width,n.w)})};var Qt=function(t,n){return m.combineInto([t.width,n.minSize],function(t,n){return n.h(t)},t.height)};var Gt=function(t){return Ct(function(n,e,r){n.classList.add("minWidth");var i=r();return{minSize:m.map(i.minSize,function(n){return{w:t,h:n.h}})}})};var Jt=function(t){return Ct(function(n,e,r){n.classList.add("minHeight");var i=r();return{minSize:m.map(i.minSize,function(n){return{w:n.w,h:u(t)}})}})};var Kt=function(t,n){return Ct(function(e,r,i){e.classList.add("withDimensions");var a=i();return{minSize:m.once({w:t,h:u(n)})}})};var Zt=function(t,n){return Ct(n||"div",function(n,e,r){n.classList.add("passthrough");if(t){t(n)}return r()})};var $t=function(t){return Zt(null,t)};var tn=function(t,n){n=n||{};return Ct(function(e,r,i){e.classList.add("adjust-position");var a=d({},r,{el:e,top:n.top?m.create():S,left:n.left?m.create():S,width:n.width?m.create():r.width,height:n.height?m.create():r.height,widthCalc:r.widthCalc&&(n.widthCalc?m.create():r.widthCalc),heightCalc:r.heightCalc&&(n.heightCalc?m.create():r.heightCalc)});var u=i(a);if(n.top){m.pushAll(n.top(e.firstChild),a.top)}if(n.left){m.pushAll(n.left(e.firstChild),a.left)}if(n.width){m.onValue(r.width,function(t){m.push(a.width,n.width(t,e.firstChild))})}if(n.height){m.onValue(r.height,function(t){m.push(a.height,n.height(t,e.firstChild))})}if(r.widthCalc&&n.widthCalc){m.onValue(r.widthCalc,function(t){m.push(a.widthCalc,n.widthCalc(t,e.firstChild))})}if(r.heightCalc&&n.heightCalc){m.onValue(r.heightCalc,function(t){m.push(a.heightCalc,n.heightCalc(t,e.firstChild))})}return{minSize:t?t(u.minSize,e.firstChild):u.minSize}})};var nn=Mt([Xt("cursor","pointer")]);var en=function(t,n){return qt(function(e){e.el.addEventListener(t,function(){Array.prototype.push.call(arguments,e);n.apply(null,arguments)})})};var rn=function(t){return function(n){return en(t,n)}};var an=rn("change");var un=rn("click");var on=rn("input propertychange");var cn=rn("keydown");var ln=rn("keyup");var fn=rn("mousedown");var hn=rn("mousemove");var sn=rn("mouseover");var vn=rn("mouseout");var dn=rn("mouseup");var pn=rn("submit");var mn=function(t,n){return un(function(e){m.push(t,n(e))})};var gn=function(t){return Zt(function(n){t(false,n);n.addEventListener("mouseover",function(e){t(true,n,e)});n.addEventListener("mouseout",function(e){t(false,n,e)})})};var wn=function(t,n){n=n||function(t){return t};return qt(function(e){e.el.addEventListener("mouseenter",function(e){m.push(t,n(e))});e.el.addEventListener("mouseleave",function(e){m.push(t,n(false))})})};var yn=function(t,n){return Zt(function(e){m.map(n,function(n){e.style[t]=n})})};var bn=function(n,e,r,i){if(Wt(n)){n={background:n,font:e,backgroundHover:r,fontHover:i}}n=n||{};if(m.isStream(n.background)||m.isStream(n.font)||m.isStream(n.backgroundHover)||m.isStream(n.fontHover)){t("BackgroundColorConfig 'background', 'font', 'backgroundHover', and 'fontHover' properties as streams.  Your BackgroundColorConfig must instead be a stream of objects.");if(n.background&&!m.isStream(n.background)){n.background=m.once(n.background)}if(n.font&&!m.isStream(n.font)){n.font=m.once(n.font)}if(n.backgroundHover&&!m.isStream(n.backgroundHover)){n.backgroundHover=m.once(n.backgroundHover)}if(n.fontHover&&!m.isStream(n.fontHover)){n.fontHover=m.once(n.fontHover)}n=m.combineObject(n)}if(!m.isStream(n)){n=m.once(n)}return qt(function(t){var e,r,i,a,u=false;var o=function(){var n=u?i||e:e;var o=u?a||r:r;if(n){t.el.style.backgroundColor=Ft(n)}if(o){t.el.style.color=Ft(o)}};m.map(n,function(n){e=n.background;r=n.font;i=n.backgroundHover||e;a=n.fontHover||r;wt(t,"background-color",(n.backgroundTransition||n.transition||0)+"s");wt(t,"color",(n.fontTransition||n.transition||0)+"s");o()});t.el.addEventListener("mouseover",function(){u=true;o()});t.el.addEventListener("mouseout",function(){u=false;o()})})};var Sn=function(t){var n=t.all||0,e=t.all||0,r=t.all||0,i=t.all||0;if(typeof t==="number"){n=e=r=i=t}else{for(var a in t){var u=a.toLowerCase();if(t[a]!==null){if(u.indexOf("top")!==-1){n=t[a]}if(u.indexOf("bottom")!==-1){e=t[a]}if(u.indexOf("left")!==-1){r=t[a]}if(u.indexOf("right")!==-1){i=t[a]}}}}return Ct(function(t,a,u){t.classList.add("crop");t.style.overflow="hidden";var o=m.create();var c=u({top:m.prop(o,"top"),left:m.prop(o,"left"),width:m.prop(o,"width"),height:m.prop(o,"height")});m.combineInto([a.width,a.height],function(t,a){var u=t/(1-r-i);var o=a/(1-n-e);return{top:-n*o,left:-r*u,width:u,height:o}},o);return{minSize:m.map(c.minSize,function(t){return{w:t.w*(1-r-i),h:function(a){return t.h(t.w/(1-r-i))*(1-n-e)}}})}})};var xn=function(t,n){return n===0?1:t/n};var zn=n(function(t){t=t||{};return Ct(function(n,e,r){n.classList.add("keepAspectRatio");if(t.fill){n.style.overflow="hidden"}if(!m.isStream(t.fill)){t.fill=m.once(t.fill||false)}var i=m.create();var a=r({top:m.prop(i,"top"),left:m.prop(i,"left"),width:m.prop(i,"width"),height:m.prop(i,"height")});m.combineInto([a.minSize,e.width,e.height,t.fill],function(n,e,r,i){var a=xn(n.w,n.h(n.w));var u=xn(e,r);if(!i&&u>a||i&&u<a){var o=r*a;var c;if(t.left){c=0}else if(t.right){c=e-o}else{c=(e-o)/2}return{top:0,left:c,width:o,height:r}}else{var l=e/a;var f;if(t.top){f=0}else if(t.bottom){f=r-l}else{f=(r-l)/2}return{top:f,left:0,width:e,height:l}}},i);return{minSize:m.map(a.minSize,function(n){var e;if(t.minWidth){e=t.minWidth}else if(t.minHeight){var r=xn(n.w,n.h(n.w));e=t.minHeight*r}else{e=n.w}var i=function(t){return t/xn(n.w,n.h(n.w))};return{w:e,h:i}})}})});var Cn=function(t){var n=m.isStream(t.src)?t.src:m.once(t.src);return ct(function(e,r){var i=m.create();m.onValue(n,function(t){e.src=t});e.addEventListener("load",function(){var n=e.naturalWidth/e.naturalHeight;var r=t.hasOwnProperty("minWidth")&&t.minWidth||t.hasOwnProperty("minHeight")&&t.minHeight&&t.minHeight*n||e.naturalWidth;if(t.minWidth===0||t.minHeight===0){r=0}m.push(i,{w:r,h:function(t){return t/n}})});return{minSize:i}})};var Ln=n(function(t){if(typeof t==="string"){t={href:t}}return Ct("a",function(n,e,r){n.href=t.href;if(t.target){n.target=t.target||""}if(!t.defaultStyle){n.classList.add("no-style")}return r()})});var Mn=function(t){return G(t,function(t,n){t.classList.add("empty");return{minSize:z}})};var Hn=Mn("div");var Vn=m.once(300);var kn=getComputedStyle(document.body);var An=kn.fontSize;var Tn=kn.lineHeight;var En=kn.fontFamily;var Wn=[["size","fontSize"],["style","fontStyle"],["weight","fontWeight"],["family","fontFamily"],["color","color"],["shadow","textShadow"],["verticalAlign","verticalAlign"],["lineHeight","lineHeight"]];var Pn=[["size","fontSize"],["style","fontStyle"],["weight","fontWeight"],["family","fontFamily"],["color","color"],["shadow","textShadow"],["align","textAlign"],["verticalAlign","verticalAlign"],["lineHeight","lineHeight"]];var On=n(function(t){return function(n){n=n||"";if(!Array.isArray(n)){n=[n]}if(Array.isArray(t)){t=t.reduce(d,{})}return(t.el||$)(function(e,r){e.classList.add("text");var i=false;var a=t.hasOwnProperty("minWidth")||t.measureWidth?m.create():Vn;var o=m.create();var c=[];var l=false;var f=function(){if(l){return}l=true;m.next(function(){if(i){return}l=false;var n=null;if(t.hasOwnProperty("minWidth")){n=t.minWidth}else if(t.measureWidth){n=X(e)}if(n!==null){m.push(a,n)}if(t.oneLine||t.approximateHeight){var r=getComputedStyle(e);var c=r.lineHeight;var f=t.size||parseInt(r.fontSize);var h=t.lineHeight&&t.lineHeight*f||c.indexOf("px")!==-1&&parseFloat(c);var s;if(t.oneLine){s=u(h)}else if(t.approximateHeight){s=function(t){var n=e.textContent;return Math.ceil(h*n.length*.5/t)*h}}m.push(o,s)}if(!t.oneLine){m.defer(function(){var n=t.hasOwnProperty("minHeight")?u(t.minHeight):U(e);m.push(o,n)})}})};n.map(function(t,r){if(typeof t==="string"){t={str:t};n[r]=t}var i=function(e){if(r===n.length-1){e=e+" "}a.innerHTML=e;t.words=e.split(" ")};var a=document.createElement("span");if(m.isStream(t.str)){a=document.createElement("span");c.push(m.map(t.str,function(t){i(t);f()}))}else{a.innerHTML=t.str}if(t.color){if(m.isStream(t.color)){t.color=m.map(t.color,Ft)}else{t.color=Ft(t.color)}}Wn.map(function(n){var e=t[n[0]];if(e){if(m.isStream(e)){c.push(e);m.onValue(e,function(t){a.style[n[1]]=t;return t})}else{a.style[n[1]]=e}}});if(t.spanCSS){t.spanCSS.map(function(t){a.style[t.name]=t.value})}if(t.linkTo){var u=document.createElement("a");if(t.linkToNoStyle){u.classList.add("no-style")}u.href=t.linkTo;e.appendChild(u);u.appendChild(a)}else{e.appendChild(a)}});if(t.color){if(m.isStream(t.color)){t.color=m.map(t.color,Ft)}else{t.color=Ft(t.color)}}Pn.map(function(n){var r=t[n[0]];if(r){if(m.isStream(r)){c.push(r);m.onValue(r,function(t){e.style[n[1]]=t;return t})}else{e.style[n[1]]=r}}});if(t.spanCSS){t.spanCSS.map(function(t){e.style[t.name]=t.value})}if(c.length>0){m.combine(c,function(){f()})}f();return{minSize:m.combine([a,o],function(t,n){return{w:t,h:n}}),remove:function(){i=true}}})}},function(t){if(Array.isArray(t)){if(t.length===0){return true}t=t[0]}return typeof t==="string"||t&&t.hasOwnProperty("str")});var Rn=function(t){return function(n,e){return e.map(function(e,r){return t(n,e,r)})}};var Fn=Rn(function(t,n){return n});var In=function(t,n){return n};var Bn=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);var i=r/n.length;n.map(function(t,n){t.left+=r/2});return n});var Dn=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);var i=r/n.length;n.map(function(t,n){t.width+=i;t.left+=n*i});return n});var jn=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);var i=r/n.length;n.map(function(t,n){t.left+=(n+.5)*i});return n});var Nn=Rn(function(){var t=0;return function(n,e,r,i){if(i===0){e=Dn(n,e);t=e[0].width;return e}else{e.map(function(n,e){n.width=t;n.left=t*e});return Bn(n,e)}}});var Yn=Rn(function(){var t=0;return function(n,e,r){if(r===0){e=Bn(n,e);t=e[0].left;return e}else{e.map(function(n,e){n.left+=t});return e}}});var qn=function(t,n){var e=0;var r=[];return n.map(function(n,i){n=Bn(t,[n])[0];if(i===0){e=n[0].left;r=[n]}else{var a=n[0].left;if(e<a){n.map(function(t,n){t.left+=e-a})}else{r.map(function(t){t.map(function(t,n){t.left+=a-e})});e=a}r.push(n)}return n})};var Xn=function(t){return Rn(function(n,e){var r=e[e.length-1];var i=n-(r.left+r.width);var a=n/Math.max(t,e.length);e.map(function(t,n){t.width=a;t.left=n*a});r=e[e.length-1];i=n-(r.left+r.width);a=i/e.length;e.map(function(t,n){t.left+=i/2});return e})};var Un=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);n.map(function(t,e){for(var i=0;i<e;i++){t.left+=r/(n.length-1)}});return n});var _n=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);n.map(function(t,e){t.left+=e*r/n.length+r/(2*n.length)});return n});var Qn=function(t){return Rn(function(n,e){var r=e[e.length-1];var i=n-(r.left+r.width);e.map(function(n,e){n.left+=t*i});return e})};var Gn=Qn(0);var Jn=Qn(.5);var Kn=Qn(1);var Zn=Rn(function(t,n){var e=n[n.length-1];var r=t-(e.left+e.width);if(n.length===1){if(r<n[0].width){return Dn(t,n)}else{return n}}if(n.length===2){return _n(t,n)}return Un(t,n)});var $n=function(t){return Rn(function(n,e){var r=e[e.length-1];var i=n-(r.left+r.width);e.map(function(n,r){if(r===t||r===e.length-1&&t>=e.length){n.width+=i}else if(r>t){n.left+=i}});return e})};var te=$n(0);var ne=$n(1);var ee=$n(2);var re=function(t,n){var e=n[n.length-1];var r=t-(e.top+e.height);n.map(function(t,n){t.top+=r/2});return n};var ie=function(t,n){var e=n[n.length-1];var r=t-(e.top+e.height);var i=r/n.length;n.map(function(t,n){t.height+=i;t.top+=n*i});return n};var ae=function(t){return function(n,e){var r=e[e.length-1];var i=n-(r.top+r.height);e.map(function(n,r){if(r===t||r===e.length-1&&t>=e.length){n.height+=i}else if(r>t){n.top+=i}});return e}};var ue=function(t,n){var e=n.length-1;var r=n[n.length-1];var i=t-(r.top+r.height);n.map(function(t,r){if(r===e||r===n.length-1&&e>=n.length){t.height+=i}else if(r>e){t.top+=i}});return n};var oe=n(function(t){t.padding=t.padding||0;t.transitionTime=t.transitionTime||0;return Ct(function(n,e,r){n.classList.add("slideshow");var i=r.concat(r).concat(r).map(function(){return{left:m.create()}});var a=r.concat(r).concat(r).map(function(t,n){return t(i[n])});var o=[0,1,2];var c=function(t){return v(Math.floor((t+r.length)/r.length),3)};var l=Nt(a);var f=function(n,e,i,a){return i.map(function(i,u){var c=Math.floor(u/r.length);var l=o.indexOf(c);var f=v(u,r.length)-v(n,r.length);return{left:(f+(l-1)*r.length)*(e+t.padding),warp:l===a}})};var s=function(n,e,r,u){n.map(function(n,e){var r=i[e];wt(a[e],"left",n.warp?"":"ease "+t.transitionTime+"s");m.push(r.left,n.left)});u&&setTimeout(function(){u()},500)};var v=function(t,n){return(t%n+n)%n};var d=m.reduce(t.moveS,function(t,n){return t+n.amount},0);var p=m.once(0);m.pushAll(e.width,p);return{minSize:m.combine([d,p,l],function(n,e,i){var l=v(n,r.length);var d=c(n);var p=o.indexOf(d);var m;switch(p){case 0:o=[o[2],o[0],o[1]];m=f(l+r.length,e,i,0);s(m,l+r.length);break;case 1:m=f(l+r.length,e,i);s(m,l+r.length);break;case 2:o=[o[1],o[2],o[0]];m=f(l+r.length,e,i,2);s(m,l+r.length);break}return{w:i.reduce(function(t,n){return t+n.w},t.padding*(a.length-1)),h:u(mhs.map(function(t,n){return t(e)}).reduce(h,0))}})}})});var ce=n(function(t){t=t||{};t.padding=t.padding||0;t.surplusWidth=t.surplusWidth||Fn;return Ct(function(n,e,r){n.classList.add("sideBySide");if(r.length===0){return{minSize:z}}var i=[];var a=r.map(function(t){var n={left:m.create(),width:m.create()};i.push(n);return t(n)});var u=Nt(a,e);var o=function(n,e){var r=0;var i=e.map(function(e,i){var a=Math.min(n,e.w);var u={left:r+t.padding*i,width:a};r+=a;return u});i=t.surplusWidth(n,[i])[0];return i};m.combine([e.width,u,t.sourcePositionsS||m.once([])],function(n,e,r){var a=o(n,e);if(t.targetPositionsS){m.push(t.targetPositionsS,a)}r.map(function(t,n){a[n]=t});a.map(function(t,n){var e=i[n];m.push(e.left,t.left);m.push(e.width,t.width)})});return{minSize:m.map(u,function(n){return{w:n.reduce(function(t,n){return t+n.w},t.padding*(a.length-1)),h:function(t){var e=o(t,n);return e.map(function(t,r){return n[r].h(e[r].width)}).reduce(h,0)}}})}})});var le=n(function(t){t=t||{};t.top=t.top||50;t.transition=t.transition||"1s";return Ct(function(n,e,r){var i={top:m.create()};var a=r(i);wt(a,"top",t.transition);var u=false;m.push(i.top,t.top);m.combine([e.top,L,k,T],function(t,n,e,r){if(!u&&r){var a=e+n;if(t<=a){m.push(i.top,0);u=true}}});return{minSize:a.minSize}})});var fe=n(function(t){t=t||{};t.transition=t.transition||"1s";t.margin=t.margin||0;return Ct(function(n,e,r){var i=r();var a=false;i.el.style.opacity=0;setTimeout(function(){wt(i,"opacity ",t.transition)});m.combine([e.top,L,k,T],function(n,e,r,u){if(!a&&u){var o=r+e;if(n+t.margin<=o){i.el.style.opacity=1;a=true}}});return{minSize:i.minSize}})});var he=n(function(t,n){t=t||{};t.leftTransition=t.leftTransition||"0s";var e=m.once(false);var r={left:"left",right:"right"};var i=m.once({index:0,edge:"left"});var a=0;return Ct(function(n,r,o){n.classList.add("slider");n.style.overflowX="hidden";n.style.cursor="move";var c=m.create();var l=m.combine([r.width,c,i,e],function(t,n,e,r){var i=e.edge==="left"?0:t;n.map(function(t,n){if(n<e.index){i-=t.w}if(e.edge==="right"&&n===e.index){i-=t.w}});if(r!==false){i+=r}return i});var f=m.combine([c,l],function(t,n){return t.reduce(function(t,n){t.arr.push(t.lastValue);t.lastValue+=n.w;return t},{arr:[],lastValue:n}).arr});var s=o.map(function(t,n){return{top:S,left:m.map(f,function(t){return t[n]}),width:m.create(),height:r.height}});var v=o.map(function(t,n){var e=t(s[n]);m.onValue(e.minSize,function(t){m.push(s[n].width,t.w)});return e});m.pushAll(Nt(v,r),c);var d=m.onValue(c,function(t){return t.reduce(function(t,n){return t+n.w},0)});n.style.userSelect="none";n.addEventListener("mousedown",function(t){t.preventDefault();m.push(e,0);v.map(function(t){wt(t,"left","0s")})});var p=function(n){v.map(function(n){wt(n,"left ",t.leftTransition)});var a=c.lastValue;var u=r.width.lastValue;var o=e.lastValue;if(!o){return}var f=l.lastValue;var h=a.reduce(function(t,n){var e=t[t.length-1];t.push(e-n.w);return t},[0]);var s=h.reduce(function(t,n,e){var r=Math.abs(n-f);var i=Math.abs(n-(f-u));return{left:r<t.left.distance?{distance:r,index:e}:t.left,right:i<t.right.distance?{distance:i,index:e-1}:t.right}},{left:{distance:Number.MAX_VALUE,index:-1},right:{distance:Number.MAX_VALUE,index:-1}});if(s.left.distance<=s.right.distance){m.push(i,{index:s.left.index,edge:"left"})}else{m.push(i,{index:s.right.index,edge:"right"})}m.push(e,false);n.preventDefault()};n.addEventListener("mouseup",p);n.addEventListener("mouseout",p);n.addEventListener("mousemove",function(t){var n=e.lastValue;var i=d.lastValue;var u=r.width.lastValue;var o=l.lastValue;if(n!==false){var c=t.clientX-a;var f=o+c;f=Math.min(0,f);if(i>u){f=Math.max(u-i,f)}c=f-o;n=n+c;m.push(e,n)}a=t.clientX});return{minSize:m.map(c,function(t){return{w:t.reduce(function(t,n){return t+n.w}),h:u(t.map(function(t){return t.h(t.w)}).reduce(h,0))}})}})});var se=n(function(t){t=t||{};t.padding=t.padding||0;t.surplusHeight=t.surplusHeight||In;t.collapsePadding=t.collapsePadding||false;t.transition=t.transition||0;return Ct(function(n,e,r){n.classList.add("stack");if(r.length===0){return{minSize:z}}var i=[];var a=r.map(function(t){var n={widthCalc:m.once("100%"),top:m.create(),height:m.create()};i.push(n);return t(n)});if(t.transition){a.map(function(n){wt(n,"height",t.transition+"s");wt(n,"top",t.transition+"s")})}var u=Nt(a);m.combine([e.width,e.height,u],function(n,e,r){var a=0;var u=r.map(function(e,r){var i=e.h(n);var u={top:a,height:i};if(t.collapsePadding){if(i>0){a+=i+t.padding}}else{a+=i+t.padding}return u});u=t.surplusHeight(e,u);u.map(function(t,n){var e=i[n];m.push(e.top,t.top);m.push(e.height,t.height)})});return{minSize:m.map(u,function(n){return{w:n.reduce(function(t,n){return Math.max(t,n.w)},0),h:function(e){var r=n.map(function(t){return t.h(e)});return r.reduce(l,t.padding*(r.filter(function(n){return!t.collapsePadding||n>0}).length-1))}}})}})});var ve=n(function(t){t=t||{};t.padding=t.padding||0;t.surplusHeight=t.surplusHeight||In;t.transition=t.transition||0;return function(n){return Lt(function(e,r,a){var o=m.once(0);var c=m.once(u(0));var f=[];var h=[];var s=[];var v=function(){var n=r.width.lastValue;var e=r.height.lastValue;var i=[];h.map(function(t,n){i[n]=t.minSize.lastValue});if(!i.reduce(function(t,n){return t&&n!==undefined},true)){return}m.push(o,i.reduce(function(t,n){return t+n.w},0));m.push(c,function(n){return i.map(function(t){return t.h(n)}).reduce(l,t.padding*(h.length-1))});if(n===undefined){return}if(e===undefined){return}var a=0;var u=-1;var s=i.map(function(e){u+=1;var r=e.h(n);var i={top:a+t.padding*u,height:r};a+=r;return i});s=t.surplusHeight(e,s);f.map(function(t,n){var e=s[n];m.push(t.top,e.top);m.push(t.height,e.height)});return true};m.onValue(r.width,v);m.onValue(r.height,v);var d=[];var p=-1;var g=function(t,n){for(var e=d.length;e>n;e--){d[e+1]=d[e];s[e+1]=s[e];f[e+1]=f[e];h[e+1]=h[e]}p+=1;var r={top:m.create(),height:m.create()};var i=a(t,r);d[p]=t;s[p]=m.map(i.minSize,v);f[p]=r;h[p]=i;return p};var w=function(t){var n=d.indexOf(t);h[n].remove();s[n]();delete d[n];delete mwDeleteListeners[n];delete mhDeleteListeners[n];delete f[n];delete h[n];v()};m.onValue(n,function(t){i({insert:g,insertMany:function(t){t.map(g)},remove:w},t)});return{minSize:m.combine([o,c],function(t,n){return{w:t,h:n}})}})}});var de=function(t,n){var e=[];t.map(function(t){e.push(t);e.push(n)});e.pop();return e};var pe=n(function(t){t=t||{};return Ct(function(n,e,r){n.style.overflowX="auto";var i=m.create();var a=m.create();var u=r({width:i,height:a});var o;if(t.minWidth){if(typeof t.minWidth==="number"){o=m.once(t.minWidth)}if(typeof t.minWidth==="function"){o=m.map(m.prop(u.minSize,"w"),t.minWidth)}}else{o=m.prop(u.minSize,"w")}m.combine([u.minSize,e.width,e.height],function(t,n,e){m.push(i,Math.max(t.w,n));m.push(a,e-(t.w>n?yt():0))});var c=m.combine([u.minSize],function(t){return function(n){if(t.w>n){return t.h(n)+yt()}else{return t.h(n)}}});return{minSize:m.combine([o,c],function(t,n){return{w:t,h:n}})}})});var me=n(function(t){t=t||{};return Ct(function(n,e,r){n.style.overflowY="auto";var i=m.create();var a=m.create();var o=r({width:i,height:a});var c;if(t.hasOwnProperty("minHeight")){if(typeof t.minHeight==="number"){c=m.once(u(t.minHeight))}if(typeof t.minHeight==="function"){c=m.map(m.prop(o.minSize,"h"),t.minHeight)}}else{c=m.prop(o.minSize,"h")}m.combine([o.minSize,e.width,e.height],function(t,n,e){var r=t.h(n);m.push(i,n-(r>e?yt():0));m.push(a,Math.max(r,e))});var l=m.map(o.minSize,function(t){return mw+yt()});return{minSize:m.combine([l,c],function(t,n){return{w:t,h:n}})}})});var ge=function(t){if(!t||typeof t==="function"){throw"Margin must be called with 1 argument.\n\n"+(new Error).stack}var n=t.all||0,e=t.all||0,r=t.all||0,i=t.all||0;if(typeof t==="number"){n=e=r=i=t}else{for(var a in t){var u=a.toLowerCase();if(t[a]!==null){if(u.indexOf("top")!==-1){n=t[a]||0}if(u.indexOf("bottom")!==-1){e=t[a]||0}if(u.indexOf("left")!==-1){r=t[a]||0}if(u.indexOf("right")!==-1){i=t[a]||0}}}}return Ct(function(t,a,u){t.classList.add("margin");var o=u({top:m.once(n),left:m.once(r),width:m.map(a.width,function(t){return t-r-i}),height:m.map(a.height,function(t){return t-n-e}),widthCalc:m.once("100% - "+y(r+i)),heightCalc:m.once("100% - "+y(n+e))});return{minSize:m.map(o.minSize,function(t){return{w:t.w+r+i,h:function(a){return t.h(a-r-i)+n+e}}})}})};var we=function(t){var n=m.create();var e=m.create();var r=m.create();var i=m.create();m.map(t,function(t){var a=t.all||0,u=t.all||0,o=t.all||0,c=t.all||0;if(typeof t==="number"){a=u=o=c=t}else{for(var l in t){var f=l.toLowerCase();if(t[l]!==null){if(f.indexOf("top")!==-1){a=t[l]}if(f.indexOf("bottom")!==-1){u=t[l]}if(f.indexOf("left")!==-1){o=t[l]}if(f.indexOf("right")!==-1){c=t[l]}}}}m.push(n,a);m.push(e,u);m.push(r,o);m.push(i,c)});return Ct(function(t,a,u){var o=u({top:n,left:r,height:m.combine([a.height,n,e],function(t,n,e){return t-n-e}),width:m.combine([a.width,r,i],function(t,n,e){return t-n-e})});return{minSize:m.combine([o.minSize,r,i,n,e],function(t,n,e,r,i){return{w:t.w+n+e,h:function(n){return t.h(n)+r+i}}})}})};var ye=function(t){t=t||{};return Ct(function(t,n,e,r,i){t.classList.add("alignLRM");var a={width:m.create()};var u={width:m.create(),left:m.create()};var o={width:m.create(),left:m.create()};var c=e(a);var l=r(u);var f=i(o);m.combine([c.minSize,l.minSize,f.minSize,n.width],function(t,n,e,r){m.push(a.width,Math.min(r,t.w));m.push(u.width,Math.min(r,n.w));m.push(o.width,Math.min(r,e.w));m.push(u.left,r-Math.min(r,n.w));m.push(o.left,(r-Math.min(r,e.w))/2)});return{minSize:m.combine([c.minSize,l.minSize,f.minSize],function(t,n,e){var r=t.w;var i=n.w;var a=e.w;var u=t.h;var o=n.h;var c=e.h;return{w:a>0?a+2*Math.max(r,i):r+i,h:function(t){return[u(Math.min(t,r)),o(Math.min(t,i)),c(Math.min(t,a))].reduce(h)}}})}})(t.l||Hn,t.r||Hn,t.m||t.c||Hn)};var be=function(t){return ye({l:t})};var Se=function(t){return ye({r:t})};var xe=n(function(t){return function(n){return ye(t)({m:n})}});var ze=function(t){t=t||{};return Ct(function(t,n,e,r,i){t.classList.add("alignTBM");var a={height:m.create()};var u={height:m.create(),top:m.create()};var o={height:m.create(),top:m.create()};var c=e(a);var l=r(u);var f=i(o);m.combine([c.minSize,l.minSize,f.minSize,n.width,n.height],function(t,n,e,r,i){m.push(a.height,Math.min(i,t.h(r)));m.push(u.height,Math.min(i,n.h(r)));m.push(o.height,Math.min(i,e.h(r)));m.push(u.top,Math.max(0,i-Math.min(i,n.h(r))));m.push(o.top,Math.max(0,(i-Math.min(i,e.h(r)))/2))});return{minSize:m.combine([c.minSize,l.minSize,f.minSize],function(t,n,e){return{w:[t.w,n.w,e.w].reduce(h),h:function(r){var i=t.h(r);var a=n.h(r);var u=e.h(r);return u>0?u+2*Math.max(i,a):i+a}}})}})(t.t||Hn,t.b||Hn,t.m||t.c||Hn)};var Ce=function(t){return ze({t:t})};var Le=function(t){return ze({b:t})};var Me=function(t){return ze({m:t})};var He=function(t){return ye({l:t})};var Ve=function(t){return ye({r:t})};var ke=function(t){return ye({m:t})};var Ae=Mt([ke,Me]);var Te=function(t,n,e){if(!t||!n){throw"Border must be called with at least 2 arguments.\n\n"+(new Error).stack}var r=n.left||n.all||0;var i=n.right||n.all||0;var a=n.top||n.all||0;var u=n.bottom||n.all||0;var o=n.radius||0;if(typeof n==="number"){a=u=r=i=n}e=e||"solid";if(!m.isStream(t)){t=m.once(t)}var c=m.map(t,Ft);var l=Ct(function(t,n,l){t.classList.add("border");var f=l();t.style.borderRadius=y(o);m.map(c,function(n){t.style.borderLeft=y(r)+" "+e+" "+n;t.style.borderRight=y(i)+" "+e+" "+n;t.style.borderTop=y(a)+" "+e+" "+n;t.style.borderBottom=y(u)+" "+e+" "+n});return{minSize:m.map(f.minSize,function(t){return{w:t.w+r+i,h:function(n){return t.h(n-r-i)+a+u}}})}});return function(t){return Mt([tn(null,{width:function(t,n){return t-r-i},height:function(t,n){return t-a-u},widthCalc:function(t,n){return t+" - "+(r+i)},heightCalc:function(t,n){return t+" - "+(a+u)}})])(l(t))}};var Ee=function(t){return Lt(function(n,e,r){n.classList.add("componentStream");var i;var a;var u=m.create();var o=m.onValue(t,function(t){if(i){i.remove()}if(a){a()}i=r(t,{widthCalc:m.once("100%"),heightCalc:m.once("100%")},{noRemove:true});a=m.pushAll(i.minSize,u);return i});return{minSize:u,remove:function(){if(i){i.remove()}}}})};var We=function(t,n){var e=t.map(m.once);return n.apply(null,e)};var Pe=function(t,n){return We([t],n)};var Oe=function(t,n,e){var r;var i;return Lt(function(a,u,o){a.classList.add("component-stream-with-exit");var c=m.create();m.pushAll(t,c);var l=m.create();var f=function(t){if(r){(function(t){setTimeout(function(){n(t,i).then(function(){t.remove()})})})(r)}i={widthCalc:m.once("100%"),heightCalc:m.once("100%")};r=o(t,i,{noRemove:true});r.el.style.transition="inherit";r.el.style.display="none";a.prepend(r.el);m.pushAll(r.minSize,l);m.defer(function(){r.el.style.display="";if(e){e(r,i)}})};m.map(c,function(t){f(t)});return{minSize:l,remove:function(){m.end(c);if(r){r.remove()}}}})};var Re=function(t,n){var e=m.create();if(n){m.push(e,n||Hn)}t.then(function(t){m.push(e,t)},function(t){console.log(t)}).catch(function(t){console.log(t)});return Ee(e)};var Fe=function(t,n){return Ee(m.map(n,function(n){return t[n]}))};var Ie=function(t){return function(n,e){var r=m.once(false);m.pushAll(n,r);e=e||0;return Ct(function(t,n,i){t.classList.add("modalDialog");var a=i({top:S,left:S,width:m.map(C,function(t){return document.body.clientWidth}),height:L});t=a.el;t.style.zIndex=100;document.body.appendChild(t);t.style.position="fixed";wt(a,"opacity",e+"s");t.style.display="none";m.onValue(r,function(n){if(n){t.style.display="";setTimeout(function(){t.style.opacity=1},100)}else{t.style.opacity=0;setTimeout(function(){t.style.display="none"},e*1e3)}});return{minSize:z}})(t)}};var Be=function(t){return Ct(function(n,e,r){n.classList.add("toggle-height");n.style.overflow="hidden";var i={height:m.create()};var a=r(i);m.pushAll(m.combine([a.minSize,e.width,e.height],function(t,n,e){return Math.max(e,t.h(n))}),i.height);return{minSize:m.combine([a.minSize,t],function(t,n){return{w:t.w,h:function(e){return n?t.h(e):0}}})}})};var De=function(t,n,e,r){r=r||{};r.transition=r.transition||0;if(!t||!n||!e){console.error("dropdownPanel requires 3 arguments")}return Ct(function(t,n,e,r){t.classList.add("dropdown-panel");var i={height:m.create(),top:m.create()};var a=r(i);var u=e();Qt(i,a);m.pushAll(n.height,i.top);return{minSize:m.combine([a.minSize,u.minSize],function(t,n){return{w:Math.max(t.w,n.w),h:n.h}})}})(t,Ct(function(t,n,i){var a={top:m.combine([e,n.height],function(t,n){return t?0:-n})};if(r.panelHeightS){m.pushAll(a.height,r.panelHeightS)}var u=i(a);wt(u,"top ",r.transition+"s");return{minSize:u.minSize}})(n))};var je=function(t,n,e,r){r=r||{};r.transition=r.transition||0;return Ct(function(t,n,e,r){t.classList.add("side-sliding-panel");var i={width:m.create(),height:m.create(),left:m.create(),top:m.create()};var a=e();var u=r(i);_t(i,u);m.combineInto([n.height,L,u.minSize],function(t,n,e){return Math.max(n-t,e.h(e.w))},i.height);m.pushAll(n.height,i.top);m.combineInto([n.width,u.minSize],function(t,n){return t-n.w},i.left);return{minSize:m.combine([u.minSize,a.minSize],function(t,n){return{w:t.w+n.w,h:n.h}})}})(t,Ct(function(t,n,i){var a=i({left:m.combine([e,n.width],function(t,n){return t?0:n})});wt(a,"left ",r.transition+"s");return{minSize:a.minSize}})(n))};var Ne=n(function(t){t=t||{};t.transition=t.transition||"0s";return Ct(function(n,e,r,i){n.classList.add("fixed-header-body");var a=m.create();var u=m.create();var o=i({top:a,width:e.width,height:u,heightCalc:m.map(a,function(t){return"100% - "+y(t)})});var c=r({width:e.width,height:a});m.combine([e.width,e.height,c.minSize],function(t,n,e){var r=e.h(t);m.push(a,r);m.push(u,n-r)});c.el.style.position="fixed";setTimeout(function(){wt(c,"height",t.transition);wt(o,"top",t.transition);wt(o,"height",t.transition)});return{minSize:m.combine([o.minSize,c.minSize],function(t,n){return{w:t.w+n.w,h:function(e){return t.h(e)+n.h(e)}}})}})});var Ye=n(function(t){return Ct(function(n,e,r){if(typeof t==="number"){t=m.once(t)}t=t||S;n.classList.add("makeSticky");var i=r();m.combine([k,t,e.top,e.left],function(t,n,e,r){m.defer(function(){if(e>t+n){i.el.style.position="absolute";i.el.style.top=y(0);i.el.style.left=y(0)}else if(e<t+n){var a=r;i.el.style.position="fixed";i.el.style.left=y(a);i.el.style.top=y(n)}})});return{minSize:i.minSize}})},function(t){return!(typeof t==="number")&&!m.isStream(t)});var qe=function(t){return function(n,e){var r=Math.min(t,n.length-1);return e[r].h(n[r].width)}};var Xe=function(t,n){return t.reduce(function(t,e,r){return Math.max(t,n[r].h(e.width))},0)};var Ue=function(t,n){var e=t.cells[t.cells.length-1];var r=n.cells[n.cells.length-1];return{left:Math.min(t.cells[0].left,rows2.cells[0].left),right:Math.max(e.left+e.width,r.left+r.width)}};var _e=function(t,n){var e=t.cells[t.cells.length-1];var r=n.cells[n.cells.length-1];return{left:Math.max(t.cells[0].left,n.cells[0].left),right:Math.min(e.left+e.width,r.left+r.width)}};var Qe=function(t,n){var e=t.cells[t.cells.length-1];var r=n.cells[n.cells.length-1];return{left:(t.cells[0].left+n.cells[0].left)/2,right:(e.left+e.width+r.left+r.width)/2}};var Ge=n(function(t){t=t||{};t.padding=t.padding||0;t.surplusWidth=t.surplusWidth||Fn;t.surplusHeight=t.surplusHeight||In;t.rowHeight=t.rowHeight||Xe;t.maxPerRow=t.maxPerRow||0;t.rowOrColumn=t.rowOrColumn||false;t.splitH=t.splitH||null;t.splitV=t.splitV||t.splitH;t.separatorWidth=t.separatorWidth||Ue;var n=t.padding+(t.splitH?1+t.padding:0);var e=t.padding+(t.splitV?1+t.padding:0);return function(r){return Ct(function(r,i,a){r.classList.add("grid");var o=[];a=a.map(function(t){if(Array.isArray(t)){o.push(t[1]);return t[0]}else{o.push(undefined);return t}});if(t.splitH||t.splitV){var c=a.map(function(){var n=document.createElement("div");n.style.display="none";n.style.backgroundColor=Ft(t.splitH);n.style.position="absolute";n.style.width="1px";r.appendChild(n);return n});var f=a.map(function(){var n=document.createElement("div");n.style.display="none";n.style.backgroundColor=Ft(t.splitV);n.style.position="absolute";n.style.height="1px";r.appendChild(n);return n})}var s=m.create();if(a.length===0){m.push(s,{w:0,h:u(0)})}var v=[];var d=a.map(function(t){var n={top:m.create(),left:m.create(),width:m.create(),height:m.create()};v.push(n);return t(n)});var p=[];var g=o.map(function(t){if(t){var n={top:m.create(),left:m.create(),width:m.create(),height:m.create()};p.push(n);return t(n)}});if(t.transition){d.map(function(n){wt(n,"top",t.transition);wt(n,"height",t.transition)});g.map(function(n){wt(n,"top",t.transition);wt(n,"height",t.transition)});c.map(function(n){n.style.transition="top "+t.transition+", height "+t.transition});f.map(function(n){n.style.transition="top "+t.transition})}var w=m.all(d.map(function(t){return t.minSize}));var y=m.all(g.map(function(t){return t?t.minSize:z}));var b=function(e,r,i){var a=r.map(function(t,n){return Math.max(t.w,i[n].w)});if(t.allSameWidth){var u=a.reduce(h,0);for(var o=0;o<a.length;o++){a[o]=u}}var c;var l=function(){c=0;return{cells:[],cContexts:[],dContexts:[],height:0}};var f=a.reduce(function(r,i,a){var u=r.rows;var o=r.currentRow;var f=o.cells.reduce(function(t,e){return t+e.width+n},0);var h=Math.min(i,e);if(t.maxPerRow>0&&o.cells.length===t.maxPerRow||h>0&&h+f>e){u.push(o);o=l()}o.cells.push({width:h,left:c});o.cContexts.push(v[a]);o.dContexts.push(p[a]);c+=h+n;return{rows:u,currentRow:o}},{rows:[],currentRow:l()});var s=f.rows;s.push(f.currentRow);if(t.rowOrColumn&&f.rows.length>1){s=a.map(function(t,n){return{cells:[{width:t,left:0}],cContexts:[v[n]],dContexts:[p[n]],height:0}})}var d=s.map(function(t){return t.cells});t.surplusWidth(e,d);s.map(function(t,n){t.cells=d[n]});return s};m.combineInto([w,y],function(r,i){return{w:t.useFullWidth?r.reduce(function(t,e,r){return t+Math.max(e.w,i[r].w)+n},-n):r.reduce(function(t,n,e){return Math.max(t,Math.max(n.w,i[e].w))},0),h:function(n){var a=b(n,r,i);var u=0;var o=a.map(function(n){var a=t.rowHeight(n.cells,r.slice(u,u+n.cells.length));var o=t.rowHeight(n.cells,i.slice(u,u+n.cells.length));u+=n.cells.length;return a+o+e}).reduce(l,-e);return o}}},s);m.combine([i.width,i.height,w,y],function(n,r,i,a){var u=b(n,i,a);var o=0;var l=0;if(t.splitH){c.map(function(t){R(t,"display","none")})}if(t.splitV){f.map(function(t){R(t,"display","none")})}u.map(function(n){var e=t.rowHeight(n.cells,i.slice(o,o+n.cells.length));n.dHeights=a.slice(o,o+n.cells.length).map(function(t,e){return t.h(n.cells[e].width)});var r=n.dHeights.reduce(h,0);n.height=e+r;n.dHeight=r;o+=n.cells.length});if(t.bottomToTop){u=u.slice(0).reverse()}u.map(function(t){t.top=l;l+=t.height+e});u=t.surplusHeight(r,u,t);var s=0;var v=0;u.map(function(n,e){var r=n.cells.map(function(e,r){var i={top:n.top,left:e.left,width:e.width,height:n.height,dTop:n.top+n.height-n.dHeight,dHeight:n.dHeights[r]};if(t.splitH&&r>0){R(c[s],"display","");R(c[s],"top",n.top+"px");R(c[s],"left",e.left-t.padding-1+"px");R(c[s],"height",n.height+"px");s+=1}return i});if(t.splitV&&e>0){R(f[v],"display","");R(f[v],"top",n.top-t.padding-1+"px");var i=t.separatorWidth(u[e-1],u[e]);R(f[v],"left",i.left+"px");R(f[v],"width",i.right-i.left+"px");v+=1}r.map(function(t,e){var r=n.cContexts[e];m.push(r.top,t.top);m.push(r.left,t.left);m.push(r.width,t.width);m.push(r.height,t.dTop-t.top);var i=n.dContexts[e];if(i){m.push(i.top,t.dTop);m.push(i.left,t.left);m.push(i.width,t.width);m.push(i.height,t.dHeight)}})})});return{minSize:s}})(r)}});var Je=n(function(t){t=t||{};t.padding=t.padding||0;return Ct(function(n,e,r,i){var a=[r].concat(i);var u=a.map(function(){return{top:m.create(),left:m.create(),width:m.create(),height:m.create()}});var o=a.map(function(t,n){return t(u[n])});var c=Nt(o);var l=function(n,e){e=e.slice(0);var r=e.shift();var i=e[0].w>n-r.w-2*t.padding?n:r.w;var a=r.h(i);var u=[{left:t.float==="right"?n-i:0,top:0,width:i,height:a}];var o=a+t.padding;var c=0;for(var l=0;l<e.length;l++){var f=e[l];if(c<o&&f.w>n-i-2*t.padding){c=o}var h=c<o?t.float==="right"?t.padding:i+t.padding:t.padding;var s=c;var v=c<o?n-i-2*t.padding:n-2*t.padding;var d=f.h(v);if(t.clearHanging&&c<o&&c+d>o){c=o;h=t.padding;s=c;v=n-2*t.padding;d=f.h(v)}u.push({left:h,top:s,width:v,height:d});c+=d+t.padding}return{dims:u,totalHeight:Math.max(a,c)}};m.combine([e.width,c],function(t,n){l(t,n).dims.map(function(t,n){var e=u[n];m.push(e.left,t.left);m.push(e.top,t.top);m.push(e.width,t.width);m.push(e.height,t.height)})});return{minSize:m.map(c,function(t){return{w:t.reduce(function(t,n){return Math.max(t,n.w)},0),h:function(n){return l(n,t).totalHeight}}})}})});var Ke=function(t){if(typeof t==="number"){return Gt(t)}return Ct(function(n,e,r){n.classList.add("withMinWidthStream");var i=r();return{minSize:m.combine([i.minSize,typeof t==="function"?t(i,e):t],function(t,n){return{w:n,h:t.h}})}})};var Ze=function(t){if(!m.isStream(t)){t=m.once(t)}return Ke(function(n){return m.combine([n.minSize,t],function(t,n){return Math.max(t.w,n)})})};var $e=function(t){if(typeof t==="number"){return Jt(t)}return Ct(function(n,e,r){n.classList.add("withMinHeightStream");var i=r();return{minSize:m.combine([i.minSize,typeof t==="function"?t(i,e):t],function(t,n){return{w:t.w,h:n}})}})};var tr=function(t){if(!m.isStream(t)){t=m.once(t)}return $e(function(n){return m.combine([n.minSize,t],function(t,n){return function(e){return Math.max(t.h(e),n)}})})};var nr=function(t){return Ct(function(n,e,r){n.classList.add("maxHeightStream");var i={height:m.create(),top:m.create()};var a=r(i);m.pushAll(m.combine([a.minSize,e.width,e.height],function(t,n,e){return Math.max(e,t.h(n))}),i.height);var u=k.lastValue;var o=m.map(k,function(t){var n=t-u;u=t;return n});var c=0;var l=m.combine([e.height,i.height,o],function(t,n,e){c-=e;c=Math.min(0,c);c=Math.max(t-n,c);return c});m.pushAll(l,i.top);return{minSize:m.combine([t,a.minSize],function(t,n){return{w:n.w,h:function(n){return Math.min(t,mh(n))}}})}})};var er=n(function(t){return Ct(function(t,n,e){t.classList.add("largest-width-that-fits");var r=e.map(function(t){return t()});var i=Nt(r);var a=function(t,n){var e=n.reduce(function(n,e,r){return n===null||n.mw>t&&n.mw>e.w||n.mw<e.w&&e.w<t?{mw:e.w,index:r}:n},null).index;return e};m.combine([n.width,i],function(t,n){var e=a(t,n);r.map(function(t,n){t.el.style.display=n===e?"":"none"})});return{minSize:m.map(i,function(t){return{w:t.reduce(function(t,n){return Math.max(t,n.w)},0),h:function(n){var e=a(n,t);return t[e].h(n)}}})}})});var rr=n(function(t){return Ct(function(t,n,e){t.classList.add("overlays");var r=e.map(function(t){return t()});var i=Nt(r);return{minSize:m.map(i,function(t){return{w:t.reduce(function(t,n){return Math.max(t,n.w)},0),h:function(n){return t.reduce(function(t,e){return Math.max(t,e.h(n))},0)}}})}})});var ir=n(function(t){t=t||{};t.surplusWidth=t.surplusWidth||Fn;t.surplusHeight=t.surplusHeight||In;t.padding=t.padding||0;t.rowPadding=t.rowPadding||t.padding;t.colPadding=t.colPadding||t.padding;if(!t.hasOwnProperty("wholeRowIndex")){t.wholeRowIndex=-1}return Ct(function(n,e,r){n.classList.add("table");if(r.length===0||r[0].length===0){return z}var i=[];var a=[];var u=[];var o=r.map(function(n){if(t.wholeRowIndex>-1){var e={width:m.create(),top:m.create(),height:m.create()};i.push(e);a.push(n.splice(t.wholeRowIndex,1)[0](e))}var r=[];u.push(r);return n.map(function(t){var n={left:m.create(),width:m.create(),top:m.create(),height:m.create()};r.push(n);return t(n)})});var c=m.all(o.map(function(t){return Nt(t)}));var l=m.all(a.map(function(t){return t.minSize}));var f=function(t){var n=t[0].slice().map(function(t){return t.w});for(var e=1;e<t.length;e++){var r=t[e];for(var i=0;i<r.length;i++){n[i]=Math.max(n[i],r[i].w)}}return n};m.combine([c,e.width,e.height,t.wholeRowIndex>-1?l:S],function(n,e,r,a){var o=f(n);var c=[];o.reduce(function(t,n){c.push({left:t,width:n});return t+n},0);c=t.surplusWidth(e-t.colPadding*(o.length-1),[c])[0];var l=[];n.reduce(function(n,r,i){var u=r.reduce(function(t,n,e){return Math.max(t,n.h(c[e].width))},0);if(t.wholeRowIndex>-1){u=Math.max(u,a[i].h(e)-t.rowPadding)}l.push({top:n,height:u});return n+u},0);l=t.surplusHeight(r-t.rowPadding*(mhss.length-1),l);u.map(function(n,e){n.map(function(n,r){m.push(n.left,c[r].left+t.colPadding*r);m.push(n.width,c[r].width);m.push(n.top,l[e].top+t.rowPadding*(e+.5));m.push(n.height,l[e].height)})});if(t.wholeRowIndex>-1){i.map(function(n,r){m.push(n.width,e);m.push(n.top,l[r].top+t.rowPadding*r);m.push(n.height,l[r].height+t.rowPadding)})}});var h=m.map(c,function(n){return{w:n.reduce(function(t,n){return Math.max(t,n.reduce(function(t,n){return t+n.w},0))},0),h:function(e){var r=f(n);var i=[];r.reduce(function(t,n){i.push({left:t,width:n});return t+n},0);i=t.surplusWidth(e-t.colPadding*(r.length-1),[i])[0];return n.reduce(function(t,n){var e=n.reduce(function(t,n,e){return Math.max(t,n.h(i[e].width))},0);return t+e},0)+t.rowPadding*n.length}}});if(t.wholeRowIndex>-1){h=m.combine([h,l],function(t,n){return{w:n.reduce(function(t,n){return Math.max(t,n.w)},t.w),h:function(e){return Math.max(t.h(e),n.reduce(function(t,n){return t+n.h(e)},0))}}})}return{minWidth:h}})});var ar=function(){var t=m.create();var n=m.combineMany(function(n){m.push(t,n.reduce(function(t,n){return Math.max(t,n.w)},0))});return tn({minSize:function(e){n.addStream(e);return m.combine([e,t],function(t,n){return{w:n,h:t.h}})}})};var ur={h:function(t){return Gt(t)(Hn)},v:function(t){return Jt(t)(Hn)}};var or=function(t){return Mt([Gt(t.h||t.x||0),Jt(t.v||t.y||0)])(Hn)};var cr=function(t){return function(n){for(var e=0;e<t.length;e++){var r=t[e];if(n.indexOf(r.string)===0){return r.router(n.substring(r.string.length))}}}};var lr=function(t){return function(){return t}};var fr=function(t){return function(){return t()}};var hr=function(t){return function(n){for(var e=0;e<t.length;e++){var r=t[e](n);if(r){return r}}}};var sr=function(t){return function(n){return Re(Q(n).then(t))}};var vr=function(t,n){return Ee(m.map(t,function(t){return n(t)}))};var dr=function(t){return function(n){return t()(n)}};var pr={button:function(t,n){return{kind:"button",enabledS:m.once(true),name:t||"",onClick:n}},checkbox:{kind:"checkbox"},date:{kind:"date"},dropdown:function(t){return{kind:"dropdown",options:t}},file:{kind:"file"},hidden:{kind:"hidden"},image:{kind:"image"},number:{kind:"number"},password:{kind:"password"},radios:function(t){return{kind:"radios",options:t}},text:{kind:"text"},textarea:{kind:"textarea"},time:{kind:"time"}};var mr=/(\d*)-(\d*)-(\d*)/;var gr=function(t){var n=mr.exec(t);if(n){var e=new Date;e.setYear(n[1]);e.setMonth(parseInt(n[2])-1);e.setDate(n[3]);return e}};var wr=function(t){if(!t){return}var n=t.getFullYear();var e=t.getMonth()+1;if(e<10){e="0"+e}var r=t.getDate();if(r<10){r="0"+r}return n+"-"+e+"-"+r};var yr=function(t){var n=window.getComputedStyle(t);return parseFloat(n.marginTop)+parseFloat(n.paddingTop)+parseFloat(n.borderTopWidth)};var br=function(t){var n=window.getComputedStyle(t);return parseFloat(n.marginBottom)+parseFloat(n.paddingBottom)+parseFloat(n.borderBottomWidth)};var Sr=function(t){var n=window.getComputedStyle(t);return parseFloat(n.marginLeft)+parseFloat(n.paddingLeft)+parseFloat(n.borderLeftWidth)};var xr=function(t){var n=window.getComputedStyle(t);return parseFloat(n.marginRight)+parseFloat(n.paddingRight)+parseFloat(n.borderRightWidth)};var zr=tn({},{width:function(t,n){return t-Sr(n)-xr(n)},height:function(t,n){return t-yr(n)-br(n)},widthCalc:function(t,n){return t+" - "+(Sr(n)+xr(n))},heightCalc:function(t,n){return t+" - "+(yr(n)+br(n))}});var Cr=tn({},{width:function(t,n){return t-Sr(n)-xr(n)},height:function(t,n){return t-yr(n)-br(n)},widthCalc:function(t,n){return t+" - "+(Sr(n)+xr(n))},heightCalc:function(t,n){return t+" - "+(yr(n)+br(n))}});var Lr=tn({},{width:function(t,n){return t-Sr(n)-xr(n)},height:function(t,n){return t-yr(n)-br(n)},widthCalc:function(t,n){return t+" - "+(Sr(n)+xr(n))},heightCalc:function(t,n){return t+" - "+(yr(n)+br(n))}});var Mr=tn({},{width:function(t,n){return t-Sr(n)-xr(n)},height:function(t,n){return t-yr(n)-br(n)},widthCalc:function(t,n){return t+" - "+(Sr(n)+xr(n))},heightCalc:function(t,n){return t+" - "+(yr(n)+br(n))}});var Hr={button:function(t){var n=t.type;var e=t.stream||m.create();return Mt([qt(function(t){m.map(n.enabledS,function(n){t.el.disabled=!n})}),un(function(t){if(!n.enabledS.lastValue){t.preventDefault();return}n.onClick&&n.onClick(t,e,function(){m.push(n.enabledS,false);return function(){m.push(n.enabledS,true)}})})])(On({str:n.name},{el:Z,measureWidth:true}))},checkbox:function(t){var n=t.name;var e=t.stream||m.create();return Mt([Lr])(lt(function(t,r,i){t.id=n;t.name=n;t.type="checkbox";m.onValue(e,function(n){t.checked=n?"checked":""});t.addEventListener("blur",function(){m.push(e,t.checked)});t.addEventListener("change",function(){m.push(e,t.checked)});i()}))},date:function(t){var n=t.name;var e=t.stream||m.create();return Mt([zr])(lt(function(t,r,i){i();t.name=n;t.type="date";m.onValue(e,function(n){if((n&&n.getTime())!==(t.value&&gr(t.value).getTime())){t.value=wr(n)}});t.addEventListener("blur",function(){m.push(e,gr(t.value))});t.addEventListener("change",function(){m.push(e,gr(t.value))});t.addEventListener("keyup",function(){m.push(e,t.value)})}))},dropdown:function(t){var n=t.name;var e=t.type;var r=t.stream||m.create();return pt(function(t,i,a){t.name=n;e.options.map(function(n){if("string"===typeof n){n={name:n,value:n}}var e=document.createElement("option");e.innerHTML=n.name;e.value=n.value;t.appendChild(e)});if(!r.lastValue){m.push(r,t.value)}m.onValue(r,function(n){if(n!==t.value){t.value=n}});t.addEventListener("blur",function(){m.push(r,t.value)});t.addEventListener("change",function(){m.push(r,t.value)});a()})},file:function(t){var n=t.name;var e=t.stream||m.create();return lt(function(t,r,i){t.name=n;t.type="file";i();t.addEventListener("change",function(t){i();m.push(e,t.target.files)})})},hidden:function(t){var n=t.name;var e=t.stream||m.create();return lt(function(t){t.name=n;t.type="hidden";m.onValue(e,function(n){t.value=n});return{minWidth:S,minHeight:x}})},image:function(t){var n=t.name;var e=t.stream||m.create();return lt(function(t,r,i){t.name=n;t.type="file";t.accept="image/*";i();t.addEventListener("change",function(t){i();var n=t.target.files.length>0&&t.target.files[0];if(n){var r=new FileReader;r.onload=function(t){m.push(e,t.target.result)};r.readAsDataURL(t.target.files[0])}})})},number:function(t){var n=t.name;var e=t.stream||m.create();return Mt([zr])(lt(function(r,i,a){a();if(t.hasOwnProperty("step")){r.step=t.step}r.name=n;r.type="number";m.onValue(e,function(t){if(t!==r.value){r.value=t}});r.addEventListener("blur",function(){m.push(e,r.value)});r.addEventListener("change",function(){m.push(e,r.value)});r.addEventListener("keyup",function(){m.push(e,r.value)})}))},password:function(t){var n=t.name;var e=t.stream||m.create();return Mt([zr])(lt(function(t,r,i){i();t.name=n;t.type="password";m.onValue(e,function(n){if(n!==t.value){t.value=n}});t.addEventListener("blur",function(){m.push(e,t.value)});t.addEventListener("change",function(){m.push(e,t.value)});t.addEventListener("keyup",function(){m.push(e,t.value)})}))},radios:function(t){var n=t.name;var e=t.type;var r=t.stream||m.create();return e.options.map(function(t){return Mt([Mr])(lt(function(e,i,a){e.id=t;e.value=t;e.name=n;e.type="radio";m.onValue(r,function(n){e.checked=n===t?"checked":""});e.addEventListener("change",function(){if(e.checked){m.push(r,t)}});a()}))})},text:function(t){var n=t.name;var e=t.stream||m.create();return Mt([zr])(lt(function(t,r,i){i();t.name=n;m.onValue(e,function(n){if(n!==t.value){t.value=n}});t.addEventListener("blur",function(){m.push(e,t.value)});t.addEventListener("change",function(){m.push(e,t.value)});t.addEventListener("keyup",function(){m.push(e,t.value)})}))},textarea:function(t){var n=t.name;var e=t.stream||m.create();return Mt([Cr])(mt(function(t,r){t.name=n;m.onValue(e,function(n){if(n!==t.value){t.value=n}});t.addEventListener("blur",function(){m.push(e,t.value)});t.addEventListener("change",function(){m.push(e,t.value)});t.addEventListener("keyup",function(){m.push(e,t.value)});var i=Y(t);var a=q(t);var o=m.once({w:i,h:u(a)});var c=function(){m.defer(function(){t.style.width="calc("+(r.widthCalc?r.widthCalc.lastValue:y(r.width.lastValue))+")";t.style.height="calc("+(r.heightCalc?r.heightCalc.lastValue:y(r.height.lastValue))+")"})};var l=function(){var n=Y(t);var e=q(t);if(i!==n||a!==e){m.push(o,{w:n,h:u(e)});i=n;a=e}};document.body.addEventListener("mousemove",l);document.body.addEventListener("mouseup",c);t.addEventListener("click",l);return{minSize:o,remove:function(){document.body.removeEventListener("mousemove",l);document.body.removeEventListener("mouseup",c)}}}))},time:function(t){var n=t.name;var e=t.stream||m.create();return Mt([zr])(lt(function(t,r,i){i();t.name=n;t.type="time";m.onValue(e,function(n){if(n!==t.value){t.value=n}});t.addEventListener("blur",function(){m.push(e,t.value)});t.addEventListener("change",function(){m.push(e,t.value)});t.addEventListener("keyup",function(){m.push(e,t.value)})}))}};var Vr=function(n){if(n.type.type){t("fieldType type property.  Now use kind property instead.")}return Hr[n.type.kind||n.type.type](n)};for(var kr in Hr){if(Hr.hasOwnProperty(kr)){Vr[kr]=Hr[kr]}}var Ar=u(Mt([Gt(150)]));var Tr=function(t,n,e){return function(r){return se([t.label?(n||On)(t.label):Hn,He(r),(e||function(t){return On({str:t})})(t.validationMessageS)])}};var Er=function(t){return Mt([Tr(t),tr(100)])};var Wr=function(t,n,e){return function(r){return se([t.label?(n||On)(t.label):Hn,He(r),Ee(m.map(t.stream,function(t){return t?Mt([zn({fill:true}),Gt(0)])(Cn({src:t})):Hn})),(e||function(t){return On({str:t})})(t.validationMessageS)])}};var Pr={button:Ar,checkbox:Tr,date:Tr,dropdown:Tr,file:Tr,hidden:u(c),image:Wr,number:Tr,password:Tr,radios:Tr,text:Tr,textarea:Tr,time:Tr};var Or=function(t,n,e){return function(r){return t[r.type.kind](r,n,e)}};var Rr=function(n,e){t("formFor taking a highly curried sequence of arguments.  See documentation.");return function(r,i){i=i||{};return function(a){a=a||{};return function(o){return function(l){l=l||{};var f=Object.keys(r);return function(h){var s={};var v={};f.map(function(n){var o=a[n];var f=o?m.once(o):m.create();var h=i[n];var d=r[n];if(d.type){t("fieldType type property.  Now use kind property instead.")}var p=d&&l[d.kind||d.type]||u(c);s[n]=f;v[n]=p(h,n,f,d)(e[d.kind||d.type]({name:n,stream:f,type:d}))});var d=m.once(false);var p=function(e){var r=n();if(r.type){t("fieldType type property.  Now use kind property instead.")}var i=l[r.kind||r.type]||u(c);return i("",m.create(),r,e)(On({el:Z,measureWidth:true},{str:e}),e)};if(typeof o==="function"){var g=o(s,function(){m.push(d,true);return function(){m.push(d,false)}});var w=function(t){t.addEventListener("submit",function(t){if(d.lastValue){t.preventDefault();return}g.onSubmit(t)})}}else{var w=function(t){t.method=o.method;t.action=o.action}}return Ct("form",function(t,n,e){w(t);return e()})(h(v,p,s,g&&g.resultS))}}}}}};var Fr=function(t,n,e){if(typeof n!=="function"){return Rr(t,n)}var r=function(r,i,a){var u={};var o={};var c=[];Object.keys(i).map(function(e){var r=i[e];r.name=e;r.stream=r.default!==undefined?m.once(r.default):m.create();u[e]=r.stream;r.validateS=r.validate?r.validate(r.stream,u):m.once("");r.validationMessageS=m.map(r.validateS,function(t){if(!t){return""}if(typeof t==="object"){return t.message||""}return t});r.isValidS=m.map(r.validateS,function(t){if(!t){return true}if(typeof t==="object"){return t.valid}return t.length===0});c.push(r.isValidS);o[e]=n(r)(t[r.type.kind](r))});var l=m.map(m.all(c),function(t){return t.reduce(function(t,n){return t&&n},true)});var f=m.once(false);var h=m.combine([l,f],function(t,n){return!t||n});var s=e?function(t){return e(t,h)}:function(t){return Mt([qt(function(t){m.map(h,function(n){t.el.disabled=n})})])(On({el:Z,measureWidth:true},{str:t}))};var v=function(){m.push(f,true);return function(){m.push(f,false)}};if(typeof r==="function"){var d=function(t){t.addEventListener("submit",function(t){r(t,v(),u)})}}else{var d=function(t){t.method=r.method;t.action=r.action}}return Ct("form",function(t,n,e){d(t);var r=e();return{minSize:r.minSize}})(a(o,s,u))};return function(t,n,e){if(!e){return function(e){return r(t,n,e)}}return r(t,n,e)}};var Ir={color:{color:Et,create:Et,toString:Ft},component:{adjustPosition:tn,alignH:ye,alignHorizontal:ye,alignHL:He,alignHLeft:He,alignHM:ke,alignHMiddle:ke,alignHR:Ve,alignHRight:Ve,alignLRM:ye,alignMiddle:Ae,alignTBM:ze,alignV:ze,alignVertical:ze,alignVB:Le,alignVBottom:Le,alignVM:Me,alignVMiddle:Me,alignVT:Ce,alignVTop:Ce,all:Mt,and:qt,backgroundColor:bn,barH:ur.h,barV:ur.v,basicFloat:Je,border:Te,box:or,changeThis:an,clickThis:un,component:G,componentStream:Ee,compose:Mt,container:Lt,crop:Sn,css:Xt,cssStream:yn,dimensions:Kt,dropdownPanel:De,empty:Mn,fadeIn:fe,fixedHeaderBody:Ne,grid:Ge,hoverThis:gn,hoverStream:wn,keepAspectRatio:zn,keydownThis:cn,keyupThis:ln,image:Cn,largestWidthThatFits:er,layout:Ct,link:nn,linkTo:Ln,makeSticky:Ye,margin:ge,maxHeightStream:nr,minHeight:$e,minHeightStream:$e,minHeightAtLeast:tr,minWidth:Ke,minWidthAtLeast:Ze,minWidthStream:Ke,mousedownThis:fn,mousemoveThis:hn,mouseoverThis:sn,mouseoutThis:vn,mouseupThis:dn,nothing:Hn,onThis:en,overflowHorizontal:pe,overflowVertical:me,overlays:rr,padding:ge,passthrough:Zt,promiseComponent:Re,scope:dr,shareMinWidths:ar,sideBySide:ce,sideSlidingPanel:je,slideIn:le,slider:he,slideshow:oe,stack:se,stream:Pe,streams:We,submitThis:pn,table:ir,text:On,toggleHeight:Be,transition:Ut,wrap:$t},displayedS:T,element:{a:K,button:Z,div:$,form:tt,h1:nt,h2:et,h3:rt,h4:it,h5:at,h6:ut,iframe:ot,img:ct,input:lt,label:ft,li:ht,option:st,p:vt,pre:dt,select:pt,textarea:mt,ul:gt},forms:{defaultStyle:Or,formComponent:Hr,formFor:Fr,formStyle:Pr,fieldType:pr},funcs:{constant:u,extend:d,id:c,rowHeight:{useMaxHeight:Xe,useNthMinHeight:qe},separatorWidth:{useAverage:Qe,useMax:Ue,useMin:_e},surplusWidth:{ignore:Fn,center:Bn,centerFirstRowThenAlignLeft:Yn,centerLargestRowThenAlignLeft:qn,evenlySplit:Dn,evenlySplitCenter:jn,evenSplit:Dn,evenSplitCenter:jn,justify:Un,justifyAndCenter:_n,giveToNth:$n,eachRow:Rn},surplusHeight:{ignore:In,center:re,evenSplit:ie,giveToNth:ae}},measure:{height:U,width:X},rootComponent:Tt,routing:{matchStrings:cr,route:vr,routeMatchRest:sr,routeToComponentF:fr,routeToFirst:hr},stream:m,transition:wt,unit:{px:y},viewport:{fullWidthS:C,heightS:L,scrollS:k,widthS:V}};window.hcj=Ir})();